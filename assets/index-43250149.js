(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dh={exports:{}},Al={},hh={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eo=Symbol.for("react.element"),Sm=Symbol.for("react.portal"),bm=Symbol.for("react.fragment"),Om=Symbol.for("react.strict_mode"),km=Symbol.for("react.profiler"),Tm=Symbol.for("react.provider"),Nm=Symbol.for("react.context"),Cm=Symbol.for("react.forward_ref"),Am=Symbol.for("react.suspense"),xm=Symbol.for("react.memo"),Im=Symbol.for("react.lazy"),Mc=Symbol.iterator;function Pm(t){return t===null||typeof t!="object"?null:(t=Mc&&t[Mc]||t["@@iterator"],typeof t=="function"?t:null)}var ph={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vh=Object.assign,yh={};function Ur(t,e,n){this.props=t,this.context=e,this.refs=yh,this.updater=n||ph}Ur.prototype.isReactComponent={};Ur.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ur.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mh(){}mh.prototype=Ur.prototype;function du(t,e,n){this.props=t,this.context=e,this.refs=yh,this.updater=n||ph}var hu=du.prototype=new mh;hu.constructor=du;vh(hu,Ur.prototype);hu.isPureReactComponent=!0;var jc=Array.isArray,gh=Object.prototype.hasOwnProperty,pu={current:null},_h={key:!0,ref:!0,__self:!0,__source:!0};function Eh(t,e,n){var r,i={},o=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)gh.call(e,r)&&!_h.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),d=0;d<s;d++)a[d]=arguments[d+2];i.children=a}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:eo,type:t,key:o,ref:l,props:i,_owner:pu.current}}function Rm(t,e){return{$$typeof:eo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vu(t){return typeof t=="object"&&t!==null&&t.$$typeof===eo}function Lm(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Fc=/\/+/g;function ls(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Lm(""+t.key):e.toString(36)}function Io(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case eo:case Sm:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+ls(l,0):r,jc(i)?(n="",t!=null&&(n=t.replace(Fc,"$&/")+"/"),Io(i,e,n,"",function(d){return d})):i!=null&&(vu(i)&&(i=Rm(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Fc,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",jc(t))for(var s=0;s<t.length;s++){o=t[s];var a=r+ls(o,s);l+=Io(o,e,n,a,i)}else if(a=Pm(t),typeof a=="function")for(t=a.call(t),s=0;!(o=t.next()).done;)o=o.value,a=r+ls(o,s++),l+=Io(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function co(t,e,n){if(t==null)return t;var r=[],i=0;return Io(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Dm(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nt={current:null},Po={transition:null},Mm={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:Po,ReactCurrentOwner:pu};function wh(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:co,forEach:function(t,e,n){co(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return co(t,function(){e++}),e},toArray:function(t){return co(t,function(e){return e})||[]},only:function(t){if(!vu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=Ur;ae.Fragment=bm;ae.Profiler=km;ae.PureComponent=du;ae.StrictMode=Om;ae.Suspense=Am;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mm;ae.act=wh;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vh({},t.props),i=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=pu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(a in e)gh.call(e,a)&&!_h.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&s!==void 0?s[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var d=0;d<a;d++)s[d]=arguments[d+2];r.children=s}return{$$typeof:eo,type:t.type,key:i,ref:o,props:r,_owner:l}};ae.createContext=function(t){return t={$$typeof:Nm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Tm,_context:t},t.Consumer=t};ae.createElement=Eh;ae.createFactory=function(t){var e=Eh.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:Cm,render:t}};ae.isValidElement=vu;ae.lazy=function(t){return{$$typeof:Im,_payload:{_status:-1,_result:t},_init:Dm}};ae.memo=function(t,e){return{$$typeof:xm,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=Po.transition;Po.transition={};try{t()}finally{Po.transition=e}};ae.unstable_act=wh;ae.useCallback=function(t,e){return nt.current.useCallback(t,e)};ae.useContext=function(t){return nt.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return nt.current.useDeferredValue(t)};ae.useEffect=function(t,e){return nt.current.useEffect(t,e)};ae.useId=function(){return nt.current.useId()};ae.useImperativeHandle=function(t,e,n){return nt.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return nt.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return nt.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return nt.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return nt.current.useReducer(t,e,n)};ae.useRef=function(t){return nt.current.useRef(t)};ae.useState=function(t){return nt.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return nt.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return nt.current.useTransition()};ae.version="18.3.1";hh.exports=ae;var xt=hh.exports;const jm=fh(xt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm=xt,Bm=Symbol.for("react.element"),qm=Symbol.for("react.fragment"),$m=Object.prototype.hasOwnProperty,Um=Fm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zm={key:!0,ref:!0,__self:!0,__source:!0};function Sh(t,e,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)$m.call(e,r)&&!zm.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Bm,type:t,key:o,ref:l,props:i,_owner:Um.current}}Al.Fragment=qm;Al.jsx=Sh;Al.jsxs=Sh;dh.exports=Al;var ne=dh.exports,Ks={},bh={exports:{}},mt={},Oh={exports:{}},kh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,j){var L=z.length;z.push(j);e:for(;0<L;){var C=L-1>>>1,R=z[C];if(0<i(R,j))z[C]=j,z[L]=R,L=C;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var j=z[0],L=z.pop();if(L!==j){z[0]=L;e:for(var C=0,R=z.length,D=R>>>1;C<D;){var $=2*(C+1)-1,B=z[$],I=$+1,F=z[I];if(0>i(B,L))I<R&&0>i(F,B)?(z[C]=F,z[I]=L,C=I):(z[C]=B,z[$]=L,C=$);else if(I<R&&0>i(F,L))z[C]=F,z[I]=L,C=I;else break e}}return j}function i(z,j){var L=z.sortIndex-j.sortIndex;return L!==0?L:z.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var a=[],d=[],y=1,c=null,u=3,p=!1,_=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(z){for(var j=n(d);j!==null;){if(j.callback===null)r(d);else if(j.startTime<=z)r(d),j.sortIndex=j.expirationTime,e(a,j);else break;j=n(d)}}function v(z){if(g=!1,m(z),!_)if(n(a)!==null)_=!0,q(w);else{var j=n(d);j!==null&&U(v,j.startTime-z)}}function w(z,j){_=!1,g&&(g=!1,h(k),k=-1),p=!0;var L=u;try{for(m(j),c=n(a);c!==null&&(!(c.expirationTime>j)||z&&!b());){var C=c.callback;if(typeof C=="function"){c.callback=null,u=c.priorityLevel;var R=C(c.expirationTime<=j);j=t.unstable_now(),typeof R=="function"?c.callback=R:c===n(a)&&r(a),m(j)}else r(a);c=n(a)}if(c!==null)var D=!0;else{var $=n(d);$!==null&&U(v,$.startTime-j),D=!1}return D}finally{c=null,u=L,p=!1}}var N=!1,S=null,k=-1,x=5,O=-1;function b(){return!(t.unstable_now()-O<x)}function T(){if(S!==null){var z=t.unstable_now();O=z;var j=!0;try{j=S(!0,z)}finally{j?A():(N=!1,S=null)}}else N=!1}var A;if(typeof f=="function")A=function(){f(T)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,M=P.port2;P.port1.onmessage=T,A=function(){M.postMessage(null)}}else A=function(){E(T,0)};function q(z){S=z,N||(N=!0,A())}function U(z,j){k=E(function(){z(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,q(w))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return u},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(z){switch(u){case 1:case 2:case 3:var j=3;break;default:j=u}var L=u;u=j;try{return z()}finally{u=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,j){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var L=u;u=z;try{return j()}finally{u=L}},t.unstable_scheduleCallback=function(z,j,L){var C=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?C+L:C):L=C,z){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=L+R,z={id:y++,callback:j,priorityLevel:z,startTime:L,expirationTime:R,sortIndex:-1},L>C?(z.sortIndex=L,e(d,z),n(a)===null&&z===n(d)&&(g?(h(k),k=-1):g=!0,U(v,L-C))):(z.sortIndex=R,e(a,z),_||p||(_=!0,q(w))),z},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(z){var j=u;return function(){var L=u;u=j;try{return z.apply(this,arguments)}finally{u=L}}}})(kh);Oh.exports=kh;var Hm=Oh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm=xt,yt=Hm;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Th=new Set,Pi={};function rr(t,e){Pr(t,e),Pr(t+"Capture",e)}function Pr(t,e){for(Pi[t]=e,t=0;t<e.length;t++)Th.add(e[t])}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gs=Object.prototype.hasOwnProperty,Vm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bc={},qc={};function Km(t){return Gs.call(qc,t)?!0:Gs.call(Bc,t)?!1:Vm.test(t)?qc[t]=!0:(Bc[t]=!0,!1)}function Gm(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qm(t,e,n,r){if(e===null||typeof e>"u"||Gm(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rt(t,e,n,r,i,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ke[t]=new rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ke[e]=new rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ke[t]=new rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ke[t]=new rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ke[t]=new rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ke[t]=new rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ke[t]=new rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ke[t]=new rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ke[t]=new rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var yu=/[\-:]([a-z])/g;function mu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yu,mu);Ke[e]=new rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yu,mu);Ke[e]=new rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yu,mu);Ke[e]=new rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ke[t]=new rt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ke[t]=new rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function gu(t,e,n,r){var i=Ke.hasOwnProperty(e)?Ke[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qm(e,n,i,r)&&(n=null),r||i===null?Km(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var sn=Wm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fo=Symbol.for("react.element"),ur=Symbol.for("react.portal"),cr=Symbol.for("react.fragment"),_u=Symbol.for("react.strict_mode"),Qs=Symbol.for("react.profiler"),Nh=Symbol.for("react.provider"),Ch=Symbol.for("react.context"),Eu=Symbol.for("react.forward_ref"),Ys=Symbol.for("react.suspense"),Xs=Symbol.for("react.suspense_list"),wu=Symbol.for("react.memo"),dn=Symbol.for("react.lazy"),Ah=Symbol.for("react.offscreen"),$c=Symbol.iterator;function ni(t){return t===null||typeof t!="object"?null:(t=$c&&t[$c]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,ss;function yi(t){if(ss===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ss=e&&e[1]||""}return`
`+ss+t}var as=!1;function us(t,e){if(!t||as)return"";as=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,s=o.length-1;1<=l&&0<=s&&i[l]!==o[s];)s--;for(;1<=l&&0<=s;l--,s--)if(i[l]!==o[s]){if(l!==1||s!==1)do if(l--,s--,0>s||i[l]!==o[s]){var a=`
`+i[l].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=l&&0<=s);break}}}finally{as=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yi(t):""}function Ym(t){switch(t.tag){case 5:return yi(t.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 2:case 15:return t=us(t.type,!1),t;case 11:return t=us(t.type.render,!1),t;case 1:return t=us(t.type,!0),t;default:return""}}function Zs(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cr:return"Fragment";case ur:return"Portal";case Qs:return"Profiler";case _u:return"StrictMode";case Ys:return"Suspense";case Xs:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ch:return(t.displayName||"Context")+".Consumer";case Nh:return(t._context.displayName||"Context")+".Provider";case Eu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wu:return e=t.displayName||null,e!==null?e:Zs(t.type)||"Memo";case dn:e=t._payload,t=t._init;try{return Zs(t(e))}catch{}}return null}function Xm(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zs(e);case 8:return e===_u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function An(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Zm(t){var e=xh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ho(t){t._valueTracker||(t._valueTracker=Zm(t))}function Ih(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xh(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Js(t,e){var n=e.checked;return xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Uc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=An(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ph(t,e){e=e.checked,e!=null&&gu(t,"checked",e,!1)}function ea(t,e){Ph(t,e);var n=An(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ta(t,e.type,n):e.hasOwnProperty("defaultValue")&&ta(t,e.type,An(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ta(t,e,n){(e!=="number"||zo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mi=Array.isArray;function Sr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+An(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function na(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(mi(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:An(n)}}function Rh(t,e){var n=An(e.value),r=An(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Wc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Lh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ra(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Lh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var po,Dh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(po=po||document.createElement("div"),po.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=po.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ri(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jm=["Webkit","ms","Moz","O"];Object.keys(Ei).forEach(function(t){Jm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ei[e]=Ei[t]})});function Mh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ei.hasOwnProperty(t)&&Ei[t]?(""+e).trim():e+"px"}function jh(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Mh(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var eg=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ia(t,e){if(e){if(eg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function oa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var la=null;function Su(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sa=null,br=null,Or=null;function Vc(t){if(t=ro(t)){if(typeof sa!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=Ll(e),sa(t.stateNode,t.type,e))}}function Fh(t){br?Or?Or.push(t):Or=[t]:br=t}function Bh(){if(br){var t=br,e=Or;if(Or=br=null,Vc(t),e)for(t=0;t<e.length;t++)Vc(e[t])}}function qh(t,e){return t(e)}function $h(){}var cs=!1;function Uh(t,e,n){if(cs)return t(e,n);cs=!0;try{return qh(t,e,n)}finally{cs=!1,(br!==null||Or!==null)&&($h(),Bh())}}function Li(t,e){var n=t.stateNode;if(n===null)return null;var r=Ll(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var aa=!1;if(en)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){aa=!0}}),window.addEventListener("test",ri,ri),window.removeEventListener("test",ri,ri)}catch{aa=!1}function tg(t,e,n,r,i,o,l,s,a){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(y){this.onError(y)}}var wi=!1,Ho=null,Wo=!1,ua=null,ng={onError:function(t){wi=!0,Ho=t}};function rg(t,e,n,r,i,o,l,s,a){wi=!1,Ho=null,tg.apply(ng,arguments)}function ig(t,e,n,r,i,o,l,s,a){if(rg.apply(this,arguments),wi){if(wi){var d=Ho;wi=!1,Ho=null}else throw Error(Y(198));Wo||(Wo=!0,ua=d)}}function ir(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kc(t){if(ir(t)!==t)throw Error(Y(188))}function og(t){var e=t.alternate;if(!e){if(e=ir(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Kc(i),t;if(o===r)return Kc(i),e;o=o.sibling}throw Error(Y(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function Hh(t){return t=og(t),t!==null?Wh(t):null}function Wh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Wh(t);if(e!==null)return e;t=t.sibling}return null}var Vh=yt.unstable_scheduleCallback,Gc=yt.unstable_cancelCallback,lg=yt.unstable_shouldYield,sg=yt.unstable_requestPaint,Pe=yt.unstable_now,ag=yt.unstable_getCurrentPriorityLevel,bu=yt.unstable_ImmediatePriority,Kh=yt.unstable_UserBlockingPriority,Vo=yt.unstable_NormalPriority,ug=yt.unstable_LowPriority,Gh=yt.unstable_IdlePriority,xl=null,Ht=null;function cg(t){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(xl,t,void 0,(t.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:hg,fg=Math.log,dg=Math.LN2;function hg(t){return t>>>=0,t===0?32:31-(fg(t)/dg|0)|0}var vo=64,yo=4194304;function gi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ko(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var s=l&~i;s!==0?r=gi(s):(o&=l,o!==0&&(r=gi(o)))}else l=n&~i,l!==0?r=gi(l):o!==0&&(r=gi(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dt(e),i=1<<n,r|=t[n],e&=~i;return r}function pg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vg(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Dt(o),s=1<<l,a=i[l];a===-1?(!(s&n)||s&r)&&(i[l]=pg(s,e)):a<=e&&(t.expiredLanes|=s),o&=~s}}function ca(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qh(){var t=vo;return vo<<=1,!(vo&4194240)&&(vo=64),t}function fs(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function to(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dt(e),t[e]=n}function yg(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Dt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Ou(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function Yh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xh,ku,Zh,Jh,ep,fa=!1,mo=[],gn=null,_n=null,En=null,Di=new Map,Mi=new Map,pn=[],mg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qc(t,e){switch(t){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Di.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(e.pointerId)}}function ii(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ro(e),e!==null&&ku(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gg(t,e,n,r,i){switch(e){case"focusin":return gn=ii(gn,t,e,n,r,i),!0;case"dragenter":return _n=ii(_n,t,e,n,r,i),!0;case"mouseover":return En=ii(En,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Di.set(o,ii(Di.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Mi.set(o,ii(Mi.get(o)||null,t,e,n,r,i)),!0}return!1}function tp(t){var e=qn(t.target);if(e!==null){var n=ir(e);if(n!==null){if(e=n.tag,e===13){if(e=zh(n),e!==null){t.blockedOn=e,ep(t.priority,function(){Zh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ro(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=da(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);la=r,n.target.dispatchEvent(r),la=null}else return e=ro(n),e!==null&&ku(e),t.blockedOn=n,!1;e.shift()}return!0}function Yc(t,e,n){Ro(t)&&n.delete(e)}function _g(){fa=!1,gn!==null&&Ro(gn)&&(gn=null),_n!==null&&Ro(_n)&&(_n=null),En!==null&&Ro(En)&&(En=null),Di.forEach(Yc),Mi.forEach(Yc)}function oi(t,e){t.blockedOn===e&&(t.blockedOn=null,fa||(fa=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,_g)))}function ji(t){function e(i){return oi(i,t)}if(0<mo.length){oi(mo[0],t);for(var n=1;n<mo.length;n++){var r=mo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gn!==null&&oi(gn,t),_n!==null&&oi(_n,t),En!==null&&oi(En,t),Di.forEach(e),Mi.forEach(e),n=0;n<pn.length;n++)r=pn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pn.length&&(n=pn[0],n.blockedOn===null);)tp(n),n.blockedOn===null&&pn.shift()}var kr=sn.ReactCurrentBatchConfig,Go=!0;function Eg(t,e,n,r){var i=ye,o=kr.transition;kr.transition=null;try{ye=1,Tu(t,e,n,r)}finally{ye=i,kr.transition=o}}function wg(t,e,n,r){var i=ye,o=kr.transition;kr.transition=null;try{ye=4,Tu(t,e,n,r)}finally{ye=i,kr.transition=o}}function Tu(t,e,n,r){if(Go){var i=da(t,e,n,r);if(i===null)ws(t,e,r,Qo,n),Qc(t,r);else if(gg(i,t,e,n,r))r.stopPropagation();else if(Qc(t,r),e&4&&-1<mg.indexOf(t)){for(;i!==null;){var o=ro(i);if(o!==null&&Xh(o),o=da(t,e,n,r),o===null&&ws(t,e,r,Qo,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ws(t,e,r,null,n)}}var Qo=null;function da(t,e,n,r){if(Qo=null,t=Su(r),t=qn(t),t!==null)if(e=ir(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zh(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qo=t,null}function np(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ag()){case bu:return 1;case Kh:return 4;case Vo:case ug:return 16;case Gh:return 536870912;default:return 16}default:return 16}}var yn=null,Nu=null,Lo=null;function rp(){if(Lo)return Lo;var t,e=Nu,n=e.length,r,i="value"in yn?yn.value:yn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[o-r];r++);return Lo=i.slice(t,1<r?1-r:void 0)}function Do(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function go(){return!0}function Xc(){return!1}function gt(t){function e(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?go:Xc,this.isPropagationStopped=Xc,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),e}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cu=gt(zr),no=xe({},zr,{view:0,detail:0}),Sg=gt(no),ds,hs,li,Il=xe({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(ds=t.screenX-li.screenX,hs=t.screenY-li.screenY):hs=ds=0,li=t),ds)},movementY:function(t){return"movementY"in t?t.movementY:hs}}),Zc=gt(Il),bg=xe({},Il,{dataTransfer:0}),Og=gt(bg),kg=xe({},no,{relatedTarget:0}),ps=gt(kg),Tg=xe({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ng=gt(Tg),Cg=xe({},zr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ag=gt(Cg),xg=xe({},zr,{data:0}),Jc=gt(xg),Ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lg(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Rg[t])?!!e[t]:!1}function Au(){return Lg}var Dg=xe({},no,{key:function(t){if(t.key){var e=Ig[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Do(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(t){return t.type==="keypress"?Do(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Do(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mg=gt(Dg),jg=xe({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ef=gt(jg),Fg=xe({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),Bg=gt(Fg),qg=xe({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),$g=gt(qg),Ug=xe({},Il,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zg=gt(Ug),Hg=[9,13,27,32],xu=en&&"CompositionEvent"in window,Si=null;en&&"documentMode"in document&&(Si=document.documentMode);var Wg=en&&"TextEvent"in window&&!Si,ip=en&&(!xu||Si&&8<Si&&11>=Si),tf=String.fromCharCode(32),nf=!1;function op(t,e){switch(t){case"keyup":return Hg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fr=!1;function Vg(t,e){switch(t){case"compositionend":return lp(e);case"keypress":return e.which!==32?null:(nf=!0,tf);case"textInput":return t=e.data,t===tf&&nf?null:t;default:return null}}function Kg(t,e){if(fr)return t==="compositionend"||!xu&&op(t,e)?(t=rp(),Lo=Nu=yn=null,fr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ip&&e.locale!=="ko"?null:e.data;default:return null}}var Gg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Gg[t.type]:e==="textarea"}function sp(t,e,n,r){Fh(r),e=Yo(e,"onChange"),0<e.length&&(n=new Cu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var bi=null,Fi=null;function Qg(t){gp(t,0)}function Pl(t){var e=pr(t);if(Ih(e))return t}function Yg(t,e){if(t==="change")return e}var ap=!1;if(en){var vs;if(en){var ys="oninput"in document;if(!ys){var of=document.createElement("div");of.setAttribute("oninput","return;"),ys=typeof of.oninput=="function"}vs=ys}else vs=!1;ap=vs&&(!document.documentMode||9<document.documentMode)}function lf(){bi&&(bi.detachEvent("onpropertychange",up),Fi=bi=null)}function up(t){if(t.propertyName==="value"&&Pl(Fi)){var e=[];sp(e,Fi,t,Su(t)),Uh(Qg,e)}}function Xg(t,e,n){t==="focusin"?(lf(),bi=e,Fi=n,bi.attachEvent("onpropertychange",up)):t==="focusout"&&lf()}function Zg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pl(Fi)}function Jg(t,e){if(t==="click")return Pl(e)}function e_(t,e){if(t==="input"||t==="change")return Pl(e)}function t_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ft=typeof Object.is=="function"?Object.is:t_;function Bi(t,e){if(Ft(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gs.call(e,i)||!Ft(t[i],e[i]))return!1}return!0}function sf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function af(t,e){var n=sf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sf(n)}}function cp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fp(){for(var t=window,e=zo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zo(t.document)}return e}function Iu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function n_(t){var e=fp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cp(n.ownerDocument.documentElement,n)){if(r!==null&&Iu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=af(n,o);var l=af(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var r_=en&&"documentMode"in document&&11>=document.documentMode,dr=null,ha=null,Oi=null,pa=!1;function uf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pa||dr==null||dr!==zo(r)||(r=dr,"selectionStart"in r&&Iu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oi&&Bi(Oi,r)||(Oi=r,r=Yo(ha,"onSelect"),0<r.length&&(e=new Cu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=dr)))}function _o(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hr={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionend:_o("Transition","TransitionEnd")},ms={},dp={};en&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);function Rl(t){if(ms[t])return ms[t];if(!hr[t])return t;var e=hr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dp)return ms[t]=e[n];return t}var hp=Rl("animationend"),pp=Rl("animationiteration"),vp=Rl("animationstart"),yp=Rl("transitionend"),mp=new Map,cf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(t,e){mp.set(t,e),rr(e,[t])}for(var gs=0;gs<cf.length;gs++){var _s=cf[gs],i_=_s.toLowerCase(),o_=_s[0].toUpperCase()+_s.slice(1);Pn(i_,"on"+o_)}Pn(hp,"onAnimationEnd");Pn(pp,"onAnimationIteration");Pn(vp,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(yp,"onTransitionEnd");Pr("onMouseEnter",["mouseout","mouseover"]);Pr("onMouseLeave",["mouseout","mouseover"]);Pr("onPointerEnter",["pointerout","pointerover"]);Pr("onPointerLeave",["pointerout","pointerover"]);rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l_=new Set("cancel close invalid load scroll toggle".split(" ").concat(_i));function ff(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ig(r,e,void 0,t),t.currentTarget=null}function gp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var l=r.length-1;0<=l;l--){var s=r[l],a=s.instance,d=s.currentTarget;if(s=s.listener,a!==o&&i.isPropagationStopped())break e;ff(i,s,d),o=a}else for(l=0;l<r.length;l++){if(s=r[l],a=s.instance,d=s.currentTarget,s=s.listener,a!==o&&i.isPropagationStopped())break e;ff(i,s,d),o=a}}}if(Wo)throw t=ua,Wo=!1,ua=null,t}function Ee(t,e){var n=e[_a];n===void 0&&(n=e[_a]=new Set);var r=t+"__bubble";n.has(r)||(_p(e,t,2,!1),n.add(r))}function Es(t,e,n){var r=0;e&&(r|=4),_p(n,t,r,e)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function qi(t){if(!t[Eo]){t[Eo]=!0,Th.forEach(function(n){n!=="selectionchange"&&(l_.has(n)||Es(n,!1,t),Es(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eo]||(e[Eo]=!0,Es("selectionchange",!1,e))}}function _p(t,e,n,r){switch(np(e)){case 1:var i=Eg;break;case 4:i=wg;break;default:i=Tu}n=i.bind(null,e,n,t),i=void 0,!aa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ws(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;l=l.return}for(;s!==null;){if(l=qn(s),l===null)return;if(a=l.tag,a===5||a===6){r=o=l;continue e}s=s.parentNode}}r=r.return}Uh(function(){var d=o,y=Su(n),c=[];e:{var u=mp.get(t);if(u!==void 0){var p=Cu,_=t;switch(t){case"keypress":if(Do(n)===0)break e;case"keydown":case"keyup":p=Mg;break;case"focusin":_="focus",p=ps;break;case"focusout":_="blur",p=ps;break;case"beforeblur":case"afterblur":p=ps;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Og;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Bg;break;case hp:case pp:case vp:p=Ng;break;case yp:p=$g;break;case"scroll":p=Sg;break;case"wheel":p=zg;break;case"copy":case"cut":case"paste":p=Ag;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ef}var g=(e&4)!==0,E=!g&&t==="scroll",h=g?u!==null?u+"Capture":null:u;g=[];for(var f=d,m;f!==null;){m=f;var v=m.stateNode;if(m.tag===5&&v!==null&&(m=v,h!==null&&(v=Li(f,h),v!=null&&g.push($i(f,v,m)))),E)break;f=f.return}0<g.length&&(u=new p(u,_,null,n,y),c.push({event:u,listeners:g}))}}if(!(e&7)){e:{if(u=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",u&&n!==la&&(_=n.relatedTarget||n.fromElement)&&(qn(_)||_[tn]))break e;if((p||u)&&(u=y.window===y?y:(u=y.ownerDocument)?u.defaultView||u.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=d,_=_?qn(_):null,_!==null&&(E=ir(_),_!==E||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=d),p!==_)){if(g=Zc,v="onMouseLeave",h="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(g=ef,v="onPointerLeave",h="onPointerEnter",f="pointer"),E=p==null?u:pr(p),m=_==null?u:pr(_),u=new g(v,f+"leave",p,n,y),u.target=E,u.relatedTarget=m,v=null,qn(y)===d&&(g=new g(h,f+"enter",_,n,y),g.target=m,g.relatedTarget=E,v=g),E=v,p&&_)t:{for(g=p,h=_,f=0,m=g;m;m=sr(m))f++;for(m=0,v=h;v;v=sr(v))m++;for(;0<f-m;)g=sr(g),f--;for(;0<m-f;)h=sr(h),m--;for(;f--;){if(g===h||h!==null&&g===h.alternate)break t;g=sr(g),h=sr(h)}g=null}else g=null;p!==null&&df(c,u,p,g,!1),_!==null&&E!==null&&df(c,E,_,g,!0)}}e:{if(u=d?pr(d):window,p=u.nodeName&&u.nodeName.toLowerCase(),p==="select"||p==="input"&&u.type==="file")var w=Yg;else if(rf(u))if(ap)w=e_;else{w=Zg;var N=Xg}else(p=u.nodeName)&&p.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(w=Jg);if(w&&(w=w(t,d))){sp(c,w,n,y);break e}N&&N(t,u,d),t==="focusout"&&(N=u._wrapperState)&&N.controlled&&u.type==="number"&&ta(u,"number",u.value)}switch(N=d?pr(d):window,t){case"focusin":(rf(N)||N.contentEditable==="true")&&(dr=N,ha=d,Oi=null);break;case"focusout":Oi=ha=dr=null;break;case"mousedown":pa=!0;break;case"contextmenu":case"mouseup":case"dragend":pa=!1,uf(c,n,y);break;case"selectionchange":if(r_)break;case"keydown":case"keyup":uf(c,n,y)}var S;if(xu)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else fr?op(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(ip&&n.locale!=="ko"&&(fr||k!=="onCompositionStart"?k==="onCompositionEnd"&&fr&&(S=rp()):(yn=y,Nu="value"in yn?yn.value:yn.textContent,fr=!0)),N=Yo(d,k),0<N.length&&(k=new Jc(k,t,null,n,y),c.push({event:k,listeners:N}),S?k.data=S:(S=lp(n),S!==null&&(k.data=S)))),(S=Wg?Vg(t,n):Kg(t,n))&&(d=Yo(d,"onBeforeInput"),0<d.length&&(y=new Jc("onBeforeInput","beforeinput",null,n,y),c.push({event:y,listeners:d}),y.data=S))}gp(c,e)})}function $i(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yo(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Li(t,n),o!=null&&r.unshift($i(t,o,i)),o=Li(t,e),o!=null&&r.push($i(t,o,i))),t=t.return}return r}function sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function df(t,e,n,r,i){for(var o=e._reactName,l=[];n!==null&&n!==r;){var s=n,a=s.alternate,d=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&d!==null&&(s=d,i?(a=Li(n,o),a!=null&&l.unshift($i(n,a,s))):i||(a=Li(n,o),a!=null&&l.push($i(n,a,s)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var s_=/\r\n?/g,a_=/\u0000|\uFFFD/g;function hf(t){return(typeof t=="string"?t:""+t).replace(s_,`
`).replace(a_,"")}function wo(t,e,n){if(e=hf(e),hf(t)!==e&&n)throw Error(Y(425))}function Xo(){}var va=null,ya=null;function ma(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ga=typeof setTimeout=="function"?setTimeout:void 0,u_=typeof clearTimeout=="function"?clearTimeout:void 0,pf=typeof Promise=="function"?Promise:void 0,c_=typeof queueMicrotask=="function"?queueMicrotask:typeof pf<"u"?function(t){return pf.resolve(null).then(t).catch(f_)}:ga;function f_(t){setTimeout(function(){throw t})}function Ss(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ji(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ji(e)}function wn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Hr=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Hr,Ui="__reactProps$"+Hr,tn="__reactContainer$"+Hr,_a="__reactEvents$"+Hr,d_="__reactListeners$"+Hr,h_="__reactHandles$"+Hr;function qn(t){var e=t[Ut];if(e)return e;for(var n=t.parentNode;n;){if(e=n[tn]||n[Ut]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vf(t);t!==null;){if(n=t[Ut])return n;t=vf(t)}return e}t=n,n=t.parentNode}return null}function ro(t){return t=t[Ut]||t[tn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function Ll(t){return t[Ui]||null}var Ea=[],vr=-1;function Rn(t){return{current:t}}function Oe(t){0>vr||(t.current=Ea[vr],Ea[vr]=null,vr--)}function _e(t,e){vr++,Ea[vr]=t.current,t.current=e}var xn={},Je=Rn(xn),at=Rn(!1),Gn=xn;function Rr(t,e){var n=t.type.contextTypes;if(!n)return xn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ut(t){return t=t.childContextTypes,t!=null}function Zo(){Oe(at),Oe(Je)}function yf(t,e,n){if(Je.current!==xn)throw Error(Y(168));_e(Je,e),_e(at,n)}function Ep(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Y(108,Xm(t)||"Unknown",i));return xe({},n,r)}function Jo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xn,Gn=Je.current,_e(Je,t),_e(at,at.current),!0}function mf(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=Ep(t,e,Gn),r.__reactInternalMemoizedMergedChildContext=t,Oe(at),Oe(Je),_e(Je,t)):Oe(at),_e(at,n)}var Gt=null,Dl=!1,bs=!1;function wp(t){Gt===null?Gt=[t]:Gt.push(t)}function p_(t){Dl=!0,wp(t)}function Ln(){if(!bs&&Gt!==null){bs=!0;var t=0,e=ye;try{var n=Gt;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gt=null,Dl=!1}catch(i){throw Gt!==null&&(Gt=Gt.slice(t+1)),Vh(bu,Ln),i}finally{ye=e,bs=!1}}return null}var yr=[],mr=0,el=null,tl=0,Et=[],wt=0,Qn=null,Qt=1,Yt="";function Dn(t,e){yr[mr++]=tl,yr[mr++]=el,el=t,tl=e}function Sp(t,e,n){Et[wt++]=Qt,Et[wt++]=Yt,Et[wt++]=Qn,Qn=t;var r=Qt;t=Yt;var i=32-Dt(r)-1;r&=~(1<<i),n+=1;var o=32-Dt(e)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Qt=1<<32-Dt(e)+i|n<<i|r,Yt=o+t}else Qt=1<<o|n<<i|r,Yt=t}function Pu(t){t.return!==null&&(Dn(t,1),Sp(t,1,0))}function Ru(t){for(;t===el;)el=yr[--mr],yr[mr]=null,tl=yr[--mr],yr[mr]=null;for(;t===Qn;)Qn=Et[--wt],Et[wt]=null,Yt=Et[--wt],Et[wt]=null,Qt=Et[--wt],Et[wt]=null}var vt=null,pt=null,Te=!1,Pt=null;function bp(t,e){var n=St(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vt=t,pt=wn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vt=t,pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Qn!==null?{id:Qt,overflow:Yt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=St(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vt=t,pt=null,!0):!1;default:return!1}}function wa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sa(t){if(Te){var e=pt;if(e){var n=e;if(!gf(t,e)){if(wa(t))throw Error(Y(418));e=wn(n.nextSibling);var r=vt;e&&gf(t,e)?bp(r,n):(t.flags=t.flags&-4097|2,Te=!1,vt=t)}}else{if(wa(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Te=!1,vt=t}}}function _f(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vt=t}function So(t){if(t!==vt)return!1;if(!Te)return _f(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ma(t.type,t.memoizedProps)),e&&(e=pt)){if(wa(t))throw Op(),Error(Y(418));for(;e;)bp(t,e),e=wn(e.nextSibling)}if(_f(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pt=wn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pt=null}}else pt=vt?wn(t.stateNode.nextSibling):null;return!0}function Op(){for(var t=pt;t;)t=wn(t.nextSibling)}function Lr(){pt=vt=null,Te=!1}function Lu(t){Pt===null?Pt=[t]:Pt.push(t)}var v_=sn.ReactCurrentBatchConfig;function si(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var s=i.refs;l===null?delete s[o]:s[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function bo(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ef(t){var e=t._init;return e(t._payload)}function kp(t){function e(h,f){if(t){var m=h.deletions;m===null?(h.deletions=[f],h.flags|=16):m.push(f)}}function n(h,f){if(!t)return null;for(;f!==null;)e(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function i(h,f){return h=kn(h,f),h.index=0,h.sibling=null,h}function o(h,f,m){return h.index=m,t?(m=h.alternate,m!==null?(m=m.index,m<f?(h.flags|=2,f):m):(h.flags|=2,f)):(h.flags|=1048576,f)}function l(h){return t&&h.alternate===null&&(h.flags|=2),h}function s(h,f,m,v){return f===null||f.tag!==6?(f=xs(m,h.mode,v),f.return=h,f):(f=i(f,m),f.return=h,f)}function a(h,f,m,v){var w=m.type;return w===cr?y(h,f,m.props.children,v,m.key):f!==null&&(f.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===dn&&Ef(w)===f.type)?(v=i(f,m.props),v.ref=si(h,f,m),v.return=h,v):(v=Uo(m.type,m.key,m.props,null,h.mode,v),v.ref=si(h,f,m),v.return=h,v)}function d(h,f,m,v){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=Is(m,h.mode,v),f.return=h,f):(f=i(f,m.children||[]),f.return=h,f)}function y(h,f,m,v,w){return f===null||f.tag!==7?(f=Vn(m,h.mode,v,w),f.return=h,f):(f=i(f,m),f.return=h,f)}function c(h,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=xs(""+f,h.mode,m),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case fo:return m=Uo(f.type,f.key,f.props,null,h.mode,m),m.ref=si(h,null,f),m.return=h,m;case ur:return f=Is(f,h.mode,m),f.return=h,f;case dn:var v=f._init;return c(h,v(f._payload),m)}if(mi(f)||ni(f))return f=Vn(f,h.mode,m,null),f.return=h,f;bo(h,f)}return null}function u(h,f,m,v){var w=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return w!==null?null:s(h,f,""+m,v);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case fo:return m.key===w?a(h,f,m,v):null;case ur:return m.key===w?d(h,f,m,v):null;case dn:return w=m._init,u(h,f,w(m._payload),v)}if(mi(m)||ni(m))return w!==null?null:y(h,f,m,v,null);bo(h,m)}return null}function p(h,f,m,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return h=h.get(m)||null,s(f,h,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case fo:return h=h.get(v.key===null?m:v.key)||null,a(f,h,v,w);case ur:return h=h.get(v.key===null?m:v.key)||null,d(f,h,v,w);case dn:var N=v._init;return p(h,f,m,N(v._payload),w)}if(mi(v)||ni(v))return h=h.get(m)||null,y(f,h,v,w,null);bo(f,v)}return null}function _(h,f,m,v){for(var w=null,N=null,S=f,k=f=0,x=null;S!==null&&k<m.length;k++){S.index>k?(x=S,S=null):x=S.sibling;var O=u(h,S,m[k],v);if(O===null){S===null&&(S=x);break}t&&S&&O.alternate===null&&e(h,S),f=o(O,f,k),N===null?w=O:N.sibling=O,N=O,S=x}if(k===m.length)return n(h,S),Te&&Dn(h,k),w;if(S===null){for(;k<m.length;k++)S=c(h,m[k],v),S!==null&&(f=o(S,f,k),N===null?w=S:N.sibling=S,N=S);return Te&&Dn(h,k),w}for(S=r(h,S);k<m.length;k++)x=p(S,h,k,m[k],v),x!==null&&(t&&x.alternate!==null&&S.delete(x.key===null?k:x.key),f=o(x,f,k),N===null?w=x:N.sibling=x,N=x);return t&&S.forEach(function(b){return e(h,b)}),Te&&Dn(h,k),w}function g(h,f,m,v){var w=ni(m);if(typeof w!="function")throw Error(Y(150));if(m=w.call(m),m==null)throw Error(Y(151));for(var N=w=null,S=f,k=f=0,x=null,O=m.next();S!==null&&!O.done;k++,O=m.next()){S.index>k?(x=S,S=null):x=S.sibling;var b=u(h,S,O.value,v);if(b===null){S===null&&(S=x);break}t&&S&&b.alternate===null&&e(h,S),f=o(b,f,k),N===null?w=b:N.sibling=b,N=b,S=x}if(O.done)return n(h,S),Te&&Dn(h,k),w;if(S===null){for(;!O.done;k++,O=m.next())O=c(h,O.value,v),O!==null&&(f=o(O,f,k),N===null?w=O:N.sibling=O,N=O);return Te&&Dn(h,k),w}for(S=r(h,S);!O.done;k++,O=m.next())O=p(S,h,k,O.value,v),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?k:O.key),f=o(O,f,k),N===null?w=O:N.sibling=O,N=O);return t&&S.forEach(function(T){return e(h,T)}),Te&&Dn(h,k),w}function E(h,f,m,v){if(typeof m=="object"&&m!==null&&m.type===cr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case fo:e:{for(var w=m.key,N=f;N!==null;){if(N.key===w){if(w=m.type,w===cr){if(N.tag===7){n(h,N.sibling),f=i(N,m.props.children),f.return=h,h=f;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===dn&&Ef(w)===N.type){n(h,N.sibling),f=i(N,m.props),f.ref=si(h,N,m),f.return=h,h=f;break e}n(h,N);break}else e(h,N);N=N.sibling}m.type===cr?(f=Vn(m.props.children,h.mode,v,m.key),f.return=h,h=f):(v=Uo(m.type,m.key,m.props,null,h.mode,v),v.ref=si(h,f,m),v.return=h,h=v)}return l(h);case ur:e:{for(N=m.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(h,f.sibling),f=i(f,m.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else e(h,f);f=f.sibling}f=Is(m,h.mode,v),f.return=h,h=f}return l(h);case dn:return N=m._init,E(h,f,N(m._payload),v)}if(mi(m))return _(h,f,m,v);if(ni(m))return g(h,f,m,v);bo(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(h,f.sibling),f=i(f,m),f.return=h,h=f):(n(h,f),f=xs(m,h.mode,v),f.return=h,h=f),l(h)):n(h,f)}return E}var Dr=kp(!0),Tp=kp(!1),nl=Rn(null),rl=null,gr=null,Du=null;function Mu(){Du=gr=rl=null}function ju(t){var e=nl.current;Oe(nl),t._currentValue=e}function ba(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Tr(t,e){rl=t,Du=gr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lt=!0),t.firstContext=null)}function kt(t){var e=t._currentValue;if(Du!==t)if(t={context:t,memoizedValue:e,next:null},gr===null){if(rl===null)throw Error(Y(308));gr=t,rl.dependencies={lanes:0,firstContext:t}}else gr=gr.next=t;return e}var $n=null;function Fu(t){$n===null?$n=[t]:$n.push(t)}function Np(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Fu(e)):(n.next=i.next,i.next=n),e.interleaved=n,nn(t,r)}function nn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hn=!1;function Bu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Sn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,nn(t,n)}return i=r.interleaved,i===null?(e.next=e,Fu(r)):(e.next=i.next,i.next=e),r.interleaved=e,nn(t,n)}function Mo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ou(t,n)}}function wf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function il(t,e,n,r){var i=t.updateQueue;hn=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var a=s,d=a.next;a.next=null,l===null?o=d:l.next=d,l=a;var y=t.alternate;y!==null&&(y=y.updateQueue,s=y.lastBaseUpdate,s!==l&&(s===null?y.firstBaseUpdate=d:s.next=d,y.lastBaseUpdate=a))}if(o!==null){var c=i.baseState;l=0,y=d=a=null,s=o;do{var u=s.lane,p=s.eventTime;if((r&u)===u){y!==null&&(y=y.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var _=t,g=s;switch(u=e,p=n,g.tag){case 1:if(_=g.payload,typeof _=="function"){c=_.call(p,c,u);break e}c=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,u=typeof _=="function"?_.call(p,c,u):_,u==null)break e;c=xe({},c,u);break e;case 2:hn=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,u=i.effects,u===null?i.effects=[s]:u.push(s))}else p={eventTime:p,lane:u,tag:s.tag,payload:s.payload,callback:s.callback,next:null},y===null?(d=y=p,a=c):y=y.next=p,l|=u;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;u=s,s=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(1);if(y===null&&(a=c),i.baseState=a,i.firstBaseUpdate=d,i.lastBaseUpdate=y,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Xn|=l,t.lanes=l,t.memoizedState=c}}function Sf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Y(191,i));i.call(r)}}}var io={},Wt=Rn(io),zi=Rn(io),Hi=Rn(io);function Un(t){if(t===io)throw Error(Y(174));return t}function qu(t,e){switch(_e(Hi,e),_e(zi,t),_e(Wt,io),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ra(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ra(e,t)}Oe(Wt),_e(Wt,e)}function Mr(){Oe(Wt),Oe(zi),Oe(Hi)}function Ap(t){Un(Hi.current);var e=Un(Wt.current),n=ra(e,t.type);e!==n&&(_e(zi,t),_e(Wt,n))}function $u(t){zi.current===t&&(Oe(Wt),Oe(zi))}var Ce=Rn(0);function ol(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Os=[];function Uu(){for(var t=0;t<Os.length;t++)Os[t]._workInProgressVersionPrimary=null;Os.length=0}var jo=sn.ReactCurrentDispatcher,ks=sn.ReactCurrentBatchConfig,Yn=0,Ae=null,Me=null,qe=null,ll=!1,ki=!1,Wi=0,y_=0;function Ge(){throw Error(Y(321))}function zu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ft(t[n],e[n]))return!1;return!0}function Hu(t,e,n,r,i,o){if(Yn=o,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jo.current=t===null||t.memoizedState===null?E_:w_,t=n(r,i),ki){o=0;do{if(ki=!1,Wi=0,25<=o)throw Error(Y(301));o+=1,qe=Me=null,e.updateQueue=null,jo.current=S_,t=n(r,i)}while(ki)}if(jo.current=sl,e=Me!==null&&Me.next!==null,Yn=0,qe=Me=Ae=null,ll=!1,e)throw Error(Y(300));return t}function Wu(){var t=Wi!==0;return Wi=0,t}function $t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ae.memoizedState=qe=t:qe=qe.next=t,qe}function Tt(){if(Me===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=qe===null?Ae.memoizedState:qe.next;if(e!==null)qe=e,Me=t;else{if(t===null)throw Error(Y(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},qe===null?Ae.memoizedState=qe=t:qe=qe.next=t}return qe}function Vi(t,e){return typeof e=="function"?e(t):e}function Ts(t){var e=Tt(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=Me,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=l=null,a=null,d=o;do{var y=d.lane;if((Yn&y)===y)a!==null&&(a=a.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var c={lane:y,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};a===null?(s=a=c,l=r):a=a.next=c,Ae.lanes|=y,Xn|=y}d=d.next}while(d!==null&&d!==o);a===null?l=r:a.next=s,Ft(r,e.memoizedState)||(lt=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ae.lanes|=o,Xn|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ns(t){var e=Tt(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=t(o,l.action),l=l.next;while(l!==i);Ft(o,e.memoizedState)||(lt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function xp(){}function Ip(t,e){var n=Ae,r=Tt(),i=e(),o=!Ft(r.memoizedState,i);if(o&&(r.memoizedState=i,lt=!0),r=r.queue,Vu(Lp.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,Ki(9,Rp.bind(null,n,r,i,e),void 0,null),Ue===null)throw Error(Y(349));Yn&30||Pp(n,e,i)}return i}function Pp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Rp(t,e,n,r){e.value=n,e.getSnapshot=r,Dp(e)&&Mp(t)}function Lp(t,e,n){return n(function(){Dp(e)&&Mp(t)})}function Dp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ft(t,n)}catch{return!0}}function Mp(t){var e=nn(t,1);e!==null&&Mt(e,t,1,-1)}function bf(t){var e=$t();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},e.queue=t,t=t.dispatch=__.bind(null,Ae,t),[e.memoizedState,t]}function Ki(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jp(){return Tt().memoizedState}function Fo(t,e,n,r){var i=$t();Ae.flags|=t,i.memoizedState=Ki(1|e,n,void 0,r===void 0?null:r)}function Ml(t,e,n,r){var i=Tt();r=r===void 0?null:r;var o=void 0;if(Me!==null){var l=Me.memoizedState;if(o=l.destroy,r!==null&&zu(r,l.deps)){i.memoizedState=Ki(e,n,o,r);return}}Ae.flags|=t,i.memoizedState=Ki(1|e,n,o,r)}function Of(t,e){return Fo(8390656,8,t,e)}function Vu(t,e){return Ml(2048,8,t,e)}function Fp(t,e){return Ml(4,2,t,e)}function Bp(t,e){return Ml(4,4,t,e)}function qp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $p(t,e,n){return n=n!=null?n.concat([t]):null,Ml(4,4,qp.bind(null,e,t),n)}function Ku(){}function Up(t,e){var n=Tt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zp(t,e){var n=Tt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Hp(t,e,n){return Yn&21?(Ft(n,e)||(n=Qh(),Ae.lanes|=n,Xn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lt=!0),t.memoizedState=n)}function m_(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=ks.transition;ks.transition={};try{t(!1),e()}finally{ye=n,ks.transition=r}}function Wp(){return Tt().memoizedState}function g_(t,e,n){var r=On(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vp(t))Kp(e,n);else if(n=Np(t,e,n,r),n!==null){var i=tt();Mt(n,t,r,i),Gp(n,e,r)}}function __(t,e,n){var r=On(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vp(t))Kp(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,s=o(l,n);if(i.hasEagerState=!0,i.eagerState=s,Ft(s,l)){var a=e.interleaved;a===null?(i.next=i,Fu(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Np(t,e,i,r),n!==null&&(i=tt(),Mt(n,t,r,i),Gp(n,e,r))}}function Vp(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function Kp(t,e){ki=ll=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Gp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ou(t,n)}}var sl={readContext:kt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},E_={readContext:kt,useCallback:function(t,e){return $t().memoizedState=[t,e===void 0?null:e],t},useContext:kt,useEffect:Of,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fo(4194308,4,qp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fo(4,2,t,e)},useMemo:function(t,e){var n=$t();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$t();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=g_.bind(null,Ae,t),[r.memoizedState,t]},useRef:function(t){var e=$t();return t={current:t},e.memoizedState=t},useState:bf,useDebugValue:Ku,useDeferredValue:function(t){return $t().memoizedState=t},useTransition:function(){var t=bf(!1),e=t[0];return t=m_.bind(null,t[1]),$t().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ae,i=$t();if(Te){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),Ue===null)throw Error(Y(349));Yn&30||Pp(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Of(Lp.bind(null,r,o,t),[t]),r.flags|=2048,Ki(9,Rp.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=$t(),e=Ue.identifierPrefix;if(Te){var n=Yt,r=Qt;n=(r&~(1<<32-Dt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=y_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},w_={readContext:kt,useCallback:Up,useContext:kt,useEffect:Vu,useImperativeHandle:$p,useInsertionEffect:Fp,useLayoutEffect:Bp,useMemo:zp,useReducer:Ts,useRef:jp,useState:function(){return Ts(Vi)},useDebugValue:Ku,useDeferredValue:function(t){var e=Tt();return Hp(e,Me.memoizedState,t)},useTransition:function(){var t=Ts(Vi)[0],e=Tt().memoizedState;return[t,e]},useMutableSource:xp,useSyncExternalStore:Ip,useId:Wp,unstable_isNewReconciler:!1},S_={readContext:kt,useCallback:Up,useContext:kt,useEffect:Vu,useImperativeHandle:$p,useInsertionEffect:Fp,useLayoutEffect:Bp,useMemo:zp,useReducer:Ns,useRef:jp,useState:function(){return Ns(Vi)},useDebugValue:Ku,useDeferredValue:function(t){var e=Tt();return Me===null?e.memoizedState=t:Hp(e,Me.memoizedState,t)},useTransition:function(){var t=Ns(Vi)[0],e=Tt().memoizedState;return[t,e]},useMutableSource:xp,useSyncExternalStore:Ip,useId:Wp,unstable_isNewReconciler:!1};function At(t,e){if(t&&t.defaultProps){e=xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Oa(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var jl={isMounted:function(t){return(t=t._reactInternals)?ir(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tt(),i=On(t),o=Zt(r,i);o.payload=e,n!=null&&(o.callback=n),e=Sn(t,o,i),e!==null&&(Mt(e,t,i,r),Mo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tt(),i=On(t),o=Zt(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Sn(t,o,i),e!==null&&(Mt(e,t,i,r),Mo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tt(),r=On(t),i=Zt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Sn(t,i,r),e!==null&&(Mt(e,t,r,n),Mo(e,t,r))}};function kf(t,e,n,r,i,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,l):e.prototype&&e.prototype.isPureReactComponent?!Bi(n,r)||!Bi(i,o):!0}function Qp(t,e,n){var r=!1,i=xn,o=e.contextType;return typeof o=="object"&&o!==null?o=kt(o):(i=ut(e)?Gn:Je.current,r=e.contextTypes,o=(r=r!=null)?Rr(t,i):xn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Tf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&jl.enqueueReplaceState(e,e.state,null)}function ka(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Bu(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=kt(o):(o=ut(e)?Gn:Je.current,i.context=Rr(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Oa(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&jl.enqueueReplaceState(i,i.state,null),il(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function jr(t,e){try{var n="",r=e;do n+=Ym(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Cs(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ta(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var b_=typeof WeakMap=="function"?WeakMap:Map;function Yp(t,e,n){n=Zt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ul||(ul=!0,Ma=r),Ta(t,e)},n}function Xp(t,e,n){n=Zt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ta(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ta(t,e),typeof r!="function"&&(bn===null?bn=new Set([this]):bn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Nf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new b_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=j_.bind(null,t,e,n),e.then(t,t))}function Cf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Af(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zt(-1,1),e.tag=2,Sn(n,e,1))),n.lanes|=1),t)}var O_=sn.ReactCurrentOwner,lt=!1;function et(t,e,n,r){e.child=t===null?Tp(e,null,n,r):Dr(e,t.child,n,r)}function xf(t,e,n,r,i){n=n.render;var o=e.ref;return Tr(e,i),r=Hu(t,e,n,r,o,i),n=Wu(),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,rn(t,e,i)):(Te&&n&&Pu(e),e.flags|=1,et(t,e,r,i),e.child)}function If(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!tc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Zp(t,e,o,r,i)):(t=Uo(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Bi,n(l,r)&&t.ref===e.ref)return rn(t,e,i)}return e.flags|=1,t=kn(o,r),t.ref=e.ref,t.return=e,e.child=t}function Zp(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Bi(o,r)&&t.ref===e.ref)if(lt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(lt=!0);else return e.lanes=t.lanes,rn(t,e,i)}return Na(t,e,n,r,i)}function Jp(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Er,dt),dt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(Er,dt),dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,_e(Er,dt),dt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,_e(Er,dt),dt|=r;return et(t,e,i,n),e.child}function ev(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Na(t,e,n,r,i){var o=ut(n)?Gn:Je.current;return o=Rr(e,o),Tr(e,i),n=Hu(t,e,n,r,o,i),r=Wu(),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,rn(t,e,i)):(Te&&r&&Pu(e),e.flags|=1,et(t,e,n,i),e.child)}function Pf(t,e,n,r,i){if(ut(n)){var o=!0;Jo(e)}else o=!1;if(Tr(e,i),e.stateNode===null)Bo(t,e),Qp(e,n,r),ka(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,s=e.memoizedProps;l.props=s;var a=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=kt(d):(d=ut(n)?Gn:Je.current,d=Rr(e,d));var y=n.getDerivedStateFromProps,c=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function";c||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==r||a!==d)&&Tf(e,l,r,d),hn=!1;var u=e.memoizedState;l.state=u,il(e,r,l,i),a=e.memoizedState,s!==r||u!==a||at.current||hn?(typeof y=="function"&&(Oa(e,n,y,r),a=e.memoizedState),(s=hn||kf(e,n,s,r,u,a,d))?(c||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),l.props=r,l.state=a,l.context=d,r=s):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,Cp(t,e),s=e.memoizedProps,d=e.type===e.elementType?s:At(e.type,s),l.props=d,c=e.pendingProps,u=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=kt(a):(a=ut(n)?Gn:Je.current,a=Rr(e,a));var p=n.getDerivedStateFromProps;(y=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==c||u!==a)&&Tf(e,l,r,a),hn=!1,u=e.memoizedState,l.state=u,il(e,r,l,i);var _=e.memoizedState;s!==c||u!==_||at.current||hn?(typeof p=="function"&&(Oa(e,n,p,r),_=e.memoizedState),(d=hn||kf(e,n,d,r,u,_,a)||!1)?(y||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,_,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,_,a)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),l.props=r,l.state=_,l.context=a,r=d):(typeof l.componentDidUpdate!="function"||s===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),r=!1)}return Ca(t,e,n,r,o,i)}function Ca(t,e,n,r,i,o){ev(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&mf(e,n,!1),rn(t,e,o);r=e.stateNode,O_.current=e;var s=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Dr(e,t.child,null,o),e.child=Dr(e,null,s,o)):et(t,e,s,o),e.memoizedState=r.state,i&&mf(e,n,!0),e.child}function tv(t){var e=t.stateNode;e.pendingContext?yf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yf(t,e.context,!1),qu(t,e.containerInfo)}function Rf(t,e,n,r,i){return Lr(),Lu(i),e.flags|=256,et(t,e,n,r),e.child}var Aa={dehydrated:null,treeContext:null,retryLane:0};function xa(t){return{baseLanes:t,cachePool:null,transitions:null}}function nv(t,e,n){var r=e.pendingProps,i=Ce.current,o=!1,l=(e.flags&128)!==0,s;if((s=l)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_e(Ce,i&1),t===null)return Sa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,o?(r=e.mode,o=e.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=ql(l,r,0,null),t=Vn(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=xa(n),e.memoizedState=Aa,t):Gu(e,l));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return k_(t,e,l,r,s,i,n);if(o){o=r.fallback,l=e.mode,i=t.child,s=i.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=kn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=kn(s,o):(o=Vn(o,l,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,l=t.child.memoizedState,l=l===null?xa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=Aa,r}return o=t.child,t=o.sibling,r=kn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Gu(t,e){return e=ql({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Oo(t,e,n,r){return r!==null&&Lu(r),Dr(e,t.child,null,n),t=Gu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function k_(t,e,n,r,i,o,l){if(n)return e.flags&256?(e.flags&=-257,r=Cs(Error(Y(422))),Oo(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=ql({mode:"visible",children:r.children},i,0,null),o=Vn(o,i,l,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Dr(e,t.child,null,l),e.child.memoizedState=xa(l),e.memoizedState=Aa,o);if(!(e.mode&1))return Oo(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(Y(419)),r=Cs(o,r,void 0),Oo(t,e,l,r)}if(s=(l&t.childLanes)!==0,lt||s){if(r=Ue,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,nn(t,i),Mt(r,t,i,-1))}return ec(),r=Cs(Error(Y(421))),Oo(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=F_.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,pt=wn(i.nextSibling),vt=e,Te=!0,Pt=null,t!==null&&(Et[wt++]=Qt,Et[wt++]=Yt,Et[wt++]=Qn,Qt=t.id,Yt=t.overflow,Qn=e),e=Gu(e,r.children),e.flags|=4096,e)}function Lf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ba(t.return,e,n)}function As(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function rv(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(et(t,e,r.children,n),r=Ce.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lf(t,n,e);else if(t.tag===19)Lf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(Ce,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ol(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),As(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ol(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}As(e,!0,n,null,o);break;case"together":As(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function rn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=kn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=kn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function T_(t,e,n){switch(e.tag){case 3:tv(e),Lr();break;case 5:Ap(e);break;case 1:ut(e.type)&&Jo(e);break;case 4:qu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_e(nl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(Ce,Ce.current&1),e.flags|=128,null):n&e.child.childLanes?nv(t,e,n):(_e(Ce,Ce.current&1),t=rn(t,e,n),t!==null?t.sibling:null);_e(Ce,Ce.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Ce,Ce.current),r)break;return null;case 22:case 23:return e.lanes=0,Jp(t,e,n)}return rn(t,e,n)}var iv,Ia,ov,lv;iv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ia=function(){};ov=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Un(Wt.current);var o=null;switch(n){case"input":i=Js(t,i),r=Js(t,r),o=[];break;case"select":i=xe({},i,{value:void 0}),r=xe({},r,{value:void 0}),o=[];break;case"textarea":i=na(t,i),r=na(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xo)}ia(n,r);var l;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var s=i[d];for(l in s)s.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Pi.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var a=r[d];if(s=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&a!==s&&(a!=null||s!=null))if(d==="style")if(s){for(l in s)!s.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&s[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(o||(o=[]),o.push(d,n)),n=a;else d==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(o=o||[]).push(d,a)):d==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(d,""+a):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Pi.hasOwnProperty(d)?(a!=null&&d==="onScroll"&&Ee("scroll",t),o||s===a||(o=[])):(o=o||[]).push(d,a))}n&&(o=o||[]).push("style",n);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};lv=function(t,e,n,r){n!==r&&(e.flags|=4)};function ai(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function N_(t,e,n){var r=e.pendingProps;switch(Ru(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(e),null;case 1:return ut(e.type)&&Zo(),Qe(e),null;case 3:return r=e.stateNode,Mr(),Oe(at),Oe(Je),Uu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(So(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pt!==null&&(Ba(Pt),Pt=null))),Ia(t,e),Qe(e),null;case 5:$u(e);var i=Un(Hi.current);if(n=e.type,t!==null&&e.stateNode!=null)ov(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return Qe(e),null}if(t=Un(Wt.current),So(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ut]=e,r[Ui]=o,t=(e.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(i=0;i<_i.length;i++)Ee(_i[i],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":Uc(r,o),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ee("invalid",r);break;case"textarea":Hc(r,o),Ee("invalid",r)}ia(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var s=o[l];l==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&wo(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&wo(r.textContent,s,t),i=["children",""+s]):Pi.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&Ee("scroll",r)}switch(n){case"input":ho(r),zc(r,o,!0);break;case"textarea":ho(r),Wc(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Xo)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Lh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Ut]=e,t[Ui]=r,iv(t,e,!1,!1),e.stateNode=t;e:{switch(l=oa(n,r),n){case"dialog":Ee("cancel",t),Ee("close",t),i=r;break;case"iframe":case"object":case"embed":Ee("load",t),i=r;break;case"video":case"audio":for(i=0;i<_i.length;i++)Ee(_i[i],t);i=r;break;case"source":Ee("error",t),i=r;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),i=r;break;case"details":Ee("toggle",t),i=r;break;case"input":Uc(t,r),i=Js(t,r),Ee("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xe({},r,{value:void 0}),Ee("invalid",t);break;case"textarea":Hc(t,r),i=na(t,r),Ee("invalid",t);break;default:i=r}ia(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="style"?jh(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Dh(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ri(t,a):typeof a=="number"&&Ri(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Pi.hasOwnProperty(o)?a!=null&&o==="onScroll"&&Ee("scroll",t):a!=null&&gu(t,o,a,l))}switch(n){case"input":ho(t),zc(t,r,!1);break;case"textarea":ho(t),Wc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+An(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Sr(t,!!r.multiple,o,!1):r.defaultValue!=null&&Sr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qe(e),null;case 6:if(t&&e.stateNode!=null)lv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Un(Hi.current),Un(Wt.current),So(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ut]=e,(o=r.nodeValue!==n)&&(t=vt,t!==null))switch(t.tag){case 3:wo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wo(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ut]=e,e.stateNode=r}return Qe(e),null;case 13:if(Oe(Ce),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&pt!==null&&e.mode&1&&!(e.flags&128))Op(),Lr(),e.flags|=98560,o=!1;else if(o=So(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Y(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Y(317));o[Ut]=e}else Lr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qe(e),o=!1}else Pt!==null&&(Ba(Pt),Pt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?Fe===0&&(Fe=3):ec())),e.updateQueue!==null&&(e.flags|=4),Qe(e),null);case 4:return Mr(),Ia(t,e),t===null&&qi(e.stateNode.containerInfo),Qe(e),null;case 10:return ju(e.type._context),Qe(e),null;case 17:return ut(e.type)&&Zo(),Qe(e),null;case 19:if(Oe(Ce),o=e.memoizedState,o===null)return Qe(e),null;if(r=(e.flags&128)!==0,l=o.rendering,l===null)if(r)ai(o,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=ol(t),l!==null){for(e.flags|=128,ai(o,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(Ce,Ce.current&1|2),e.child}t=t.sibling}o.tail!==null&&Pe()>Fr&&(e.flags|=128,r=!0,ai(o,!1),e.lanes=4194304)}else{if(!r)if(t=ol(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ai(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Te)return Qe(e),null}else 2*Pe()-o.renderingStartTime>Fr&&n!==1073741824&&(e.flags|=128,r=!0,ai(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Pe(),e.sibling=null,n=Ce.current,_e(Ce,r?n&1|2:n&1),e):(Qe(e),null);case 22:case 23:return Ju(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dt&1073741824&&(Qe(e),e.subtreeFlags&6&&(e.flags|=8192)):Qe(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function C_(t,e){switch(Ru(e),e.tag){case 1:return ut(e.type)&&Zo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mr(),Oe(at),Oe(Je),Uu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $u(e),null;case 13:if(Oe(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Lr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(Ce),null;case 4:return Mr(),null;case 10:return ju(e.type._context),null;case 22:case 23:return Ju(),null;case 24:return null;default:return null}}var ko=!1,Ye=!1,A_=typeof WeakSet=="function"?WeakSet:Set,ee=null;function _r(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(t,e,r)}else n.current=null}function Pa(t,e,n){try{n()}catch(r){Ie(t,e,r)}}var Df=!1;function x_(t,e){if(va=Go,t=fp(),Iu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,s=-1,a=-1,d=0,y=0,c=t,u=null;t:for(;;){for(var p;c!==n||i!==0&&c.nodeType!==3||(s=l+i),c!==o||r!==0&&c.nodeType!==3||(a=l+r),c.nodeType===3&&(l+=c.nodeValue.length),(p=c.firstChild)!==null;)u=c,c=p;for(;;){if(c===t)break t;if(u===n&&++d===i&&(s=l),u===o&&++y===r&&(a=l),(p=c.nextSibling)!==null)break;c=u,u=c.parentNode}c=p}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ya={focusedElem:t,selectionRange:n},Go=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,E=_.memoizedState,h=e.stateNode,f=h.getSnapshotBeforeUpdate(e.elementType===e.type?g:At(e.type,g),E);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(v){Ie(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return _=Df,Df=!1,_}function Ti(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Pa(e,n,o)}i=i.next}while(i!==r)}}function Fl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ra(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sv(t){var e=t.alternate;e!==null&&(t.alternate=null,sv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ut],delete e[Ui],delete e[_a],delete e[d_],delete e[h_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function av(t){return t.tag===5||t.tag===3||t.tag===4}function Mf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||av(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function La(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xo));else if(r!==4&&(t=t.child,t!==null))for(La(t,e,n),t=t.sibling;t!==null;)La(t,e,n),t=t.sibling}function Da(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Da(t,e,n),t=t.sibling;t!==null;)Da(t,e,n),t=t.sibling}var ze=null,It=!1;function fn(t,e,n){for(n=n.child;n!==null;)uv(t,e,n),n=n.sibling}function uv(t,e,n){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(xl,n)}catch{}switch(n.tag){case 5:Ye||_r(n,e);case 6:var r=ze,i=It;ze=null,fn(t,e,n),ze=r,It=i,ze!==null&&(It?(t=ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(It?(t=ze,n=n.stateNode,t.nodeType===8?Ss(t.parentNode,n):t.nodeType===1&&Ss(t,n),ji(t)):Ss(ze,n.stateNode));break;case 4:r=ze,i=It,ze=n.stateNode.containerInfo,It=!0,fn(t,e,n),ze=r,It=i;break;case 0:case 11:case 14:case 15:if(!Ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Pa(n,e,l),i=i.next}while(i!==r)}fn(t,e,n);break;case 1:if(!Ye&&(_r(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ie(n,e,s)}fn(t,e,n);break;case 21:fn(t,e,n);break;case 22:n.mode&1?(Ye=(r=Ye)||n.memoizedState!==null,fn(t,e,n),Ye=r):fn(t,e,n);break;default:fn(t,e,n)}}function jf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new A_),e.forEach(function(r){var i=B_.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ct(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,l=e,s=l;e:for(;s!==null;){switch(s.tag){case 5:ze=s.stateNode,It=!1;break e;case 3:ze=s.stateNode.containerInfo,It=!0;break e;case 4:ze=s.stateNode.containerInfo,It=!0;break e}s=s.return}if(ze===null)throw Error(Y(160));uv(o,l,i),ze=null,It=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(d){Ie(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cv(e,t),e=e.sibling}function cv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ct(e,t),Bt(t),r&4){try{Ti(3,t,t.return),Fl(3,t)}catch(g){Ie(t,t.return,g)}try{Ti(5,t,t.return)}catch(g){Ie(t,t.return,g)}}break;case 1:Ct(e,t),Bt(t),r&512&&n!==null&&_r(n,n.return);break;case 5:if(Ct(e,t),Bt(t),r&512&&n!==null&&_r(n,n.return),t.flags&32){var i=t.stateNode;try{Ri(i,"")}catch(g){Ie(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,s=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Ph(i,o),oa(s,l);var d=oa(s,o);for(l=0;l<a.length;l+=2){var y=a[l],c=a[l+1];y==="style"?jh(i,c):y==="dangerouslySetInnerHTML"?Dh(i,c):y==="children"?Ri(i,c):gu(i,y,c,d)}switch(s){case"input":ea(i,o);break;case"textarea":Rh(i,o);break;case"select":var u=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Sr(i,!!o.multiple,p,!1):u!==!!o.multiple&&(o.defaultValue!=null?Sr(i,!!o.multiple,o.defaultValue,!0):Sr(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ui]=o}catch(g){Ie(t,t.return,g)}}break;case 6:if(Ct(e,t),Bt(t),r&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){Ie(t,t.return,g)}}break;case 3:if(Ct(e,t),Bt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ji(e.containerInfo)}catch(g){Ie(t,t.return,g)}break;case 4:Ct(e,t),Bt(t);break;case 13:Ct(e,t),Bt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Xu=Pe())),r&4&&jf(t);break;case 22:if(y=n!==null&&n.memoizedState!==null,t.mode&1?(Ye=(d=Ye)||y,Ct(e,t),Ye=d):Ct(e,t),Bt(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!y&&t.mode&1)for(ee=t,y=t.child;y!==null;){for(c=ee=y;ee!==null;){switch(u=ee,p=u.child,u.tag){case 0:case 11:case 14:case 15:Ti(4,u,u.return);break;case 1:_r(u,u.return);var _=u.stateNode;if(typeof _.componentWillUnmount=="function"){r=u,n=u.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){Ie(r,n,g)}}break;case 5:_r(u,u.return);break;case 22:if(u.memoizedState!==null){Bf(c);continue}}p!==null?(p.return=u,ee=p):Bf(c)}y=y.sibling}e:for(y=null,c=t;;){if(c.tag===5){if(y===null){y=c;try{i=c.stateNode,d?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=c.stateNode,a=c.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=Mh("display",l))}catch(g){Ie(t,t.return,g)}}}else if(c.tag===6){if(y===null)try{c.stateNode.nodeValue=d?"":c.memoizedProps}catch(g){Ie(t,t.return,g)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;y===c&&(y=null),c=c.return}y===c&&(y=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Ct(e,t),Bt(t),r&4&&jf(t);break;case 21:break;default:Ct(e,t),Bt(t)}}function Bt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(av(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ri(i,""),r.flags&=-33);var o=Mf(t);Da(t,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,s=Mf(t);La(t,s,l);break;default:throw Error(Y(161))}}catch(a){Ie(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function I_(t,e,n){ee=t,fv(t)}function fv(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var i=ee,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||ko;if(!l){var s=i.alternate,a=s!==null&&s.memoizedState!==null||Ye;s=ko;var d=Ye;if(ko=l,(Ye=a)&&!d)for(ee=i;ee!==null;)l=ee,a=l.child,l.tag===22&&l.memoizedState!==null?qf(i):a!==null?(a.return=l,ee=a):qf(i);for(;o!==null;)ee=o,fv(o),o=o.sibling;ee=i,ko=s,Ye=d}Ff(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ee=o):Ff(t)}}function Ff(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ye||Fl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ye)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:At(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Sf(e,o,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Sf(e,l,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var y=d.memoizedState;if(y!==null){var c=y.dehydrated;c!==null&&ji(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Ye||e.flags&512&&Ra(e)}catch(u){Ie(e,e.return,u)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function Bf(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function qf(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fl(4,e)}catch(a){Ie(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Ie(e,i,a)}}var o=e.return;try{Ra(e)}catch(a){Ie(e,o,a)}break;case 5:var l=e.return;try{Ra(e)}catch(a){Ie(e,l,a)}}}catch(a){Ie(e,e.return,a)}if(e===t){ee=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ee=s;break}ee=e.return}}var P_=Math.ceil,al=sn.ReactCurrentDispatcher,Qu=sn.ReactCurrentOwner,Ot=sn.ReactCurrentBatchConfig,he=0,Ue=null,Le=null,Ve=0,dt=0,Er=Rn(0),Fe=0,Gi=null,Xn=0,Bl=0,Yu=0,Ni=null,ot=null,Xu=0,Fr=1/0,Kt=null,ul=!1,Ma=null,bn=null,To=!1,mn=null,cl=0,Ci=0,ja=null,qo=-1,$o=0;function tt(){return he&6?Pe():qo!==-1?qo:qo=Pe()}function On(t){return t.mode&1?he&2&&Ve!==0?Ve&-Ve:v_.transition!==null?($o===0&&($o=Qh()),$o):(t=ye,t!==0||(t=window.event,t=t===void 0?16:np(t.type)),t):1}function Mt(t,e,n,r){if(50<Ci)throw Ci=0,ja=null,Error(Y(185));to(t,n,r),(!(he&2)||t!==Ue)&&(t===Ue&&(!(he&2)&&(Bl|=n),Fe===4&&vn(t,Ve)),ct(t,r),n===1&&he===0&&!(e.mode&1)&&(Fr=Pe()+500,Dl&&Ln()))}function ct(t,e){var n=t.callbackNode;vg(t,e);var r=Ko(t,t===Ue?Ve:0);if(r===0)n!==null&&Gc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gc(n),e===1)t.tag===0?p_($f.bind(null,t)):wp($f.bind(null,t)),c_(function(){!(he&6)&&Ln()}),n=null;else{switch(Yh(r)){case 1:n=bu;break;case 4:n=Kh;break;case 16:n=Vo;break;case 536870912:n=Gh;break;default:n=Vo}n=_v(n,dv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dv(t,e){if(qo=-1,$o=0,he&6)throw Error(Y(327));var n=t.callbackNode;if(Nr()&&t.callbackNode!==n)return null;var r=Ko(t,t===Ue?Ve:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fl(t,r);else{e=r;var i=he;he|=2;var o=pv();(Ue!==t||Ve!==e)&&(Kt=null,Fr=Pe()+500,Wn(t,e));do try{D_();break}catch(s){hv(t,s)}while(1);Mu(),al.current=o,he=i,Le!==null?e=0:(Ue=null,Ve=0,e=Fe)}if(e!==0){if(e===2&&(i=ca(t),i!==0&&(r=i,e=Fa(t,i))),e===1)throw n=Gi,Wn(t,0),vn(t,r),ct(t,Pe()),n;if(e===6)vn(t,r);else{if(i=t.current.alternate,!(r&30)&&!R_(i)&&(e=fl(t,r),e===2&&(o=ca(t),o!==0&&(r=o,e=Fa(t,o))),e===1))throw n=Gi,Wn(t,0),vn(t,r),ct(t,Pe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:Mn(t,ot,Kt);break;case 3:if(vn(t,r),(r&130023424)===r&&(e=Xu+500-Pe(),10<e)){if(Ko(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){tt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ga(Mn.bind(null,t,ot,Kt),e);break}Mn(t,ot,Kt);break;case 4:if(vn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-Dt(r);o=1<<l,l=e[l],l>i&&(i=l),r&=~o}if(r=i,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*P_(r/1960))-r,10<r){t.timeoutHandle=ga(Mn.bind(null,t,ot,Kt),r);break}Mn(t,ot,Kt);break;case 5:Mn(t,ot,Kt);break;default:throw Error(Y(329))}}}return ct(t,Pe()),t.callbackNode===n?dv.bind(null,t):null}function Fa(t,e){var n=Ni;return t.current.memoizedState.isDehydrated&&(Wn(t,e).flags|=256),t=fl(t,e),t!==2&&(e=ot,ot=n,e!==null&&Ba(e)),t}function Ba(t){ot===null?ot=t:ot.push.apply(ot,t)}function R_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ft(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vn(t,e){for(e&=~Yu,e&=~Bl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dt(e),r=1<<n;t[n]=-1,e&=~r}}function $f(t){if(he&6)throw Error(Y(327));Nr();var e=Ko(t,0);if(!(e&1))return ct(t,Pe()),null;var n=fl(t,e);if(t.tag!==0&&n===2){var r=ca(t);r!==0&&(e=r,n=Fa(t,r))}if(n===1)throw n=Gi,Wn(t,0),vn(t,e),ct(t,Pe()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mn(t,ot,Kt),ct(t,Pe()),null}function Zu(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(Fr=Pe()+500,Dl&&Ln())}}function Zn(t){mn!==null&&mn.tag===0&&!(he&6)&&Nr();var e=he;he|=1;var n=Ot.transition,r=ye;try{if(Ot.transition=null,ye=1,t)return t()}finally{ye=r,Ot.transition=n,he=e,!(he&6)&&Ln()}}function Ju(){dt=Er.current,Oe(Er)}function Wn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,u_(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(Ru(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zo();break;case 3:Mr(),Oe(at),Oe(Je),Uu();break;case 5:$u(r);break;case 4:Mr();break;case 13:Oe(Ce);break;case 19:Oe(Ce);break;case 10:ju(r.type._context);break;case 22:case 23:Ju()}n=n.return}if(Ue=t,Le=t=kn(t.current,null),Ve=dt=e,Fe=0,Gi=null,Yu=Bl=Xn=0,ot=Ni=null,$n!==null){for(e=0;e<$n.length;e++)if(n=$n[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}$n=null}return t}function hv(t,e){do{var n=Le;try{if(Mu(),jo.current=sl,ll){for(var r=Ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ll=!1}if(Yn=0,qe=Me=Ae=null,ki=!1,Wi=0,Qu.current=null,n===null||n.return===null){Fe=1,Gi=e,Le=null;break}e:{var o=t,l=n.return,s=n,a=e;if(e=Ve,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var d=a,y=s,c=y.tag;if(!(y.mode&1)&&(c===0||c===11||c===15)){var u=y.alternate;u?(y.updateQueue=u.updateQueue,y.memoizedState=u.memoizedState,y.lanes=u.lanes):(y.updateQueue=null,y.memoizedState=null)}var p=Cf(l);if(p!==null){p.flags&=-257,Af(p,l,s,o,e),p.mode&1&&Nf(o,d,e),e=p,a=d;var _=e.updateQueue;if(_===null){var g=new Set;g.add(a),e.updateQueue=g}else _.add(a);break e}else{if(!(e&1)){Nf(o,d,e),ec();break e}a=Error(Y(426))}}else if(Te&&s.mode&1){var E=Cf(l);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Af(E,l,s,o,e),Lu(jr(a,s));break e}}o=a=jr(a,s),Fe!==4&&(Fe=2),Ni===null?Ni=[o]:Ni.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var h=Yp(o,a,e);wf(o,h);break e;case 1:s=a;var f=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(bn===null||!bn.has(m)))){o.flags|=65536,e&=-e,o.lanes|=e;var v=Xp(o,s,e);wf(o,v);break e}}o=o.return}while(o!==null)}yv(n)}catch(w){e=w,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(1)}function pv(){var t=al.current;return al.current=sl,t===null?sl:t}function ec(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),Ue===null||!(Xn&268435455)&&!(Bl&268435455)||vn(Ue,Ve)}function fl(t,e){var n=he;he|=2;var r=pv();(Ue!==t||Ve!==e)&&(Kt=null,Wn(t,e));do try{L_();break}catch(i){hv(t,i)}while(1);if(Mu(),he=n,al.current=r,Le!==null)throw Error(Y(261));return Ue=null,Ve=0,Fe}function L_(){for(;Le!==null;)vv(Le)}function D_(){for(;Le!==null&&!lg();)vv(Le)}function vv(t){var e=gv(t.alternate,t,dt);t.memoizedProps=t.pendingProps,e===null?yv(t):Le=e,Qu.current=null}function yv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=C_(n,e),n!==null){n.flags&=32767,Le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fe=6,Le=null;return}}else if(n=N_(n,e,dt),n!==null){Le=n;return}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);Fe===0&&(Fe=5)}function Mn(t,e,n){var r=ye,i=Ot.transition;try{Ot.transition=null,ye=1,M_(t,e,n,r)}finally{Ot.transition=i,ye=r}return null}function M_(t,e,n,r){do Nr();while(mn!==null);if(he&6)throw Error(Y(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(yg(t,o),t===Ue&&(Le=Ue=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||To||(To=!0,_v(Vo,function(){return Nr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ot.transition,Ot.transition=null;var l=ye;ye=1;var s=he;he|=4,Qu.current=null,x_(t,n),cv(n,t),n_(ya),Go=!!va,ya=va=null,t.current=n,I_(n),sg(),he=s,ye=l,Ot.transition=o}else t.current=n;if(To&&(To=!1,mn=t,cl=i),o=t.pendingLanes,o===0&&(bn=null),cg(n.stateNode),ct(t,Pe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ul)throw ul=!1,t=Ma,Ma=null,t;return cl&1&&t.tag!==0&&Nr(),o=t.pendingLanes,o&1?t===ja?Ci++:(Ci=0,ja=t):Ci=0,Ln(),null}function Nr(){if(mn!==null){var t=Yh(cl),e=Ot.transition,n=ye;try{if(Ot.transition=null,ye=16>t?16:t,mn===null)var r=!1;else{if(t=mn,mn=null,cl=0,he&6)throw Error(Y(331));var i=he;for(he|=4,ee=t.current;ee!==null;){var o=ee,l=o.child;if(ee.flags&16){var s=o.deletions;if(s!==null){for(var a=0;a<s.length;a++){var d=s[a];for(ee=d;ee!==null;){var y=ee;switch(y.tag){case 0:case 11:case 15:Ti(8,y,o)}var c=y.child;if(c!==null)c.return=y,ee=c;else for(;ee!==null;){y=ee;var u=y.sibling,p=y.return;if(sv(y),y===d){ee=null;break}if(u!==null){u.return=p,ee=u;break}ee=p}}}var _=o.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}ee=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,ee=l;else e:for(;ee!==null;){if(o=ee,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ti(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,ee=h;break e}ee=o.return}}var f=t.current;for(ee=f;ee!==null;){l=ee;var m=l.child;if(l.subtreeFlags&2064&&m!==null)m.return=l,ee=m;else e:for(l=f;ee!==null;){if(s=ee,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Fl(9,s)}}catch(w){Ie(s,s.return,w)}if(s===l){ee=null;break e}var v=s.sibling;if(v!==null){v.return=s.return,ee=v;break e}ee=s.return}}if(he=i,Ln(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(xl,t)}catch{}r=!0}return r}finally{ye=n,Ot.transition=e}}return!1}function Uf(t,e,n){e=jr(n,e),e=Yp(t,e,1),t=Sn(t,e,1),e=tt(),t!==null&&(to(t,1,e),ct(t,e))}function Ie(t,e,n){if(t.tag===3)Uf(t,t,n);else for(;e!==null;){if(e.tag===3){Uf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bn===null||!bn.has(r))){t=jr(n,t),t=Xp(e,t,1),e=Sn(e,t,1),t=tt(),e!==null&&(to(e,1,t),ct(e,t));break}}e=e.return}}function j_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tt(),t.pingedLanes|=t.suspendedLanes&n,Ue===t&&(Ve&n)===n&&(Fe===4||Fe===3&&(Ve&130023424)===Ve&&500>Pe()-Xu?Wn(t,0):Yu|=n),ct(t,e)}function mv(t,e){e===0&&(t.mode&1?(e=yo,yo<<=1,!(yo&130023424)&&(yo=4194304)):e=1);var n=tt();t=nn(t,e),t!==null&&(to(t,e,n),ct(t,n))}function F_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mv(t,n)}function B_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),mv(t,n)}var gv;gv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||at.current)lt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return lt=!1,T_(t,e,n);lt=!!(t.flags&131072)}else lt=!1,Te&&e.flags&1048576&&Sp(e,tl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bo(t,e),t=e.pendingProps;var i=Rr(e,Je.current);Tr(e,n),i=Hu(null,e,r,t,i,n);var o=Wu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ut(r)?(o=!0,Jo(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Bu(e),i.updater=jl,e.stateNode=i,i._reactInternals=e,ka(e,r,t,n),e=Ca(null,e,r,!0,o,n)):(e.tag=0,Te&&o&&Pu(e),et(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bo(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$_(r),t=At(r,t),i){case 0:e=Na(null,e,r,t,n);break e;case 1:e=Pf(null,e,r,t,n);break e;case 11:e=xf(null,e,r,t,n);break e;case 14:e=If(null,e,r,At(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:At(r,i),Na(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:At(r,i),Pf(t,e,r,i,n);case 3:e:{if(tv(e),t===null)throw Error(Y(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Cp(t,e),il(e,r,null,n);var l=e.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=jr(Error(Y(423)),e),e=Rf(t,e,r,n,i);break e}else if(r!==i){i=jr(Error(Y(424)),e),e=Rf(t,e,r,n,i);break e}else for(pt=wn(e.stateNode.containerInfo.firstChild),vt=e,Te=!0,Pt=null,n=Tp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lr(),r===i){e=rn(t,e,n);break e}et(t,e,r,n)}e=e.child}return e;case 5:return Ap(e),t===null&&Sa(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,l=i.children,ma(r,i)?l=null:o!==null&&ma(r,o)&&(e.flags|=32),ev(t,e),et(t,e,l,n),e.child;case 6:return t===null&&Sa(e),null;case 13:return nv(t,e,n);case 4:return qu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Dr(e,null,r,n):et(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:At(r,i),xf(t,e,r,i,n);case 7:return et(t,e,e.pendingProps,n),e.child;case 8:return et(t,e,e.pendingProps.children,n),e.child;case 12:return et(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,l=i.value,_e(nl,r._currentValue),r._currentValue=l,o!==null)if(Ft(o.value,l)){if(o.children===i.children&&!at.current){e=rn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){l=o.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Zt(-1,n&-n),a.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var y=d.pending;y===null?a.next=a:(a.next=y.next,y.next=a),d.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ba(o.return,n,e),s.lanes|=n;break}a=a.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(Y(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),ba(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}et(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Tr(e,n),i=kt(i),r=r(i),e.flags|=1,et(t,e,r,n),e.child;case 14:return r=e.type,i=At(r,e.pendingProps),i=At(r.type,i),If(t,e,r,i,n);case 15:return Zp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:At(r,i),Bo(t,e),e.tag=1,ut(r)?(t=!0,Jo(e)):t=!1,Tr(e,n),Qp(e,r,i),ka(e,r,i,n),Ca(null,e,r,!0,t,n);case 19:return rv(t,e,n);case 22:return Jp(t,e,n)}throw Error(Y(156,e.tag))};function _v(t,e){return Vh(t,e)}function q_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(t,e,n,r){return new q_(t,e,n,r)}function tc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $_(t){if(typeof t=="function")return tc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Eu)return 11;if(t===wu)return 14}return 2}function kn(t,e){var n=t.alternate;return n===null?(n=St(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Uo(t,e,n,r,i,o){var l=2;if(r=t,typeof t=="function")tc(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case cr:return Vn(n.children,i,o,e);case _u:l=8,i|=8;break;case Qs:return t=St(12,n,e,i|2),t.elementType=Qs,t.lanes=o,t;case Ys:return t=St(13,n,e,i),t.elementType=Ys,t.lanes=o,t;case Xs:return t=St(19,n,e,i),t.elementType=Xs,t.lanes=o,t;case Ah:return ql(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Nh:l=10;break e;case Ch:l=9;break e;case Eu:l=11;break e;case wu:l=14;break e;case dn:l=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=St(l,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Vn(t,e,n,r){return t=St(7,t,r,e),t.lanes=n,t}function ql(t,e,n,r){return t=St(22,t,r,e),t.elementType=Ah,t.lanes=n,t.stateNode={isHidden:!1},t}function xs(t,e,n){return t=St(6,t,null,e),t.lanes=n,t}function Is(t,e,n){return e=St(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function U_(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fs(0),this.expirationTimes=fs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nc(t,e,n,r,i,o,l,s,a){return t=new U_(t,e,n,s,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=St(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bu(o),t}function z_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ur,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ev(t){if(!t)return xn;t=t._reactInternals;e:{if(ir(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(ut(n))return Ep(t,n,e)}return e}function wv(t,e,n,r,i,o,l,s,a){return t=nc(n,r,!0,t,i,o,l,s,a),t.context=Ev(null),n=t.current,r=tt(),i=On(n),o=Zt(r,i),o.callback=e??null,Sn(n,o,i),t.current.lanes=i,to(t,i,r),ct(t,r),t}function $l(t,e,n,r){var i=e.current,o=tt(),l=On(i);return n=Ev(n),e.context===null?e.context=n:e.pendingContext=n,e=Zt(o,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Sn(i,e,l),t!==null&&(Mt(t,i,l,o),Mo(t,i,l)),l}function dl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rc(t,e){zf(t,e),(t=t.alternate)&&zf(t,e)}function H_(){return null}var Sv=typeof reportError=="function"?reportError:function(t){console.error(t)};function ic(t){this._internalRoot=t}Ul.prototype.render=ic.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));$l(t,e,null,null)};Ul.prototype.unmount=ic.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zn(function(){$l(null,t,null,null)}),e[tn]=null}};function Ul(t){this._internalRoot=t}Ul.prototype.unstable_scheduleHydration=function(t){if(t){var e=Jh();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pn.length&&e!==0&&e<pn[n].priority;n++);pn.splice(n,0,t),n===0&&tp(t)}};function oc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hf(){}function W_(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var d=dl(l);o.call(d)}}var l=wv(e,r,t,0,null,!1,!1,"",Hf);return t._reactRootContainer=l,t[tn]=l.current,qi(t.nodeType===8?t.parentNode:t),Zn(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var d=dl(a);s.call(d)}}var a=nc(t,0,!1,null,null,!1,!1,"",Hf);return t._reactRootContainer=a,t[tn]=a.current,qi(t.nodeType===8?t.parentNode:t),Zn(function(){$l(e,a,n,r)}),a}function Hl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var s=i;i=function(){var a=dl(l);s.call(a)}}$l(e,l,t,i)}else l=W_(n,e,t,i,r);return dl(l)}Xh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gi(e.pendingLanes);n!==0&&(Ou(e,n|1),ct(e,Pe()),!(he&6)&&(Fr=Pe()+500,Ln()))}break;case 13:Zn(function(){var r=nn(t,1);if(r!==null){var i=tt();Mt(r,t,1,i)}}),rc(t,1)}};ku=function(t){if(t.tag===13){var e=nn(t,134217728);if(e!==null){var n=tt();Mt(e,t,134217728,n)}rc(t,134217728)}};Zh=function(t){if(t.tag===13){var e=On(t),n=nn(t,e);if(n!==null){var r=tt();Mt(n,t,e,r)}rc(t,e)}};Jh=function(){return ye};ep=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};sa=function(t,e,n){switch(e){case"input":if(ea(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ll(r);if(!i)throw Error(Y(90));Ih(r),ea(r,i)}}}break;case"textarea":Rh(t,n);break;case"select":e=n.value,e!=null&&Sr(t,!!n.multiple,e,!1)}};qh=Zu;$h=Zn;var V_={usingClientEntryPoint:!1,Events:[ro,pr,Ll,Fh,Bh,Zu]},ui={findFiberByHostInstance:qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K_={bundleType:ui.bundleType,version:ui.version,rendererPackageName:ui.rendererPackageName,rendererConfig:ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hh(t),t===null?null:t.stateNode},findFiberByHostInstance:ui.findFiberByHostInstance||H_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var No=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!No.isDisabled&&No.supportsFiber)try{xl=No.inject(K_),Ht=No}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V_;mt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oc(e))throw Error(Y(200));return z_(t,e,null,n)};mt.createRoot=function(t,e){if(!oc(t))throw Error(Y(299));var n=!1,r="",i=Sv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=nc(t,1,!1,null,null,n,!1,r,i),t[tn]=e.current,qi(t.nodeType===8?t.parentNode:t),new ic(e)};mt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=Hh(e),t=t===null?null:t.stateNode,t};mt.flushSync=function(t){return Zn(t)};mt.hydrate=function(t,e,n){if(!zl(e))throw Error(Y(200));return Hl(null,t,e,!0,n)};mt.hydrateRoot=function(t,e,n){if(!oc(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=Sv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=wv(e,null,t,1,n??null,i,!1,o,l),t[tn]=e.current,qi(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ul(e)};mt.render=function(t,e,n){if(!zl(e))throw Error(Y(200));return Hl(null,t,e,!1,n)};mt.unmountComponentAtNode=function(t){if(!zl(t))throw Error(Y(40));return t._reactRootContainer?(Zn(function(){Hl(null,null,t,!1,function(){t._reactRootContainer=null,t[tn]=null})}),!0):!1};mt.unstable_batchedUpdates=Zu;mt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zl(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return Hl(t,e,n,!1,r)};mt.version="18.3.1-next-f1338f8080-20240426";function bv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bv)}catch(t){console.error(t)}}bv(),bh.exports=mt;var Ov=bh.exports,Wf=Ov;Ks.createRoot=Wf.createRoot,Ks.hydrateRoot=Wf.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X=function(t,e){if(!t)throw Wr(e)},Wr=function(t){return new Error("Firebase Database ("+kv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},G_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],s=t[n++],a=((i&7)<<18|(o&63)<<12|(l&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},lc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,s=l?t[i+1]:0,a=i+2<t.length,d=a?t[i+2]:0,y=o>>2,c=(o&3)<<4|s>>4;let u=(s&15)<<2|d>>6,p=d&63;a||(p=64,l||(u=64)),r.push(n[y],n[c],n[u],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Tv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):G_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||d==null||c==null)throw new Q_;const u=o<<2|s>>4;if(r.push(u),d!==64){const p=s<<4&240|d>>2;if(r.push(p),c!==64){const _=d<<6&192|c;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Q_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nv=function(t){const e=Tv(t);return lc.encodeByteArray(e,!0)},hl=function(t){return Nv(t).replace(/\./g,"")},qa=function(t){try{return lc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t){return Cv(void 0,t)}function Cv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!X_(n)||(t[n]=Cv(t[n],e[n]));return t}function X_(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=()=>Z_().__FIREBASE_DEFAULTS__,e1=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},t1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qa(t[1]);return e&&JSON.parse(e)},Av=()=>{try{return J_()||e1()||t1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},n1=t=>{var e,n;return(n=(e=Av())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},r1=t=>{const e=n1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xv=()=>{var t;return(t=Av())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),s="";return[hl(JSON.stringify(n)),hl(JSON.stringify(l)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Iv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(o1())}function l1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pv(){return kv.NODE_ADMIN===!0}function s1(){try{return typeof indexedDB=="object"}catch{return!1}}function a1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="FirebaseError";class oo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=u1,Object.setPrototypeOf(this,oo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rv.prototype.create)}}class Rv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?c1(o,r):"Error",s=`${this.serviceName}: ${l} (${i}).`;return new oo(i,s,r)}}function c1(t,e){return t.replace(f1,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const f1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t){return JSON.parse(t)}function We(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=Qi(qa(o[0])||""),n=Qi(qa(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},d1=function(t){const e=Lv(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},h1=function(t){const e=Lv(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Br(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Vf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pl(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function $a(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(Kf(o)&&Kf(l)){if(!$a(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Kf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)r[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const u=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(u<<1|u>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],l=this.chain_[2],s=this.chain_[3],a=this.chain_[4],d,y;for(let c=0;c<80;c++){c<40?c<20?(d=s^o&(l^s),y=1518500249):(d=o^l^s,y=1859775393):c<60?(d=o&l|s&(o|l),y=2400959708):(d=o^l^s,y=3395469782);const u=(i<<5|i>>>27)+d+a+y+r[c]&4294967295;a=s,s=l,l=(o<<30|o>>>2)&4294967295,o=i,i=u}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+s&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let l=this.inbuf_;for(;i<n;){if(l===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[l]=e.charCodeAt(i),++l,++i,l===this.blockSize){this.compress_(o),l=0;break}}else for(;i<n;)if(o[l]=e[i],++l,++i,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function sc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,X(r<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(r)-56320;i=65536+(o<<10)+l}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Vl=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t){return t&&t._delegate?t._delegate:t}class Yi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Wl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_1(e))try{this.getOrInitializeService({instanceIdentifier:jn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=jn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jn){return this.instances.has(e)}getOptions(e=jn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:g1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jn){return this.component?this.component.multipleInstances?e:jn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g1(t){return t===jn?void 0:t}function _1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new m1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const w1={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},S1=ge.INFO,b1={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},O1=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=b1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dv{constructor(e){this.name=e,this._logLevel=S1,this._logHandler=O1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?w1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const k1=(t,e)=>e.some(n=>t instanceof n);let Gf,Qf;function T1(){return Gf||(Gf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N1(){return Qf||(Qf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mv=new WeakMap,Ua=new WeakMap,jv=new WeakMap,Ps=new WeakMap,ac=new WeakMap;function C1(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Tn(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Mv.set(n,t)}).catch(()=>{}),ac.set(e,t),e}function A1(t){if(Ua.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Ua.set(t,e)}let za={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ua.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function x1(t){za=t(za)}function I1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rs(this),e,...n);return jv.set(r,e.sort?e.sort():[e]),Tn(r)}:N1().includes(t)?function(...e){return t.apply(Rs(this),e),Tn(Mv.get(this))}:function(...e){return Tn(t.apply(Rs(this),e))}}function P1(t){return typeof t=="function"?I1(t):(t instanceof IDBTransaction&&A1(t),k1(t,T1())?new Proxy(t,za):t)}function Tn(t){if(t instanceof IDBRequest)return C1(t);if(Ps.has(t))return Ps.get(t);const e=P1(t);return e!==t&&(Ps.set(t,e),ac.set(e,t)),e}const Rs=t=>ac.get(t);function R1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),s=Tn(l);return r&&l.addEventListener("upgradeneeded",a=>{r(Tn(l.result),a.oldVersion,a.newVersion,Tn(l.transaction),a)}),n&&l.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),s.then(a=>{o&&a.addEventListener("close",()=>o()),i&&a.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),s}const L1=["get","getKey","getAll","getAllKeys","count"],D1=["put","add","delete","clear"],Ls=new Map;function Yf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ls.get(e))return Ls.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=D1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||L1.includes(n)))return;const o=async function(l,...s){const a=this.transaction(l,i?"readwrite":"readonly");let d=a.store;return r&&(d=d.index(s.shift())),(await Promise.all([d[n](...s),i&&a.done]))[0]};return Ls.set(e,o),o}x1(t=>({...t,get:(e,n,r)=>Yf(e,n)||t.get(e,n,r),has:(e,n)=>!!Yf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(j1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function j1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ha="@firebase/app",Xf="0.10.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn=new Dv("@firebase/app"),F1="@firebase/app-compat",B1="@firebase/analytics-compat",q1="@firebase/analytics",$1="@firebase/app-check-compat",U1="@firebase/app-check",z1="@firebase/auth",H1="@firebase/auth-compat",W1="@firebase/database",V1="@firebase/database-compat",K1="@firebase/functions",G1="@firebase/functions-compat",Q1="@firebase/installations",Y1="@firebase/installations-compat",X1="@firebase/messaging",Z1="@firebase/messaging-compat",J1="@firebase/performance",e0="@firebase/performance-compat",t0="@firebase/remote-config",n0="@firebase/remote-config-compat",r0="@firebase/storage",i0="@firebase/storage-compat",o0="@firebase/firestore",l0="@firebase/vertexai-preview",s0="@firebase/firestore-compat",a0="firebase",u0="10.12.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="[DEFAULT]",c0={[Ha]:"fire-core",[F1]:"fire-core-compat",[q1]:"fire-analytics",[B1]:"fire-analytics-compat",[U1]:"fire-app-check",[$1]:"fire-app-check-compat",[z1]:"fire-auth",[H1]:"fire-auth-compat",[W1]:"fire-rtdb",[V1]:"fire-rtdb-compat",[K1]:"fire-fn",[G1]:"fire-fn-compat",[Q1]:"fire-iid",[Y1]:"fire-iid-compat",[X1]:"fire-fcm",[Z1]:"fire-fcm-compat",[J1]:"fire-perf",[e0]:"fire-perf-compat",[t0]:"fire-rc",[n0]:"fire-rc-compat",[r0]:"fire-gcs",[i0]:"fire-gcs-compat",[o0]:"fire-fst",[s0]:"fire-fst-compat",[l0]:"fire-vertex","fire-js":"fire-js",[a0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=new Map,f0=new Map,Va=new Map;function Zf(t,e){try{t.container.addComponent(e)}catch(n){Jn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yl(t){const e=t.name;if(Va.has(e))return Jn.debug(`There were multiple attempts to register component ${e}.`),!1;Va.set(e,t);for(const n of vl.values())Zf(n,t);for(const n of f0.values())Zf(n,t);return!0}function d0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nn=new Rv("app","Firebase",h0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=u0;function Fv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Wa,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Nn.create("bad-app-name",{appName:String(i)});if(n||(n=xv()),!n)throw Nn.create("no-options");const o=vl.get(i);if(o){if($a(n,o.options)&&$a(r,o.config))return o;throw Nn.create("duplicate-app",{appName:i})}const l=new E1(i);for(const a of Va.values())l.addComponent(a);const s=new p0(n,r,l);return vl.set(i,s),s}function y0(t=Wa){const e=vl.get(t);if(!e&&t===Wa&&xv())return Fv();if(!e)throw Nn.create("no-app",{appName:t});return e}function Cr(t,e,n){var r;let i=(r=c0[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&s.push("and"),l&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jn.warn(s.join(" "));return}yl(new Yi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="firebase-heartbeat-database",g0=1,Xi="firebase-heartbeat-store";let Ds=null;function Bv(){return Ds||(Ds=R1(m0,g0,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xi)}catch(n){console.warn(n)}}}}).catch(t=>{throw Nn.create("idb-open",{originalErrorMessage:t.message})})),Ds}async function _0(t){try{const n=(await Bv()).transaction(Xi),r=await n.objectStore(Xi).get(qv(t));return await n.done,r}catch(e){if(e instanceof oo)Jn.warn(e.message);else{const n=Nn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jn.warn(n.message)}}}async function Jf(t,e){try{const r=(await Bv()).transaction(Xi,"readwrite");await r.objectStore(Xi).put(e,qv(t)),await r.done}catch(n){if(n instanceof oo)Jn.warn(n.message);else{const r=Nn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jn.warn(r.message)}}}function qv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=1024,w0=30*24*60*60*1e3;class S0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ed();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const s=new Date(l.date).valueOf();return Date.now()-s<=w0}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ed(),{heartbeatsToSend:r,unsentEntries:i}=b0(this._heartbeatsCache.heartbeats),o=hl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function ed(){return new Date().toISOString().substring(0,10)}function b0(t,e=E0){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),td(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),td(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class O0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s1()?a1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Jf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Jf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function td(t){return hl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t){yl(new Yi("platform-logger",e=>new M1(e),"PRIVATE")),yl(new Yi("heartbeat",e=>new S0(e),"PRIVATE")),Cr(Ha,Xf,t),Cr(Ha,Xf,"esm2017"),Cr("fire-js","")}k0("");const nd="@firebase/database",rd="1.0.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $v="";function T0(t){$v=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),We(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Qi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return an(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new N0(e)}}catch{}return new C0},zn=Uv("localStorage"),Ka=Uv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new Dv("@firebase/database"),A0=function(){let t=1;return function(){return t++}}(),zv=function(t){const e=y1(t),n=new v1;n.update(e);const r=n.digest();return lc.encodeByteArray(r)},lo=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=lo.apply(null,r):typeof r=="object"?e+=We(r):e+=r,e+=" "}return e};let Kn=null,id=!0;const x0=function(t,e){X(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ar.logLevel=ge.VERBOSE,Kn=Ar.log.bind(Ar),e&&Ka.set("logging_enabled",!0)):typeof t=="function"?Kn=t:(Kn=null,Ka.remove("logging_enabled"))},Xe=function(...t){if(id===!0&&(id=!1,Kn===null&&Ka.get("logging_enabled")===!0&&x0(!0)),Kn){const e=lo.apply(null,t);Kn(e)}},so=function(t){return function(...e){Xe(t,...e)}},Ga=function(...t){const e="FIREBASE INTERNAL ERROR: "+lo(...t);Ar.error(e)},on=function(...t){const e=`FIREBASE FATAL ERROR: ${lo(...t)}`;throw Ar.error(e),new Error(e)},ft=function(...t){const e="FIREBASE WARNING: "+lo(...t);Ar.warn(e)},I0=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ft("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Hv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},P0=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},qr="[MIN_NAME]",er="[MAX_NAME]",Kr=function(t,e){if(t===e)return 0;if(t===qr||e===er)return-1;if(e===qr||t===er)return 1;{const n=od(t),r=od(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},R0=function(t,e){return t===e?0:t<e?-1:1},ci=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+We(e))},uc=function(t){if(typeof t!="object"||t===null)return We(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=We(e[r]),n+=":",n+=uc(t[e[r]]);return n+="}",n},Wv=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Nt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Vv=function(t){X(!Hv(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,l,s,a;t===0?(o=0,l=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(s=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=s+r,l=Math.round(t*Math.pow(2,n-s)-Math.pow(2,n))):(o=0,l=Math.round(t/Math.pow(2,1-r-n))));const d=[];for(a=n;a;a-=1)d.push(l%2?1:0),l=Math.floor(l/2);for(a=e;a;a-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(i?1:0),d.reverse();const y=d.join("");let c="";for(a=0;a<64;a+=8){let u=parseInt(y.substr(a,8),2).toString(16);u.length===1&&(u="0"+u),c=c+u}return c.toLowerCase()},L0=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},D0=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},M0=new RegExp("^-?(0*)\\d{1,10}$"),j0=-2147483648,F0=2147483647,od=function(t){if(M0.test(t)){const e=Number(t);if(e>=j0&&e<=F0)return e}return null},Gr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ft("Exception was thrown by user callback.",n),e},Math.floor(0))}},B0=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ai=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ft(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Xe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ft(e)}}class xr{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}xr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="5",Kv="v",Gv="s",Qv="r",Yv="f",Xv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Zv="ls",Jv="p",Qa="ac",ey="websocket",ty="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,r,i,o=!1,l="",s=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&zn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function U0(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ry(t,e,n){X(typeof e=="string","typeof type must == string"),X(typeof n=="object","typeof params must == object");let r;if(e===ey)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===ty)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);U0(t)&&(n.ns=t.namespace);const i=[];return Nt(n,(o,l)=>{i.push(o+"="+l)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.counters_={}}incrementCounter(e,n=1){an(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Y_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms={},js={};function fc(t){const e=t.toString();return Ms[e]||(Ms[e]=new z0),Ms[e]}function H0(t,e){const n=t.toString();return js[n]||(js[n]=e()),js[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Gr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="start",V0="close",K0="pLPCommand",G0="pRTLPCB",iy="id",oy="pw",ly="ser",Q0="cb",Y0="seg",X0="ts",Z0="d",J0="dframe",sy=1870,ay=30,eE=sy-ay,tE=25e3,nE=3e4;class wr{constructor(e,n,r,i,o,l,s){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=l,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=so(e),this.stats_=fc(n),this.urlFn=a=>(this.appCheckToken&&(a[Qa]=this.appCheckToken),ry(n,ty,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new W0(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(nE)),P0(()=>{if(this.isClosed_)return;this.scriptTagHolder=new dc((...o)=>{const[l,s,a,d,y]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===ld)this.id=s,this.password=a;else if(l===V0)s?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(s,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,s]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,s)},()=>{this.onClosed_()},this.urlFn);const r={};r[ld]="t",r[ly]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Q0]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Kv]=cc,this.transportSessionId&&(r[Gv]=this.transportSessionId),this.lastSessionId&&(r[Zv]=this.lastSessionId),this.applicationId&&(r[Jv]=this.applicationId),this.appCheckToken&&(r[Qa]=this.appCheckToken),typeof location<"u"&&location.hostname&&Xv.test(location.hostname)&&(r[Qv]=Yv);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wr.forceAllow_=!0}static forceDisallow(){wr.forceDisallow_=!0}static isAvailable(){return wr.forceAllow_?!0:!wr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!L0()&&!D0()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=We(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Nv(n),i=Wv(r,eE);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[J0]="t",r[iy]=e,r[oy]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=We(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class dc{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=A0(),window[K0+this.uniqueCallbackIdentifier]=e,window[G0+this.uniqueCallbackIdentifier]=n,this.myIFrame=dc.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(s){Xe("frame writing exception"),s.stack&&Xe(s.stack),Xe(s)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Xe("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[iy]=this.myID,e[oy]=this.myPW,e[ly]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ay+r.length<=sy;){const l=this.pendingSegs.shift();r=r+"&"+Y0+i+"="+l.seg+"&"+X0+i+"="+l.ts+"&"+Z0+i+"="+l.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(tE)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Xe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=16384,iE=45e3;let ml=null;typeof MozWebSocket<"u"?ml=MozWebSocket:typeof WebSocket<"u"&&(ml=WebSocket);class Rt{constructor(e,n,r,i,o,l,s){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=so(this.connId),this.stats_=fc(n),this.connURL=Rt.connectionURL_(n,l,s,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const l={};return l[Kv]=cc,typeof location<"u"&&location.hostname&&Xv.test(location.hostname)&&(l[Qv]=Yv),n&&(l[Gv]=n),r&&(l[Zv]=r),i&&(l[Qa]=i),o&&(l[Jv]=o),ry(e,ey,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zn.set("previous_websocket_failure",!0);try{let r;Pv(),this.mySock=new ml(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Rt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&ml!==null&&!Rt.forceDisallow_}static previouslyFailed(){return zn.isInMemoryStorage||zn.get("previous_websocket_failure")===!0}markConnectionHealthy(){zn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Qi(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(X(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=We(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Wv(n,rE);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(iE))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Rt.responsesRequiredToBeHealthy=2;Rt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[wr,Rt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Rt&&Rt.isAvailable();let r=n&&!Rt.previouslyFailed();if(e.webSocketOnly&&(n||ft("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Rt];else{const i=this.transports_=[];for(const o of Zi.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Zi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Zi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=6e4,lE=5e3,sE=10*1024,aE=100*1024,Fs="t",sd="d",uE="s",ad="r",cE="e",ud="o",cd="a",fd="n",dd="p",fE="h";class dE{constructor(e,n,r,i,o,l,s,a,d,y){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=l,this.onReady_=s,this.onDisconnect_=a,this.onKill_=d,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=so("c:"+this.id+":"),this.transportManager_=new Zi(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ai(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>aE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>sE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Fs in e){const n=e[Fs];n===cd?this.upgradeIfSecondaryHealthy_():n===ad?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ud&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ci("t",e),r=ci("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:dd,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:cd,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:fd,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ci("t",e),r=ci("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ci(Fs,e);if(sd in e){const r=e[sd];if(n===fE){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===fd){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===uE?this.onConnectionShutdown_(r):n===ad?this.onReset_(r):n===cE?Ga("Server Error: "+r):n===ud?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ga("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),cc!==r&&ft("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ai(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(oE))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ai(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(lE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:dd,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this.allowedEvents_=e,this.listeners_={},X(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){X(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends cy{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Iv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new gl}getInitialEvent(e){return X(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=32,pd=768;class ke{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function me(){return new ke("")}function ue(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function In(t){return t.pieces_.length-t.pieceNum_}function be(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ke(t.pieces_,e)}function fy(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function hE(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function dy(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function hy(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ke(e,0)}function je(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ke)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ke(n,0)}function fe(t){return t.pieceNum_>=t.pieces_.length}function bt(t,e){const n=ue(t),r=ue(e);if(n===null)return e;if(n===r)return bt(be(t),be(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function py(t,e){if(In(t)!==In(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Lt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(In(t)>In(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class pE{constructor(e,n){this.errorPrefix_=n,this.parts_=dy(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Vl(this.parts_[r]);vy(this)}}function vE(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Vl(e),vy(t)}function yE(t){const e=t.parts_.pop();t.byteLength_-=Vl(e),t.parts_.length>0&&(t.byteLength_-=1)}function vy(t){if(t.byteLength_>pd)throw new Error(t.errorPrefix_+"has a key path longer than "+pd+" bytes ("+t.byteLength_+").");if(t.parts_.length>hd)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+hd+") or object contains a cycle "+Fn(t))}function Fn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends cy{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new hc}getInitialEvent(e){return X(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=1e3,mE=60*5*1e3,vd=30*1e3,gE=1.3,_E=3e4,EE="server_kill",yd=3;class Jt extends uy{constructor(e,n,r,i,o,l,s,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=Jt.nextPersistentConnectionId_++,this.log_=so("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=fi,this.maxReconnectDelay_=mE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Pv())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&gl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(We(o)),X(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Wl,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const s=l.d;l.s==="ok"?n.resolve(s):n.reject(s)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),X(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),X(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const s={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(l).set(o,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},l="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,s=>{const a=s.d,d=s.s;Jt.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",s),d!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(d,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&an(e,"w")){const r=Br(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();ft(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||h1(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=vd)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=d1(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,l=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),X(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},l="n";i&&(o.q=r,o.t=i),this.sendRequest(l,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{i&&setTimeout(()=>{i(l.s,l.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const l={p:n,d:r};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:i}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+We(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ga("Unrecognized action received from server: "+We(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){X(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=fi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=fi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>_E&&(this.reconnectDelay_=fi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*gE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Jt.nextConnectionId_++,o=this.lastSessionId;let l=!1,s=null;const a=function(){s?s.close():(l=!0,r())},d=function(c){X(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(c)};this.realtime_={close:a,sendRequest:d};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,u]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);l?Xe("getToken() completed but was canceled"):(Xe("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=u&&u.token,s=new dE(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{ft(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(EE)},o))}catch(c){this.log_("Failed to get token: "+c),l||(this.repoInfo_.nodeAdmin&&ft(c),a())}}}interrupt(e){Xe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Xe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Vf(this.interruptReasons_)&&(this.reconnectDelay_=fi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>uc(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ke(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Xe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=yd&&(this.reconnectDelay_=vd,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Xe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=yd&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+$v.replace(/\./g,"-")]=1,Iv()?e["framework.cordova"]=1:l1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gl.getInstance().currentlyOnline();return Vf(this.interruptReasons_)&&e}}Jt.nextPersistentConnectionId_=0;Jt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new de(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new de(qr,e),i=new de(qr,n);return this.compare(r,i)!==0}minPost(){return de.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co;class yy extends Kl{static get __EMPTY_NODE(){return Co}static set __EMPTY_NODE(e){Co=e}compare(e,n){return Kr(e.name,n.name)}isDefinedOn(e){throw Wr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return de.MIN}maxPost(){return new de(er,Co)}makePost(e,n){return X(typeof e=="string","KeyIndex indexValue must always be a string."),new de(e,Co)}toString(){return".key"}}const Ir=new yy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?r(e.key,n):1,i&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class $e{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??$e.RED,this.left=i??st.EMPTY_NODE,this.right=o??st.EMPTY_NODE}copy(e,n,r,i,o){return new $e(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return st.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return st.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}$e.RED=!0;$e.BLACK=!1;class wE{copy(e,n,r,i,o){return this}insert(e,n,r){return new $e(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class st{constructor(e,n=st.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new st(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,$e.BLACK,null,null))}remove(e){return new st(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,$e.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ao(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ao(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ao(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ao(this.root_,null,this.comparator_,!0,e)}}st.EMPTY_NODE=new wE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t,e){return Kr(t.name,e.name)}function pc(t,e){return Kr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya;function bE(t){Ya=t}const my=function(t){return typeof t=="number"?"number:"+Vv(t):"string:"+t},gy=function(t){if(t.isLeafNode()){const e=t.val();X(typeof e=="string"||typeof e=="number"||typeof e=="object"&&an(e,".sv"),"Priority must be a string or number.")}else X(t===Ya||t.isEmpty(),"priority of unexpected type.");X(t===Ya||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let md;class Be{constructor(e,n=Be.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,X(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),gy(this.priorityNode_)}static set __childrenNodeConstructor(e){md=e}static get __childrenNodeConstructor(){return md}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Be(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return fe(e)?this:ue(e)===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Be.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ue(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(X(r!==".priority"||In(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Be.__childrenNodeConstructor.EMPTY_NODE.updateChild(be(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+my(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Vv(this.value_):e+=this.value_,this.lazyHash_=zv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Be.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Be.__childrenNodeConstructor?-1:(X(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Be.VALUE_TYPE_ORDER.indexOf(n),o=Be.VALUE_TYPE_ORDER.indexOf(r);return X(i>=0,"Unknown leaf type: "+n),X(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Be.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _y,Ey;function OE(t){_y=t}function kE(t){Ey=t}class TE extends Kl{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Kr(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return de.MIN}maxPost(){return new de(er,new Be("[PRIORITY-POST]",Ey))}makePost(e,n){const r=_y(e);return new de(n,new Be("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ze=new TE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=Math.log(2);class CE{constructor(e){const n=o=>parseInt(Math.log(o)/NE,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const _l=function(t,e,n,r){t.sort(e);const i=function(a,d){const y=d-a;let c,u;if(y===0)return null;if(y===1)return c=t[a],u=n?n(c):c,new $e(u,c.node,$e.BLACK,null,null);{const p=parseInt(y/2,10)+a,_=i(a,p),g=i(p+1,d);return c=t[p],u=n?n(c):c,new $e(u,c.node,$e.BLACK,_,g)}},o=function(a){let d=null,y=null,c=t.length;const u=function(_,g){const E=c-_,h=c;c-=_;const f=i(E+1,h),m=t[E],v=n?n(m):m;p(new $e(v,m.node,g,null,f))},p=function(_){d?(d.left=_,d=_):(y=_,d=_)};for(let _=0;_<a.count;++_){const g=a.nextBitIsOne(),E=Math.pow(2,a.count-(_+1));g?u(E,$e.BLACK):(u(E,$e.BLACK),u(E,$e.RED))}return y},l=new CE(t.length),s=o(l);return new st(r||e,s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs;const ar={};class Xt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return X(ar&&Ze,"ChildrenNode.ts has not been loaded"),Bs=Bs||new Xt({".priority":ar},{".priority":Ze}),Bs}get(e){const n=Br(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof st?n:null}hasIndex(e){return an(this.indexSet_,e.toString())}addIndex(e,n){X(e!==Ir,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(de.Wrap);let l=o.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=o.getNext();let s;i?s=_l(r,e.getCompare()):s=ar;const a=e.toString(),d=Object.assign({},this.indexSet_);d[a]=e;const y=Object.assign({},this.indexes_);return y[a]=s,new Xt(y,d)}addToIndexes(e,n){const r=pl(this.indexes_,(i,o)=>{const l=Br(this.indexSet_,o);if(X(l,"Missing index implementation for "+o),i===ar)if(l.isDefinedOn(e.node)){const s=[],a=n.getIterator(de.Wrap);let d=a.getNext();for(;d;)d.name!==e.name&&s.push(d),d=a.getNext();return s.push(e),_l(s,l.getCompare())}else return ar;else{const s=n.get(e.name);let a=i;return s&&(a=a.remove(new de(e.name,s))),a.insert(e,e.node)}});return new Xt(r,this.indexSet_)}removeFromIndexes(e,n){const r=pl(this.indexes_,i=>{if(i===ar)return i;{const o=n.get(e.name);return o?i.remove(new de(e.name,o)):i}});return new Xt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let di;class pe{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&gy(this.priorityNode_),this.children_.isEmpty()&&X(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return di||(di=new pe(new st(pc),null,Xt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||di}updatePriority(e){return this.children_.isEmpty()?this:new pe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?di:n}}getChild(e){const n=ue(e);return n===null?this:this.getImmediateChild(n).getChild(be(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(X(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new de(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const l=i.isEmpty()?di:this.priorityNode_;return new pe(i,l,o)}}updateChild(e,n){const r=ue(e);if(r===null)return n;{X(ue(e)!==".priority"||In(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(be(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(Ze,(l,s)=>{n[l]=s.val(e),r++,o&&pe.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):o=!1}),!e&&o&&i<2*r){const l=[];for(const s in n)l[s]=n[s];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+my(this.getPriority().val())+":"),this.forEachChild(Ze,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":zv(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new de(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new de(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new de(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,de.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,de.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ao?-1:0}withIndex(e){if(e===Ir||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new pe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ir||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ze),i=n.getIterator(Ze);let o=r.getNext(),l=i.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=r.getNext(),l=i.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===Ir?null:this.indexMap_.get(e.toString())}}pe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class AE extends pe{constructor(){super(new st(pc),pe.EMPTY_NODE,Xt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return pe.EMPTY_NODE}isEmpty(){return!1}}const ao=new AE;Object.defineProperties(de,{MIN:{value:new de(qr,pe.EMPTY_NODE)},MAX:{value:new de(er,ao)}});yy.__EMPTY_NODE=pe.EMPTY_NODE;Be.__childrenNodeConstructor=pe;bE(ao);kE(ao);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=!0;function He(t,e=null){if(t===null)return pe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),X(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Be(n,He(e))}if(!(t instanceof Array)&&xE){const n=[];let r=!1;if(Nt(t,(l,s)=>{if(l.substring(0,1)!=="."){const a=He(s);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new de(l,a)))}}),n.length===0)return pe.EMPTY_NODE;const o=_l(n,SE,l=>l.name,pc);if(r){const l=_l(n,Ze.getCompare());return new pe(o,He(e),new Xt({".priority":l},{".priority":Ze}))}else return new pe(o,He(e),Xt.Default)}else{let n=pe.EMPTY_NODE;return Nt(t,(r,i)=>{if(an(t,r)&&r.substring(0,1)!=="."){const o=He(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(He(e))}}OE(He);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends Kl{constructor(e){super(),this.indexPath_=e,X(!fe(e)&&ue(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Kr(e.name,n.name):o}makePost(e,n){const r=He(e),i=pe.EMPTY_NODE.updateChild(this.indexPath_,r);return new de(n,i)}maxPost(){const e=pe.EMPTY_NODE.updateChild(this.indexPath_,ao);return new de(er,e)}toString(){return dy(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE extends Kl{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Kr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return de.MIN}maxPost(){return de.MAX}makePost(e,n){const r=He(e);return new de(n,r)}toString(){return".value"}}const RE=new PE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t){return{type:"value",snapshotNode:t}}function DE(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ME(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function gd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function jE(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ze}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return X(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return X(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qr}hasEnd(){return this.endSet_}getIndexEndValue(){return X(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return X(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:er}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return X(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ze}copy(){const e=new vc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function _d(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ze?n="$priority":t.index_===RE?n="$value":t.index_===Ir?n="$key":(X(t.index_ instanceof IE,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=We(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=We(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+We(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=We(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+We(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Ed(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ze&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends uy{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=so("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(X(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=El.getListenId_(e,r),s={};this.listens_[l]=s;const a=_d(e._queryParams);this.restRequest_(o+".json",a,(d,y)=>{let c=y;if(d===404&&(c=null,d=null),d===null&&this.onDataUpdate_(o,c,!1,r),Br(this.listens_,l)===s){let u;d?d===401?u="permission_denied":u="rest_error:"+d:u="ok",i(u,null)}})}unlisten(e,n){const r=El.getListenId_(e,n);delete this.listens_[r]}get(e){const n=_d(e._queryParams),r=e._path.toString(),i=new Wl;return this.restRequest_(r+".json",n,(o,l)=>{let s=l;o===404&&(s=null,o=null),o===null?(this.onDataUpdate_(r,s,!1,null),i.resolve(s)):i.reject(new Error(s))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+p1(n);this.log_("Sending REST request for "+l);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(r&&s.readyState===4){this.log_("REST Response for "+l+" received. status:",s.status,"response:",s.responseText);let a=null;if(s.status>=200&&s.status<300){try{a=Qi(s.responseText)}catch{ft("Failed to parse JSON response for "+l+": "+s.responseText)}r(null,a)}else s.status!==401&&s.status!==404&&ft("Got unsuccessful REST response for "+l+" Status: "+s.status),r(s.status);r=null}},s.open("GET",l,!0),s.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.rootNode_=pe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(){return{value:null,children:new Map}}function wy(t,e,n){if(fe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ue(e);t.children.has(r)||t.children.set(r,wl());const i=t.children.get(r);e=be(e),wy(i,e,n)}}function Xa(t,e,n){t.value!==null?n(e,t.value):BE(t,(r,i)=>{const o=new ke(e.toString()+"/"+r);Xa(i,o,n)})}function BE(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Nt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=10*1e3,$E=30*1e3,UE=5*60*1e3;class zE{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new qE(e);const r=wd+($E-wd)*Math.random();Ai(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Nt(e,(i,o)=>{o>0&&an(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Ai(this.reportStats_.bind(this),Math.floor(Math.random()*2*UE))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(zt||(zt={}));function Sy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function by(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Oy(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=zt.ACK_USER_WRITE,this.source=Sy()}operationForChild(e){if(fe(this.path)){if(this.affectedTree.value!=null)return X(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ke(e));return new Sl(me(),n,this.revert)}}else return X(ue(this.path)===e,"operationForChild called for unrelated child."),new Sl(be(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=zt.OVERWRITE}operationForChild(e){return fe(this.path)?new tr(this.source,me(),this.snap.getImmediateChild(e)):new tr(this.source,be(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=zt.MERGE}operationForChild(e){if(fe(this.path)){const n=this.children.subtree(new ke(e));return n.isEmpty()?null:n.value?new tr(this.source,me(),n.value):new Ji(this.source,me(),n)}else return X(ue(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ji(this.source,be(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(fe(e))return this.isFullyInitialized()&&!this.filtered_;const n=ue(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function HE(t,e,n,r){const i=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(jE(l.childName,l.snapshotNode))}),hi(t,i,"child_removed",e,r,n),hi(t,i,"child_added",e,r,n),hi(t,i,"child_moved",o,r,n),hi(t,i,"child_changed",e,r,n),hi(t,i,"value",e,r,n),i}function hi(t,e,n,r,i,o){const l=r.filter(s=>s.type===n);l.sort((s,a)=>VE(t,s,a)),l.forEach(s=>{const a=WE(t,s,o);i.forEach(d=>{d.respondsTo(s.type)&&e.push(d.createEvent(a,t.query_))})})}function WE(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function VE(t,e,n){if(e.childName==null||n.childName==null)throw Wr("Should only compare child_ events.");const r=new de(e.childName,e.snapshotNode),i=new de(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(t,e){return{eventCache:t,serverCache:e}}function xi(t,e,n,r){return ky(new yc(e,n,r),t.serverCache)}function Ty(t,e,n,r){return ky(t.eventCache,new yc(e,n,r))}function Za(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function nr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qs;const KE=()=>(qs||(qs=new st(R0)),qs);class Se{constructor(e,n=KE()){this.value=e,this.children=n}static fromObject(e){let n=new Se(null);return Nt(e,(r,i)=>{n=n.set(new ke(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:me(),value:this.value};if(fe(e))return null;{const r=ue(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(be(e),n);return o!=null?{path:je(new ke(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(fe(e))return this;{const n=ue(e),r=this.children.get(n);return r!==null?r.subtree(be(e)):new Se(null)}}set(e,n){if(fe(e))return new Se(n,this.children);{const r=ue(e),o=(this.children.get(r)||new Se(null)).set(be(e),n),l=this.children.insert(r,o);return new Se(this.value,l)}}remove(e){if(fe(e))return this.children.isEmpty()?new Se(null):new Se(null,this.children);{const n=ue(e),r=this.children.get(n);if(r){const i=r.remove(be(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new Se(null):new Se(this.value,o)}else return this}}get(e){if(fe(e))return this.value;{const n=ue(e),r=this.children.get(n);return r?r.get(be(e)):null}}setTree(e,n){if(fe(e))return n;{const r=ue(e),o=(this.children.get(r)||new Se(null)).setTree(be(e),n);let l;return o.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,o),new Se(this.value,l)}}fold(e){return this.fold_(me(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(je(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,me(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(fe(e))return null;{const o=ue(e),l=this.children.get(o);return l?l.findOnPath_(be(e),je(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,me(),n)}foreachOnPath_(e,n,r){if(fe(e))return this;{this.value&&r(n,this.value);const i=ue(e),o=this.children.get(i);return o?o.foreachOnPath_(be(e),je(n,i),r):new Se(null)}}foreach(e){this.foreach_(me(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(je(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.writeTree_=e}static empty(){return new jt(new Se(null))}}function Ii(t,e,n){if(fe(e))return new jt(new Se(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const l=bt(i,e);return o=o.updateChild(l,n),new jt(t.writeTree_.set(i,o))}else{const i=new Se(n),o=t.writeTree_.setTree(e,i);return new jt(o)}}}function Sd(t,e,n){let r=t;return Nt(n,(i,o)=>{r=Ii(r,je(e,i),o)}),r}function bd(t,e){if(fe(e))return jt.empty();{const n=t.writeTree_.setTree(e,new Se(null));return new jt(n)}}function Ja(t,e){return or(t,e)!=null}function or(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(bt(n.path,e)):null}function Od(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ze,(r,i)=>{e.push(new de(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new de(r,i.value))}),e}function Cn(t,e){if(fe(e))return t;{const n=or(t,e);return n!=null?new jt(new Se(n)):new jt(t.writeTree_.subtree(e))}}function eu(t){return t.writeTree_.isEmpty()}function $r(t,e){return Ny(me(),t.writeTree_,e)}function Ny(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(X(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=Ny(je(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(je(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t,e){return Ry(e,t)}function GE(t,e,n,r,i){X(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ii(t.visibleWrites,e,n)),t.lastWriteId=r}function QE(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function YE(t,e){const n=t.allWrites.findIndex(s=>s.writeId===e);X(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,l=t.allWrites.length-1;for(;i&&l>=0;){const s=t.allWrites[l];s.visible&&(l>=n&&XE(s,r.path)?i=!1:Lt(r.path,s.path)&&(o=!0)),l--}if(i){if(o)return ZE(t),!0;if(r.snap)t.visibleWrites=bd(t.visibleWrites,r.path);else{const s=r.children;Nt(s,a=>{t.visibleWrites=bd(t.visibleWrites,je(r.path,a))})}return!0}else return!1}function XE(t,e){if(t.snap)return Lt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Lt(je(t.path,n),e))return!0;return!1}function ZE(t){t.visibleWrites=Ay(t.allWrites,JE,me()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function JE(t){return t.visible}function Ay(t,e,n){let r=jt.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const l=o.path;let s;if(o.snap)Lt(n,l)?(s=bt(n,l),r=Ii(r,s,o.snap)):Lt(l,n)&&(s=bt(l,n),r=Ii(r,me(),o.snap.getChild(s)));else if(o.children){if(Lt(n,l))s=bt(n,l),r=Sd(r,s,o.children);else if(Lt(l,n))if(s=bt(l,n),fe(s))r=Sd(r,me(),o.children);else{const a=Br(o.children,ue(s));if(a){const d=a.getChild(be(s));r=Ii(r,me(),d)}}}else throw Wr("WriteRecord should have .snap or .children")}}return r}function xy(t,e,n,r,i){if(!r&&!i){const o=or(t.visibleWrites,e);if(o!=null)return o;{const l=Cn(t.visibleWrites,e);if(eu(l))return n;if(n==null&&!Ja(l,me()))return null;{const s=n||pe.EMPTY_NODE;return $r(l,s)}}}else{const o=Cn(t.visibleWrites,e);if(!i&&eu(o))return n;if(!i&&n==null&&!Ja(o,me()))return null;{const l=function(d){return(d.visible||i)&&(!r||!~r.indexOf(d.writeId))&&(Lt(d.path,e)||Lt(e,d.path))},s=Ay(t.allWrites,l,e),a=n||pe.EMPTY_NODE;return $r(s,a)}}}function ew(t,e,n){let r=pe.EMPTY_NODE;const i=or(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ze,(o,l)=>{r=r.updateImmediateChild(o,l)}),r;if(n){const o=Cn(t.visibleWrites,e);return n.forEachChild(Ze,(l,s)=>{const a=$r(Cn(o,new ke(l)),s);r=r.updateImmediateChild(l,a)}),Od(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const o=Cn(t.visibleWrites,e);return Od(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function tw(t,e,n,r,i){X(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=je(e,n);if(Ja(t.visibleWrites,o))return null;{const l=Cn(t.visibleWrites,o);return eu(l)?i.getChild(n):$r(l,i.getChild(n))}}function nw(t,e,n,r){const i=je(e,n),o=or(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const l=Cn(t.visibleWrites,i);return $r(l,r.getNode().getImmediateChild(n))}else return null}function rw(t,e){return or(t.visibleWrites,e)}function iw(t,e,n,r,i,o,l){let s;const a=Cn(t.visibleWrites,e),d=or(a,me());if(d!=null)s=d;else if(n!=null)s=$r(a,n);else return[];if(s=s.withIndex(l),!s.isEmpty()&&!s.isLeafNode()){const y=[],c=l.getCompare(),u=o?s.getReverseIteratorFrom(r,l):s.getIteratorFrom(r,l);let p=u.getNext();for(;p&&y.length<i;)c(p,r)!==0&&y.push(p),p=u.getNext();return y}else return[]}function ow(){return{visibleWrites:jt.empty(),allWrites:[],lastWriteId:-1}}function tu(t,e,n,r){return xy(t.writeTree,t.treePath,e,n,r)}function Iy(t,e){return ew(t.writeTree,t.treePath,e)}function kd(t,e,n,r){return tw(t.writeTree,t.treePath,e,n,r)}function bl(t,e){return rw(t.writeTree,je(t.treePath,e))}function lw(t,e,n,r,i,o){return iw(t.writeTree,t.treePath,e,n,r,i,o)}function mc(t,e,n){return nw(t.writeTree,t.treePath,e,n)}function Py(t,e){return Ry(je(t.treePath,e),t.writeTree)}function Ry(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;X(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),X(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,gd(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,ME(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,DE(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,gd(r,e.snapshotNode,i.oldSnap));else throw Wr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Ly=new aw;class gc{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new yc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mc(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:nr(this.viewCache_),o=lw(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}function uw(t,e){X(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),X(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function cw(t,e,n,r,i){const o=new sw;let l,s;if(n.type===zt.OVERWRITE){const d=n;d.source.fromUser?l=nu(t,e,d.path,d.snap,r,i,o):(X(d.source.fromServer,"Unknown source."),s=d.source.tagged||e.serverCache.isFiltered()&&!fe(d.path),l=Ol(t,e,d.path,d.snap,r,i,s,o))}else if(n.type===zt.MERGE){const d=n;d.source.fromUser?l=dw(t,e,d.path,d.children,r,i,o):(X(d.source.fromServer,"Unknown source."),s=d.source.tagged||e.serverCache.isFiltered(),l=ru(t,e,d.path,d.children,r,i,s,o))}else if(n.type===zt.ACK_USER_WRITE){const d=n;d.revert?l=vw(t,e,d.path,r,i,o):l=hw(t,e,d.path,d.affectedTree,r,i,o)}else if(n.type===zt.LISTEN_COMPLETE)l=pw(t,e,n.path,r,o);else throw Wr("Unknown operation type: "+n.type);const a=o.getChanges();return fw(e,l,a),{viewCache:l,changes:a}}function fw(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Za(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(LE(Za(e)))}}function Dy(t,e,n,r,i,o){const l=e.eventCache;if(bl(r,n)!=null)return e;{let s,a;if(fe(n))if(X(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=nr(e),y=d instanceof pe?d:pe.EMPTY_NODE,c=Iy(r,y);s=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const d=tu(r,nr(e));s=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const d=ue(n);if(d===".priority"){X(In(n)===1,"Can't have a priority with additional path components");const y=l.getNode();a=e.serverCache.getNode();const c=kd(r,n,y,a);c!=null?s=t.filter.updatePriority(y,c):s=l.getNode()}else{const y=be(n);let c;if(l.isCompleteForChild(d)){a=e.serverCache.getNode();const u=kd(r,n,l.getNode(),a);u!=null?c=l.getNode().getImmediateChild(d).updateChild(y,u):c=l.getNode().getImmediateChild(d)}else c=mc(r,d,e.serverCache);c!=null?s=t.filter.updateChild(l.getNode(),d,c,y,i,o):s=l.getNode()}}return xi(e,s,l.isFullyInitialized()||fe(n),t.filter.filtersNodes())}}function Ol(t,e,n,r,i,o,l,s){const a=e.serverCache;let d;const y=l?t.filter:t.filter.getIndexedFilter();if(fe(n))d=y.updateFullNode(a.getNode(),r,null);else if(y.filtersNodes()&&!a.isFiltered()){const p=a.getNode().updateChild(n,r);d=y.updateFullNode(a.getNode(),p,null)}else{const p=ue(n);if(!a.isCompleteForPath(n)&&In(n)>1)return e;const _=be(n),E=a.getNode().getImmediateChild(p).updateChild(_,r);p===".priority"?d=y.updatePriority(a.getNode(),E):d=y.updateChild(a.getNode(),p,E,_,Ly,null)}const c=Ty(e,d,a.isFullyInitialized()||fe(n),y.filtersNodes()),u=new gc(i,c,o);return Dy(t,c,n,i,u,s)}function nu(t,e,n,r,i,o,l){const s=e.eventCache;let a,d;const y=new gc(i,e,o);if(fe(n))d=t.filter.updateFullNode(e.eventCache.getNode(),r,l),a=xi(e,d,!0,t.filter.filtersNodes());else{const c=ue(n);if(c===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),r),a=xi(e,d,s.isFullyInitialized(),s.isFiltered());else{const u=be(n),p=s.getNode().getImmediateChild(c);let _;if(fe(u))_=r;else{const g=y.getCompleteChild(c);g!=null?fy(u)===".priority"&&g.getChild(hy(u)).isEmpty()?_=g:_=g.updateChild(u,r):_=pe.EMPTY_NODE}if(p.equals(_))a=e;else{const g=t.filter.updateChild(s.getNode(),c,_,u,y,l);a=xi(e,g,s.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Td(t,e){return t.eventCache.isCompleteForChild(e)}function dw(t,e,n,r,i,o,l){let s=e;return r.foreach((a,d)=>{const y=je(n,a);Td(e,ue(y))&&(s=nu(t,s,y,d,i,o,l))}),r.foreach((a,d)=>{const y=je(n,a);Td(e,ue(y))||(s=nu(t,s,y,d,i,o,l))}),s}function Nd(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ru(t,e,n,r,i,o,l,s){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,d;fe(n)?d=r:d=new Se(null).setTree(n,r);const y=e.serverCache.getNode();return d.children.inorderTraversal((c,u)=>{if(y.hasChild(c)){const p=e.serverCache.getNode().getImmediateChild(c),_=Nd(t,p,u);a=Ol(t,a,new ke(c),_,i,o,l,s)}}),d.children.inorderTraversal((c,u)=>{const p=!e.serverCache.isCompleteForChild(c)&&u.value===null;if(!y.hasChild(c)&&!p){const _=e.serverCache.getNode().getImmediateChild(c),g=Nd(t,_,u);a=Ol(t,a,new ke(c),g,i,o,l,s)}}),a}function hw(t,e,n,r,i,o,l){if(bl(i,n)!=null)return e;const s=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(fe(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Ol(t,e,n,a.getNode().getChild(n),i,o,s,l);if(fe(n)){let d=new Se(null);return a.getNode().forEachChild(Ir,(y,c)=>{d=d.set(new ke(y),c)}),ru(t,e,n,d,i,o,s,l)}else return e}else{let d=new Se(null);return r.foreach((y,c)=>{const u=je(n,y);a.isCompleteForPath(u)&&(d=d.set(y,a.getNode().getChild(u)))}),ru(t,e,n,d,i,o,s,l)}}function pw(t,e,n,r,i){const o=e.serverCache,l=Ty(e,o.getNode(),o.isFullyInitialized()||fe(n),o.isFiltered());return Dy(t,l,n,r,Ly,i)}function vw(t,e,n,r,i,o){let l;if(bl(r,n)!=null)return e;{const s=new gc(r,e,i),a=e.eventCache.getNode();let d;if(fe(n)||ue(n)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=tu(r,nr(e));else{const c=e.serverCache.getNode();X(c instanceof pe,"serverChildren would be complete if leaf node"),y=Iy(r,c)}y=y,d=t.filter.updateFullNode(a,y,o)}else{const y=ue(n);let c=mc(r,y,e.serverCache);c==null&&e.serverCache.isCompleteForChild(y)&&(c=a.getImmediateChild(y)),c!=null?d=t.filter.updateChild(a,y,c,be(n),s,o):e.eventCache.getNode().hasChild(y)?d=t.filter.updateChild(a,y,pe.EMPTY_NODE,be(n),s,o):d=a,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=tu(r,nr(e)),l.isLeafNode()&&(d=t.filter.updateFullNode(d,l,o)))}return l=e.serverCache.isFullyInitialized()||bl(r,me())!=null,xi(e,d,l,t.filter.filtersNodes())}}function yw(t,e){const n=nr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!fe(e)&&!n.getImmediateChild(ue(e)).isEmpty())?n.getChild(e):null}function Cd(t,e,n,r){e.type===zt.MERGE&&e.source.queryId!==null&&(X(nr(t.viewCache_),"We should always have a full cache before handling merges"),X(Za(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=cw(t.processor_,i,e,n,r);return uw(t.processor_,o.viewCache),X(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,mw(t,o.changes,o.viewCache.eventCache.getNode(),null)}function mw(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return HE(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad;function gw(t){X(!Ad,"__referenceConstructor has already been defined"),Ad=t}function _c(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return X(o!=null,"SyncTree gave us an op for an invalid query."),Cd(o,e,n,r)}else{let o=[];for(const l of t.views.values())o=o.concat(Cd(l,e,n,r));return o}}function Ec(t,e){let n=null;for(const r of t.views.values())n=n||yw(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd;function _w(t){X(!xd,"__referenceConstructor has already been defined"),xd=t}class Id{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Se(null),this.pendingWriteTree_=ow(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function My(t,e,n,r,i){return GE(t.pendingWriteTree_,e,n,r,i),i?Ql(t,new tr(Sy(),e,n)):[]}function Hn(t,e,n=!1){const r=QE(t.pendingWriteTree_,e);if(YE(t.pendingWriteTree_,e)){let o=new Se(null);return r.snap!=null?o=o.set(me(),!0):Nt(r.children,l=>{o=o.set(new ke(l),!0)}),Ql(t,new Sl(r.path,o,n))}else return[]}function Gl(t,e,n){return Ql(t,new tr(by(),e,n))}function Ew(t,e,n){const r=Se.fromObject(n);return Ql(t,new Ji(by(),e,r))}function ww(t,e,n,r){const i=By(t,r);if(i!=null){const o=qy(i),l=o.path,s=o.queryId,a=bt(l,e),d=new tr(Oy(s),a,n);return $y(t,l,d)}else return[]}function Sw(t,e,n,r){const i=By(t,r);if(i){const o=qy(i),l=o.path,s=o.queryId,a=bt(l,e),d=Se.fromObject(n),y=new Ji(Oy(s),a,d);return $y(t,l,y)}else return[]}function wc(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(l,s)=>{const a=bt(l,e),d=Ec(s,a);if(d)return d});return xy(i,e,o,n,!0)}function Ql(t,e){return jy(e,t.syncPointTree_,null,Cy(t.pendingWriteTree_,me()))}function jy(t,e,n,r){if(fe(t.path))return Fy(t,e,n,r);{const i=e.get(me());n==null&&i!=null&&(n=Ec(i,me()));let o=[];const l=ue(t.path),s=t.operationForChild(l),a=e.children.get(l);if(a&&s){const d=n?n.getImmediateChild(l):null,y=Py(r,l);o=o.concat(jy(s,a,d,y))}return i&&(o=o.concat(_c(i,t,r,n))),o}}function Fy(t,e,n,r){const i=e.get(me());n==null&&i!=null&&(n=Ec(i,me()));let o=[];return e.children.inorderTraversal((l,s)=>{const a=n?n.getImmediateChild(l):null,d=Py(r,l),y=t.operationForChild(l);y&&(o=o.concat(Fy(y,s,a,d)))}),i&&(o=o.concat(_c(i,t,r,n))),o}function By(t,e){return t.tagToQueryMap.get(e)}function qy(t){const e=t.indexOf("$");return X(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ke(t.substr(0,e))}}function $y(t,e,n){const r=t.syncPointTree_.get(e);X(r,"Missing sync point for query tag that we're tracking");const i=Cy(t.pendingWriteTree_,e);return _c(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Sc(n)}node(){return this.node_}}class bc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=je(this.path_,e);return new bc(this.syncTree_,n)}node(){return wc(this.syncTree_,this.path_)}}const bw=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Pd=function(t,e,n){if(!t||typeof t!="object")return t;if(X(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Ow(t[".sv"],e,n);if(typeof t[".sv"]=="object")return kw(t[".sv"],e);X(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Ow=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:X(!1,"Unexpected server value: "+t)}},kw=function(t,e,n){t.hasOwnProperty("increment")||X(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&X(!1,"Unexpected increment value: "+r);const i=e.node();if(X(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return typeof l!="number"?r:l+r},Tw=function(t,e,n,r){return Oc(e,new bc(n,t),r)},Uy=function(t,e,n){return Oc(t,new Sc(e),n)};function Oc(t,e,n){const r=t.getPriority().val(),i=Pd(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const l=t,s=Pd(l.getValue(),e,n);return s!==l.getValue()||i!==l.getPriority().val()?new Be(s,He(i)):t}else{const l=t;return o=l,i!==l.getPriority().val()&&(o=o.updatePriority(new Be(i))),l.forEachChild(Ze,(s,a)=>{const d=Oc(a,e.getImmediateChild(s),n);d!==a&&(o=o.updateImmediateChild(s,d))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Tc(t,e){let n=e instanceof ke?e:new ke(e),r=t,i=ue(n);for(;i!==null;){const o=Br(r.node.children,i)||{children:{},childCount:0};r=new kc(i,r,o),n=be(n),i=ue(n)}return r}function Qr(t){return t.node.value}function zy(t,e){t.node.value=e,iu(t)}function Hy(t){return t.node.childCount>0}function Nw(t){return Qr(t)===void 0&&!Hy(t)}function Yl(t,e){Nt(t.node.children,(n,r)=>{e(new kc(n,t,r))})}function Wy(t,e,n,r){n&&!r&&e(t),Yl(t,i=>{Wy(i,e,!0,r)}),n&&r&&e(t)}function Cw(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function uo(t){return new ke(t.parent===null?t.name:uo(t.parent)+"/"+t.name)}function iu(t){t.parent!==null&&Aw(t.parent,t.name,t)}function Aw(t,e,n){const r=Nw(n),i=an(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,iu(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,iu(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=/[\[\].#$\/\u0000-\u001F\u007F]/,Iw=/[\[\].#$\u0000-\u001F\u007F]/,$s=10*1024*1024,Vy=function(t){return typeof t=="string"&&t.length!==0&&!xw.test(t)},Ky=function(t){return typeof t=="string"&&t.length!==0&&!Iw.test(t)},Pw=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ky(t)},Gy=function(t,e,n,r){r&&e===void 0||Nc(sc(t,"value"),e,n)},Nc=function(t,e,n){const r=n instanceof ke?new pE(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Fn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Fn(r)+" with contents = "+e.toString());if(Hv(e))throw new Error(t+"contains "+e.toString()+" "+Fn(r));if(typeof e=="string"&&e.length>$s/3&&Vl(e)>$s)throw new Error(t+"contains a string greater than "+$s+" utf8 bytes "+Fn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Nt(e,(l,s)=>{if(l===".value")i=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!Vy(l)))throw new Error(t+" contains an invalid key ("+l+") "+Fn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);vE(r,l),Nc(t,s,r),yE(r)}),i&&o)throw new Error(t+' contains ".value" child '+Fn(r)+" in addition to actual children.")}},Qy=function(t,e,n,r){if(!(r&&n===void 0)&&!Ky(n))throw new Error(sc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Rw=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Qy(t,e,n,r)},Yy=function(t,e){if(ue(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Lw=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Vy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Pw(n))throw new Error(sc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xy(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!py(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function ln(t,e,n){Xy(t,n),Mw(t,r=>Lt(r,e)||Lt(e,r))}function Mw(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(jw(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function jw(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Kn&&Xe("event: "+n.toString()),Gr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="repo_interrupt",Bw=25;class qw{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Dw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wl(),this.transactionQueueTree_=new kc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $w(t,e,n){if(t.stats_=fc(t.repoInfo_),t.forceRestClient_||B0())t.server_=new El(t.repoInfo_,(r,i,o,l)=>{Rd(t,r,i,o,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Ld(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{We(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Jt(t.repoInfo_,e,(r,i,o,l)=>{Rd(t,r,i,o,l)},r=>{Ld(t,r)},r=>{Uw(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=H0(t.repoInfo_,()=>new zE(t.stats_,t.server_)),t.infoData_=new FE,t.infoSyncTree_=new Id({startListening:(r,i,o,l)=>{let s=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(s=Gl(t.infoSyncTree_,r._path,a),setTimeout(()=>{l("ok")},0)),s},stopListening:()=>{}}),Ac(t,"connected",!1),t.serverSyncTree_=new Id({startListening:(r,i,o,l)=>(t.server_.listen(r,o,i,(s,a)=>{const d=l(s,a);ln(t.eventQueue_,r._path,d)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Zy(t){const n=t.infoData_.getNode(new ke(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Cc(t){return bw({timestamp:Zy(t)})}function Rd(t,e,n,r,i){t.dataUpdateCount++;const o=new ke(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(i)if(r){const a=pl(n,d=>He(d));l=Sw(t.serverSyncTree_,o,a,i)}else{const a=He(n);l=ww(t.serverSyncTree_,o,a,i)}else if(r){const a=pl(n,d=>He(d));l=Ew(t.serverSyncTree_,o,a)}else{const a=He(n);l=Gl(t.serverSyncTree_,o,a)}let s=o;l.length>0&&(s=Xl(t,o)),ln(t.eventQueue_,s,l)}function Ld(t,e){Ac(t,"connected",e),e===!1&&Hw(t)}function Uw(t,e){Nt(e,(n,r)=>{Ac(t,n,r)})}function Ac(t,e,n){const r=new ke("/.info/"+e),i=He(n);t.infoData_.updateSnapshot(r,i);const o=Gl(t.infoSyncTree_,r,i);ln(t.eventQueue_,r,o)}function Jy(t){return t.nextWriteId_++}function zw(t,e,n,r,i){xc(t,"set",{path:e.toString(),value:n,priority:r});const o=Cc(t),l=He(n,r),s=wc(t.serverSyncTree_,e),a=Uy(l,s,o),d=Jy(t),y=My(t.serverSyncTree_,e,a,d,!0);Xy(t.eventQueue_,y),t.server_.put(e.toString(),l.val(!0),(u,p)=>{const _=u==="ok";_||ft("set at "+e+" failed: "+u);const g=Hn(t.serverSyncTree_,d,!_);ln(t.eventQueue_,e,g),Vw(t,i,u,p)});const c=im(t,e);Xl(t,c),ln(t.eventQueue_,c,[])}function Hw(t){xc(t,"onDisconnectEvents");const e=Cc(t),n=wl();Xa(t.onDisconnect_,me(),(i,o)=>{const l=Tw(i,o,t.serverSyncTree_,e);wy(n,i,l)});let r=[];Xa(n,me(),(i,o)=>{r=r.concat(Gl(t.serverSyncTree_,i,o));const l=im(t,i);Xl(t,l)}),t.onDisconnect_=wl(),ln(t.eventQueue_,me(),r)}function Ww(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Fw)}function xc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Xe(n,...e)}function Vw(t,e,n,r){e&&Gr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const l=new Error(o);l.code=i,e(l)}})}function em(t,e,n){return wc(t.serverSyncTree_,e,n)||pe.EMPTY_NODE}function Ic(t,e=t.transactionQueueTree_){if(e||Zl(t,e),Qr(e)){const n=nm(t,e);X(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Kw(t,uo(e),n)}else Hy(e)&&Yl(e,n=>{Ic(t,n)})}function Kw(t,e,n){const r=n.map(d=>d.currentWriteId),i=em(t,e,r);let o=i;const l=i.hash();for(let d=0;d<n.length;d++){const y=n[d];X(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const c=bt(e,y.path);o=o.updateChild(c,y.currentOutputSnapshotRaw)}const s=o.val(!0),a=e;t.server_.put(a.toString(),s,d=>{xc(t,"transaction put response",{path:a.toString(),status:d});let y=[];if(d==="ok"){const c=[];for(let u=0;u<n.length;u++)n[u].status=2,y=y.concat(Hn(t.serverSyncTree_,n[u].currentWriteId)),n[u].onComplete&&c.push(()=>n[u].onComplete(null,!0,n[u].currentOutputSnapshotResolved)),n[u].unwatcher();Zl(t,Tc(t.transactionQueueTree_,e)),Ic(t,t.transactionQueueTree_),ln(t.eventQueue_,e,y);for(let u=0;u<c.length;u++)Gr(c[u])}else{if(d==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{ft("transaction at "+a.toString()+" failed: "+d);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=d}Xl(t,e)}},l)}function Xl(t,e){const n=tm(t,e),r=uo(n),i=nm(t,n);return Gw(t,i,r),r}function Gw(t,e,n){if(e.length===0)return;const r=[];let i=[];const l=e.filter(s=>s.status===0).map(s=>s.currentWriteId);for(let s=0;s<e.length;s++){const a=e[s],d=bt(n,a.path);let y=!1,c;if(X(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)y=!0,c=a.abortReason,i=i.concat(Hn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=Bw)y=!0,c="maxretry",i=i.concat(Hn(t.serverSyncTree_,a.currentWriteId,!0));else{const u=em(t,a.path,l);a.currentInputSnapshot=u;const p=e[s].update(u.val());if(p!==void 0){Nc("transaction failed: Data returned ",p,a.path);let _=He(p);typeof p=="object"&&p!=null&&an(p,".priority")||(_=_.updatePriority(u.getPriority()));const E=a.currentWriteId,h=Cc(t),f=Uy(_,u,h);a.currentOutputSnapshotRaw=_,a.currentOutputSnapshotResolved=f,a.currentWriteId=Jy(t),l.splice(l.indexOf(E),1),i=i.concat(My(t.serverSyncTree_,a.path,f,a.currentWriteId,a.applyLocally)),i=i.concat(Hn(t.serverSyncTree_,E,!0))}else y=!0,c="nodata",i=i.concat(Hn(t.serverSyncTree_,a.currentWriteId,!0))}ln(t.eventQueue_,n,i),i=[],y&&(e[s].status=2,function(u){setTimeout(u,Math.floor(0))}(e[s].unwatcher),e[s].onComplete&&(c==="nodata"?r.push(()=>e[s].onComplete(null,!1,e[s].currentInputSnapshot)):r.push(()=>e[s].onComplete(new Error(c),!1,null))))}Zl(t,t.transactionQueueTree_);for(let s=0;s<r.length;s++)Gr(r[s]);Ic(t,t.transactionQueueTree_)}function tm(t,e){let n,r=t.transactionQueueTree_;for(n=ue(e);n!==null&&Qr(r)===void 0;)r=Tc(r,n),e=be(e),n=ue(e);return r}function nm(t,e){const n=[];return rm(t,e,n),n.sort((r,i)=>r.order-i.order),n}function rm(t,e,n){const r=Qr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Yl(e,i=>{rm(t,i,n)})}function Zl(t,e){const n=Qr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,zy(e,n.length>0?n:void 0)}Yl(e,r=>{Zl(t,r)})}function im(t,e){const n=uo(tm(t,e)),r=Tc(t.transactionQueueTree_,e);return Cw(r,i=>{Us(t,i)}),Us(t,r),Wy(r,i=>{Us(t,i)}),n}function Us(t,e){const n=Qr(e);if(n){const r=[];let i=[],o=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(X(o===l-1,"All SENT items should be at beginning of queue."),o=l,n[l].status=3,n[l].abortReason="set"):(X(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),i=i.concat(Hn(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&r.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?zy(e,void 0):n.length=o+1,ln(t.eventQueue_,uo(e),i);for(let l=0;l<r.length;l++)Gr(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Yw(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ft(`Invalid query segment '${n}' in query '${t}'`)}return e}const Dd=function(t,e){const n=Xw(t),r=n.namespace;n.domain==="firebase.com"&&on(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&on("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||I0();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ny(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ke(n.pathString)}},Xw=function(t){let e="",n="",r="",i="",o="",l=!0,s="https",a=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(s=t.substring(0,d-1),t=t.substring(d+2));let y=t.indexOf("/");y===-1&&(y=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(y,c)),y<c&&(i=Qw(t.substring(y,c)));const u=Yw(t.substring(Math.min(t.length,c)));d=e.indexOf(":"),d>=0?(l=s==="https"||s==="wss",a=parseInt(e.substring(d+1),10)):d=e.length;const p=e.slice(0,d);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),o=r}"ns"in u&&(o=u.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:l,scheme:s,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Zw=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const o=new Array(8);for(i=7;i>=0;i--)o[i]=Md.charAt(n%64),n=Math.floor(n/64);X(n===0,"Cannot push at time == 0");let l=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)l+=Md.charAt(e[i]);return X(l.length===20,"nextPushId: Length should be 20."),l}}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return fe(this._path)?null:fy(this._path)}get ref(){return new lr(this._repo,this._path)}get _queryIdentifier(){const e=Ed(this._queryParams),n=uc(e);return n==="{}"?"default":n}get _queryObject(){return Ed(this._queryParams)}isEqual(e){if(e=Vr(e),!(e instanceof Pc))return!1;const n=this._repo===e._repo,r=py(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+hE(this._path)}}class lr extends Pc{constructor(e,n){super(e,n,new vc,!1)}get parent(){const e=hy(this._path);return e===null?null:new lr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}function Jw(t,e){return t=Vr(t),t._checkNotDeleted("ref"),e!==void 0?ou(t._root,e):t._root}function ou(t,e){return t=Vr(t),ue(t._path)===null?Rw("child","path",e,!1):Qy("child","path",e,!1),new lr(t._repo,je(t._path,e))}function eS(t,e){t=Vr(t),Yy("push",t._path),Gy("push",e,t._path,!0);const n=Zy(t._repo),r=Zw(n),i=ou(t,r),o=ou(t,r);let l;return e!=null?l=om(o,e).then(()=>o):l=Promise.resolve(o),i.then=l.then.bind(l),i.catch=l.then.bind(l,void 0),i}function om(t,e){t=Vr(t),Yy("set",t._path),Gy("set",e,t._path,!1);const n=new Wl;return zw(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}gw(lr);_w(lr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="FIREBASE_DATABASE_EMULATOR_HOST",lu={};let nS=!1;function rS(t,e,n,r){t.repoInfo_=new ny(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function iS(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||on("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xe("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=Dd(o,i),s=l.repoInfo,a,d;typeof process<"u"&&process.env&&(d=process.env[tS]),d?(a=!0,o=`http://${d}?ns=${s.namespace}`,l=Dd(o,i),s=l.repoInfo):a=!l.repoInfo.secure;const y=i&&a?new xr(xr.OWNER):new $0(t.name,t.options,e);Lw("Invalid Firebase Database URL",l),fe(l.path)||on("Database URL must point to the root of a Firebase Database (not including a child path).");const c=lS(s,t,y,new q0(t.name,n));return new sS(c,t)}function oS(t,e){const n=lu[e];(!n||n[t.key]!==t)&&on(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Ww(t),delete n[t.key]}function lS(t,e,n,r){let i=lu[e.name];i||(i={},lu[e.name]=i);let o=i[t.toURLString()];return o&&on("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new qw(t,nS,n,r),i[t.toURLString()]=o,o}class sS{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($w(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new lr(this._repo,me())),this._rootInternal}_delete(){return this._rootInternal!==null&&(oS(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&on("Cannot call "+e+" on a deleted database.")}}function aS(t=y0(),e){const n=d0(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=r1("database");r&&uS(n,...r)}return n}function uS(t,e,n,r={}){t=Vr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&on("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&on('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new xr(xr.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:i1(r.mockUserToken,t.app.options.projectId);o=new xr(l)}rS(i,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t){T0(v0),yl(new Yi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return iS(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Cr(nd,rd,t),Cr(nd,rd,"esm2017")}Jt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Jt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};cS();var fS="firebase",dS="10.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(fS,dS,"app");const hS={apiKey:"AIzaSyBAKhDeCZxmlCnq3Jkfs82szefJmn7KWTY",authDomain:"tengo-una-duda-a04ae.firebaseapp.com",databaseURL:"https://tengo-una-duda-a04ae-default-rtdb.firebaseio.com",projectId:"tengo-una-duda-a04ae",storageBucket:"tengo-una-duda-a04ae.appspot.com",messagingSenderId:"155765995446",appId:"1:155765995446:web:b01fb285c49434a84fb317",measurementId:"G-6HHD53SHQ0"},pS=Fv(hS),vS=aS(pS),yS="/assets/horizontalLogo-0b0a571b.png";function mS(){this.__data__=[],this.size=0}var gS=mS;function _S(t,e){return t===e||t!==t&&e!==e}var lm=_S,ES=lm;function wS(t,e){for(var n=t.length;n--;)if(ES(t[n][0],e))return n;return-1}var Jl=wS,SS=Jl,bS=Array.prototype,OS=bS.splice;function kS(t){var e=this.__data__,n=SS(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():OS.call(e,n,1),--this.size,!0}var TS=kS,NS=Jl;function CS(t){var e=this.__data__,n=NS(e,t);return n<0?void 0:e[n][1]}var AS=CS,xS=Jl;function IS(t){return xS(this.__data__,t)>-1}var PS=IS,RS=Jl;function LS(t,e){var n=this.__data__,r=RS(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var DS=LS,MS=gS,jS=TS,FS=AS,BS=PS,qS=DS;function Yr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yr.prototype.clear=MS;Yr.prototype.delete=jS;Yr.prototype.get=FS;Yr.prototype.has=BS;Yr.prototype.set=qS;var es=Yr,$S=es;function US(){this.__data__=new $S,this.size=0}var zS=US;function HS(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var WS=HS;function VS(t){return this.__data__.get(t)}var KS=VS;function GS(t){return this.__data__.has(t)}var QS=GS,YS=typeof ht=="object"&&ht&&ht.Object===Object&&ht,sm=YS,XS=sm,ZS=typeof self=="object"&&self&&self.Object===Object&&self,JS=XS||ZS||Function("return this")(),un=JS,eb=un,tb=eb.Symbol,Rc=tb,jd=Rc,am=Object.prototype,nb=am.hasOwnProperty,rb=am.toString,pi=jd?jd.toStringTag:void 0;function ib(t){var e=nb.call(t,pi),n=t[pi];try{t[pi]=void 0;var r=!0}catch{}var i=rb.call(t);return r&&(e?t[pi]=n:delete t[pi]),i}var ob=ib,lb=Object.prototype,sb=lb.toString;function ab(t){return sb.call(t)}var ub=ab,Fd=Rc,cb=ob,fb=ub,db="[object Null]",hb="[object Undefined]",Bd=Fd?Fd.toStringTag:void 0;function pb(t){return t==null?t===void 0?hb:db:Bd&&Bd in Object(t)?cb(t):fb(t)}var ts=pb;function vb(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var um=vb,yb=ts,mb=um,gb="[object AsyncFunction]",_b="[object Function]",Eb="[object GeneratorFunction]",wb="[object Proxy]";function Sb(t){if(!mb(t))return!1;var e=yb(t);return e==_b||e==Eb||e==gb||e==wb}var cm=Sb,bb=un,Ob=bb["__core-js_shared__"],kb=Ob,zs=kb,qd=function(){var t=/[^.]+$/.exec(zs&&zs.keys&&zs.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Tb(t){return!!qd&&qd in t}var Nb=Tb,Cb=Function.prototype,Ab=Cb.toString;function xb(t){if(t!=null){try{return Ab.call(t)}catch{}try{return t+""}catch{}}return""}var fm=xb,Ib=cm,Pb=Nb,Rb=um,Lb=fm,Db=/[\\^$.*+?()[\]{}|]/g,Mb=/^\[object .+?Constructor\]$/,jb=Function.prototype,Fb=Object.prototype,Bb=jb.toString,qb=Fb.hasOwnProperty,$b=RegExp("^"+Bb.call(qb).replace(Db,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ub(t){if(!Rb(t)||Pb(t))return!1;var e=Ib(t)?$b:Mb;return e.test(Lb(t))}var zb=Ub;function Hb(t,e){return t==null?void 0:t[e]}var Wb=Hb,Vb=zb,Kb=Wb;function Gb(t,e){var n=Kb(t,e);return Vb(n)?n:void 0}var Xr=Gb,Qb=Xr,Yb=un,Xb=Qb(Yb,"Map"),Lc=Xb,Zb=Xr,Jb=Zb(Object,"create"),ns=Jb,$d=ns;function eO(){this.__data__=$d?$d(null):{},this.size=0}var tO=eO;function nO(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var rO=nO,iO=ns,oO="__lodash_hash_undefined__",lO=Object.prototype,sO=lO.hasOwnProperty;function aO(t){var e=this.__data__;if(iO){var n=e[t];return n===oO?void 0:n}return sO.call(e,t)?e[t]:void 0}var uO=aO,cO=ns,fO=Object.prototype,dO=fO.hasOwnProperty;function hO(t){var e=this.__data__;return cO?e[t]!==void 0:dO.call(e,t)}var pO=hO,vO=ns,yO="__lodash_hash_undefined__";function mO(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=vO&&e===void 0?yO:e,this}var gO=mO,_O=tO,EO=rO,wO=uO,SO=pO,bO=gO;function Zr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zr.prototype.clear=_O;Zr.prototype.delete=EO;Zr.prototype.get=wO;Zr.prototype.has=SO;Zr.prototype.set=bO;var OO=Zr,Ud=OO,kO=es,TO=Lc;function NO(){this.size=0,this.__data__={hash:new Ud,map:new(TO||kO),string:new Ud}}var CO=NO;function AO(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var xO=AO,IO=xO;function PO(t,e){var n=t.__data__;return IO(e)?n[typeof e=="string"?"string":"hash"]:n.map}var rs=PO,RO=rs;function LO(t){var e=RO(this,t).delete(t);return this.size-=e?1:0,e}var DO=LO,MO=rs;function jO(t){return MO(this,t).get(t)}var FO=jO,BO=rs;function qO(t){return BO(this,t).has(t)}var $O=qO,UO=rs;function zO(t,e){var n=UO(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var HO=zO,WO=CO,VO=DO,KO=FO,GO=$O,QO=HO;function Jr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jr.prototype.clear=WO;Jr.prototype.delete=VO;Jr.prototype.get=KO;Jr.prototype.has=GO;Jr.prototype.set=QO;var dm=Jr,YO=es,XO=Lc,ZO=dm,JO=200;function ek(t,e){var n=this.__data__;if(n instanceof YO){var r=n.__data__;if(!XO||r.length<JO-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ZO(r)}return n.set(t,e),this.size=n.size,this}var tk=ek,nk=es,rk=zS,ik=WS,ok=KS,lk=QS,sk=tk;function ei(t){var e=this.__data__=new nk(t);this.size=e.size}ei.prototype.clear=rk;ei.prototype.delete=ik;ei.prototype.get=ok;ei.prototype.has=lk;ei.prototype.set=sk;var ak=ei,uk="__lodash_hash_undefined__";function ck(t){return this.__data__.set(t,uk),this}var fk=ck;function dk(t){return this.__data__.has(t)}var hk=dk,pk=dm,vk=fk,yk=hk;function kl(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new pk;++e<n;)this.add(t[e])}kl.prototype.add=kl.prototype.push=vk;kl.prototype.has=yk;var mk=kl;function gk(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var _k=gk;function Ek(t,e){return t.has(e)}var wk=Ek,Sk=mk,bk=_k,Ok=wk,kk=1,Tk=2;function Nk(t,e,n,r,i,o){var l=n&kk,s=t.length,a=e.length;if(s!=a&&!(l&&a>s))return!1;var d=o.get(t),y=o.get(e);if(d&&y)return d==e&&y==t;var c=-1,u=!0,p=n&Tk?new Sk:void 0;for(o.set(t,e),o.set(e,t);++c<s;){var _=t[c],g=e[c];if(r)var E=l?r(g,_,c,e,t,o):r(_,g,c,t,e,o);if(E!==void 0){if(E)continue;u=!1;break}if(p){if(!bk(e,function(h,f){if(!Ok(p,f)&&(_===h||i(_,h,n,r,o)))return p.push(f)})){u=!1;break}}else if(!(_===g||i(_,g,n,r,o))){u=!1;break}}return o.delete(t),o.delete(e),u}var hm=Nk,Ck=un,Ak=Ck.Uint8Array,xk=Ak;function Ik(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Pk=Ik;function Rk(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Lk=Rk,zd=Rc,Hd=xk,Dk=lm,Mk=hm,jk=Pk,Fk=Lk,Bk=1,qk=2,$k="[object Boolean]",Uk="[object Date]",zk="[object Error]",Hk="[object Map]",Wk="[object Number]",Vk="[object RegExp]",Kk="[object Set]",Gk="[object String]",Qk="[object Symbol]",Yk="[object ArrayBuffer]",Xk="[object DataView]",Wd=zd?zd.prototype:void 0,Hs=Wd?Wd.valueOf:void 0;function Zk(t,e,n,r,i,o,l){switch(n){case Xk:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Yk:return!(t.byteLength!=e.byteLength||!o(new Hd(t),new Hd(e)));case $k:case Uk:case Wk:return Dk(+t,+e);case zk:return t.name==e.name&&t.message==e.message;case Vk:case Gk:return t==e+"";case Hk:var s=jk;case Kk:var a=r&Bk;if(s||(s=Fk),t.size!=e.size&&!a)return!1;var d=l.get(t);if(d)return d==e;r|=qk,l.set(t,e);var y=Mk(s(t),s(e),r,i,o,l);return l.delete(t),y;case Qk:if(Hs)return Hs.call(t)==Hs.call(e)}return!1}var Jk=Zk;function eT(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var tT=eT,nT=Array.isArray,Dc=nT,rT=tT,iT=Dc;function oT(t,e,n){var r=e(t);return iT(t)?r:rT(r,n(t))}var lT=oT;function sT(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var l=t[n];e(l,n,t)&&(o[i++]=l)}return o}var aT=sT;function uT(){return[]}var cT=uT,fT=aT,dT=cT,hT=Object.prototype,pT=hT.propertyIsEnumerable,Vd=Object.getOwnPropertySymbols,vT=Vd?function(t){return t==null?[]:(t=Object(t),fT(Vd(t),function(e){return pT.call(t,e)}))}:dT,yT=vT;function mT(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var gT=mT;function _T(t){return t!=null&&typeof t=="object"}var is=_T,ET=ts,wT=is,ST="[object Arguments]";function bT(t){return wT(t)&&ET(t)==ST}var OT=bT,Kd=OT,kT=is,pm=Object.prototype,TT=pm.hasOwnProperty,NT=pm.propertyIsEnumerable,CT=Kd(function(){return arguments}())?Kd:function(t){return kT(t)&&TT.call(t,"callee")&&!NT.call(t,"callee")},AT=CT,Tl={exports:{}};function xT(){return!1}var IT=xT;Tl.exports;(function(t,e){var n=un,r=IT,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,l=o&&o.exports===i,s=l?n.Buffer:void 0,a=s?s.isBuffer:void 0,d=a||r;t.exports=d})(Tl,Tl.exports);var vm=Tl.exports,PT=9007199254740991,RT=/^(?:0|[1-9]\d*)$/;function LT(t,e){var n=typeof t;return e=e??PT,!!e&&(n=="number"||n!="symbol"&&RT.test(t))&&t>-1&&t%1==0&&t<e}var DT=LT,MT=9007199254740991;function jT(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=MT}var ym=jT,FT=ts,BT=ym,qT=is,$T="[object Arguments]",UT="[object Array]",zT="[object Boolean]",HT="[object Date]",WT="[object Error]",VT="[object Function]",KT="[object Map]",GT="[object Number]",QT="[object Object]",YT="[object RegExp]",XT="[object Set]",ZT="[object String]",JT="[object WeakMap]",eN="[object ArrayBuffer]",tN="[object DataView]",nN="[object Float32Array]",rN="[object Float64Array]",iN="[object Int8Array]",oN="[object Int16Array]",lN="[object Int32Array]",sN="[object Uint8Array]",aN="[object Uint8ClampedArray]",uN="[object Uint16Array]",cN="[object Uint32Array]",we={};we[nN]=we[rN]=we[iN]=we[oN]=we[lN]=we[sN]=we[aN]=we[uN]=we[cN]=!0;we[$T]=we[UT]=we[eN]=we[zT]=we[tN]=we[HT]=we[WT]=we[VT]=we[KT]=we[GT]=we[QT]=we[YT]=we[XT]=we[ZT]=we[JT]=!1;function fN(t){return qT(t)&&BT(t.length)&&!!we[FT(t)]}var dN=fN;function hN(t){return function(e){return t(e)}}var pN=hN,Nl={exports:{}};Nl.exports;(function(t,e){var n=sm,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,l=o&&n.process,s=function(){try{var a=i&&i.require&&i.require("util").types;return a||l&&l.binding&&l.binding("util")}catch{}}();t.exports=s})(Nl,Nl.exports);var vN=Nl.exports,yN=dN,mN=pN,Gd=vN,Qd=Gd&&Gd.isTypedArray,gN=Qd?mN(Qd):yN,mm=gN,_N=gT,EN=AT,wN=Dc,SN=vm,bN=DT,ON=mm,kN=Object.prototype,TN=kN.hasOwnProperty;function NN(t,e){var n=wN(t),r=!n&&EN(t),i=!n&&!r&&SN(t),o=!n&&!r&&!i&&ON(t),l=n||r||i||o,s=l?_N(t.length,String):[],a=s.length;for(var d in t)(e||TN.call(t,d))&&!(l&&(d=="length"||i&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||bN(d,a)))&&s.push(d);return s}var CN=NN,AN=Object.prototype;function xN(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||AN;return t===n}var IN=xN;function PN(t,e){return function(n){return t(e(n))}}var RN=PN,LN=RN,DN=LN(Object.keys,Object),MN=DN,jN=IN,FN=MN,BN=Object.prototype,qN=BN.hasOwnProperty;function $N(t){if(!jN(t))return FN(t);var e=[];for(var n in Object(t))qN.call(t,n)&&n!="constructor"&&e.push(n);return e}var UN=$N,zN=cm,HN=ym;function WN(t){return t!=null&&HN(t.length)&&!zN(t)}var VN=WN,KN=CN,GN=UN,QN=VN;function YN(t){return QN(t)?KN(t):GN(t)}var XN=YN,ZN=lT,JN=yT,eC=XN;function tC(t){return ZN(t,eC,JN)}var nC=tC,Yd=nC,rC=1,iC=Object.prototype,oC=iC.hasOwnProperty;function lC(t,e,n,r,i,o){var l=n&rC,s=Yd(t),a=s.length,d=Yd(e),y=d.length;if(a!=y&&!l)return!1;for(var c=a;c--;){var u=s[c];if(!(l?u in e:oC.call(e,u)))return!1}var p=o.get(t),_=o.get(e);if(p&&_)return p==e&&_==t;var g=!0;o.set(t,e),o.set(e,t);for(var E=l;++c<a;){u=s[c];var h=t[u],f=e[u];if(r)var m=l?r(f,h,u,e,t,o):r(h,f,u,t,e,o);if(!(m===void 0?h===f||i(h,f,n,r,o):m)){g=!1;break}E||(E=u=="constructor")}if(g&&!E){var v=t.constructor,w=e.constructor;v!=w&&"constructor"in t&&"constructor"in e&&!(typeof v=="function"&&v instanceof v&&typeof w=="function"&&w instanceof w)&&(g=!1)}return o.delete(t),o.delete(e),g}var sC=lC,aC=Xr,uC=un,cC=aC(uC,"DataView"),fC=cC,dC=Xr,hC=un,pC=dC(hC,"Promise"),vC=pC,yC=Xr,mC=un,gC=yC(mC,"Set"),_C=gC,EC=Xr,wC=un,SC=EC(wC,"WeakMap"),bC=SC,su=fC,au=Lc,uu=vC,cu=_C,fu=bC,gm=ts,ti=fm,Xd="[object Map]",OC="[object Object]",Zd="[object Promise]",Jd="[object Set]",eh="[object WeakMap]",th="[object DataView]",kC=ti(su),TC=ti(au),NC=ti(uu),CC=ti(cu),AC=ti(fu),Bn=gm;(su&&Bn(new su(new ArrayBuffer(1)))!=th||au&&Bn(new au)!=Xd||uu&&Bn(uu.resolve())!=Zd||cu&&Bn(new cu)!=Jd||fu&&Bn(new fu)!=eh)&&(Bn=function(t){var e=gm(t),n=e==OC?t.constructor:void 0,r=n?ti(n):"";if(r)switch(r){case kC:return th;case TC:return Xd;case NC:return Zd;case CC:return Jd;case AC:return eh}return e});var xC=Bn,Ws=ak,IC=hm,PC=Jk,RC=sC,nh=xC,rh=Dc,ih=vm,LC=mm,DC=1,oh="[object Arguments]",lh="[object Array]",xo="[object Object]",MC=Object.prototype,sh=MC.hasOwnProperty;function jC(t,e,n,r,i,o){var l=rh(t),s=rh(e),a=l?lh:nh(t),d=s?lh:nh(e);a=a==oh?xo:a,d=d==oh?xo:d;var y=a==xo,c=d==xo,u=a==d;if(u&&ih(t)){if(!ih(e))return!1;l=!0,y=!1}if(u&&!y)return o||(o=new Ws),l||LC(t)?IC(t,e,n,r,i,o):PC(t,e,a,n,r,i,o);if(!(n&DC)){var p=y&&sh.call(t,"__wrapped__"),_=c&&sh.call(e,"__wrapped__");if(p||_){var g=p?t.value():t,E=_?e.value():e;return o||(o=new Ws),i(g,E,n,r,o)}}return u?(o||(o=new Ws),RC(t,e,n,r,i,o)):!1}var FC=jC,BC=FC,ah=is;function _m(t,e,n,r,i){return t===e?!0:t==null||e==null||!ah(t)&&!ah(e)?t!==t&&e!==e:BC(t,e,n,r,_m,i)}var qC=_m,$C=qC;function UC(t,e){return $C(t,e)}var zC=UC,Em={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:ht,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var l=r[o]={i:o,l:!1,exports:{}};return n[o].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=n,i.c=r,i.d=function(o,l,s){i.o(o,l)||Object.defineProperty(o,l,{configurable:!1,enumerable:!0,get:s})},i.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(l,"a",l),l},i.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),l=i(18),s=i(19),a=i(45),d=i(46),y=i(47),c=i(48),u=i(49),p=i(12),_=i(32),g=i(33),E=i(31),h=i(1),f={Scope:h.Scope,create:h.create,find:h.find,query:h.query,register:h.register,Container:o.default,Format:l.default,Leaf:s.default,Embed:c.default,Scroll:a.default,Block:y.default,Inline:d.default,Text:u.default,Attributor:{Attribute:p.default,Class:_.default,Style:g.default,Store:E.default}};r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var m in f)f.hasOwnProperty(m)&&(h[m]=f[m])};return function(h,f){E(h,f);function m(){this.constructor=h}h.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=function(E){o(h,E);function h(f){var m=this;return f="[Parchment] "+f,m=E.call(this,f)||this,m.message=f,m.name=m.constructor.name,m}return h}(Error);r.ParchmentError=l;var s={},a={},d={},y={};r.DATA_KEY="__blot";var c;(function(E){E[E.TYPE=3]="TYPE",E[E.LEVEL=12]="LEVEL",E[E.ATTRIBUTE=13]="ATTRIBUTE",E[E.BLOT=14]="BLOT",E[E.INLINE=7]="INLINE",E[E.BLOCK=11]="BLOCK",E[E.BLOCK_BLOT=10]="BLOCK_BLOT",E[E.INLINE_BLOT=6]="INLINE_BLOT",E[E.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",E[E.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",E[E.ANY=15]="ANY"})(c=r.Scope||(r.Scope={}));function u(E,h){var f=_(E);if(f==null)throw new l("Unable to create "+E+" blot");var m=f,v=E instanceof Node||E.nodeType===Node.TEXT_NODE?E:m.create(h);return new m(v,h)}r.create=u;function p(E,h){return h===void 0&&(h=!1),E==null?null:E[r.DATA_KEY]!=null?E[r.DATA_KEY].blot:h?p(E.parentNode,h):null}r.find=p;function _(E,h){h===void 0&&(h=c.ANY);var f;if(typeof E=="string")f=y[E]||s[E];else if(E instanceof Text||E.nodeType===Node.TEXT_NODE)f=y.text;else if(typeof E=="number")E&c.LEVEL&c.BLOCK?f=y.block:E&c.LEVEL&c.INLINE&&(f=y.inline);else if(E instanceof HTMLElement){var m=(E.getAttribute("class")||"").split(/\s+/);for(var v in m)if(f=a[m[v]],f)break;f=f||d[E.tagName]}return f==null?null:h&c.LEVEL&f.scope&&h&c.TYPE&f.scope?f:null}r.query=_;function g(){for(var E=[],h=0;h<arguments.length;h++)E[h]=arguments[h];if(E.length>1)return E.map(function(v){return g(v)});var f=E[0];if(typeof f.blotName!="string"&&typeof f.attrName!="string")throw new l("Invalid definition");if(f.blotName==="abstract")throw new l("Cannot register abstract class");if(y[f.blotName||f.attrName]=f,typeof f.keyName=="string")s[f.keyName]=f;else if(f.className!=null&&(a[f.className]=f),f.tagName!=null){Array.isArray(f.tagName)?f.tagName=f.tagName.map(function(v){return v.toUpperCase()}):f.tagName=f.tagName.toUpperCase();var m=Array.isArray(f.tagName)?f.tagName:[f.tagName];m.forEach(function(v){(d[v]==null||f.className==null)&&(d[v]=f)})}return f}r.register=g},function(n,r,i){var o=i(51),l=i(11),s=i(3),a=i(20),d=String.fromCharCode(0),y=function(c){Array.isArray(c)?this.ops=c:c!=null&&Array.isArray(c.ops)?this.ops=c.ops:this.ops=[]};y.prototype.insert=function(c,u){var p={};return c.length===0?this:(p.insert=c,u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(p.attributes=u),this.push(p))},y.prototype.delete=function(c){return c<=0?this:this.push({delete:c})},y.prototype.retain=function(c,u){if(c<=0)return this;var p={retain:c};return u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(p.attributes=u),this.push(p)},y.prototype.push=function(c){var u=this.ops.length,p=this.ops[u-1];if(c=s(!0,{},c),typeof p=="object"){if(typeof c.delete=="number"&&typeof p.delete=="number")return this.ops[u-1]={delete:p.delete+c.delete},this;if(typeof p.delete=="number"&&c.insert!=null&&(u-=1,p=this.ops[u-1],typeof p!="object"))return this.ops.unshift(c),this;if(l(c.attributes,p.attributes)){if(typeof c.insert=="string"&&typeof p.insert=="string")return this.ops[u-1]={insert:p.insert+c.insert},typeof c.attributes=="object"&&(this.ops[u-1].attributes=c.attributes),this;if(typeof c.retain=="number"&&typeof p.retain=="number")return this.ops[u-1]={retain:p.retain+c.retain},typeof c.attributes=="object"&&(this.ops[u-1].attributes=c.attributes),this}}return u===this.ops.length?this.ops.push(c):this.ops.splice(u,0,c),this},y.prototype.chop=function(){var c=this.ops[this.ops.length-1];return c&&c.retain&&!c.attributes&&this.ops.pop(),this},y.prototype.filter=function(c){return this.ops.filter(c)},y.prototype.forEach=function(c){this.ops.forEach(c)},y.prototype.map=function(c){return this.ops.map(c)},y.prototype.partition=function(c){var u=[],p=[];return this.forEach(function(_){var g=c(_)?u:p;g.push(_)}),[u,p]},y.prototype.reduce=function(c,u){return this.ops.reduce(c,u)},y.prototype.changeLength=function(){return this.reduce(function(c,u){return u.insert?c+a.length(u):u.delete?c-u.delete:c},0)},y.prototype.length=function(){return this.reduce(function(c,u){return c+a.length(u)},0)},y.prototype.slice=function(c,u){c=c||0,typeof u!="number"&&(u=1/0);for(var p=[],_=a.iterator(this.ops),g=0;g<u&&_.hasNext();){var E;g<c?E=_.next(c-g):(E=_.next(u-g),p.push(E)),g+=a.length(E)}return new y(p)},y.prototype.compose=function(c){var u=a.iterator(this.ops),p=a.iterator(c.ops),_=[],g=p.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var E=g.retain;u.peekType()==="insert"&&u.peekLength()<=E;)E-=u.peekLength(),_.push(u.next());g.retain-E>0&&p.next(g.retain-E)}for(var h=new y(_);u.hasNext()||p.hasNext();)if(p.peekType()==="insert")h.push(p.next());else if(u.peekType()==="delete")h.push(u.next());else{var f=Math.min(u.peekLength(),p.peekLength()),m=u.next(f),v=p.next(f);if(typeof v.retain=="number"){var w={};typeof m.retain=="number"?w.retain=f:w.insert=m.insert;var N=a.attributes.compose(m.attributes,v.attributes,typeof m.retain=="number");if(N&&(w.attributes=N),h.push(w),!p.hasNext()&&l(h.ops[h.ops.length-1],w)){var S=new y(u.rest());return h.concat(S).chop()}}else typeof v.delete=="number"&&typeof m.retain=="number"&&h.push(v)}return h.chop()},y.prototype.concat=function(c){var u=new y(this.ops.slice());return c.ops.length>0&&(u.push(c.ops[0]),u.ops=u.ops.concat(c.ops.slice(1))),u},y.prototype.diff=function(c,u){if(this.ops===c.ops)return new y;var p=[this,c].map(function(f){return f.map(function(m){if(m.insert!=null)return typeof m.insert=="string"?m.insert:d;var v=f===c?"on":"with";throw new Error("diff() called "+v+" non-document")}).join("")}),_=new y,g=o(p[0],p[1],u),E=a.iterator(this.ops),h=a.iterator(c.ops);return g.forEach(function(f){for(var m=f[1].length;m>0;){var v=0;switch(f[0]){case o.INSERT:v=Math.min(h.peekLength(),m),_.push(h.next(v));break;case o.DELETE:v=Math.min(m,E.peekLength()),E.next(v),_.delete(v);break;case o.EQUAL:v=Math.min(E.peekLength(),h.peekLength(),m);var w=E.next(v),N=h.next(v);l(w.insert,N.insert)?_.retain(v,a.attributes.diff(w.attributes,N.attributes)):_.push(N).delete(v);break}m-=v}}),_.chop()},y.prototype.eachLine=function(c,u){u=u||`
`;for(var p=a.iterator(this.ops),_=new y,g=0;p.hasNext();){if(p.peekType()!=="insert")return;var E=p.peek(),h=a.length(E)-p.peekLength(),f=typeof E.insert=="string"?E.insert.indexOf(u,h)-h:-1;if(f<0)_.push(p.next());else if(f>0)_.push(p.next(f));else{if(c(_,p.next(1).attributes||{},g)===!1)return;g+=1,_=new y}}_.length()>0&&c(_,{},g)},y.prototype.transform=function(c,u){if(u=!!u,typeof c=="number")return this.transformPosition(c,u);for(var p=a.iterator(this.ops),_=a.iterator(c.ops),g=new y;p.hasNext()||_.hasNext();)if(p.peekType()==="insert"&&(u||_.peekType()!=="insert"))g.retain(a.length(p.next()));else if(_.peekType()==="insert")g.push(_.next());else{var E=Math.min(p.peekLength(),_.peekLength()),h=p.next(E),f=_.next(E);if(h.delete)continue;f.delete?g.push(f):g.retain(E,a.attributes.transform(h.attributes,f.attributes,u))}return g.chop()},y.prototype.transformPosition=function(c,u){u=!!u;for(var p=a.iterator(this.ops),_=0;p.hasNext()&&_<=c;){var g=p.peekLength(),E=p.peekType();if(p.next(),E==="delete"){c-=Math.min(g,c-_);continue}else E==="insert"&&(_<c||!u)&&(c+=g);_+=g}return c},n.exports=y},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,l=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=function(p){return typeof Array.isArray=="function"?Array.isArray(p):o.call(p)==="[object Array]"},d=function(p){if(!p||o.call(p)!=="[object Object]")return!1;var _=i.call(p,"constructor"),g=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!_&&!g)return!1;var E;for(E in p);return typeof E>"u"||i.call(p,E)},y=function(p,_){l&&_.name==="__proto__"?l(p,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):p[_.name]=_.newValue},c=function(p,_){if(_==="__proto__")if(i.call(p,_)){if(s)return s(p,_).value}else return;return p[_]};n.exports=function u(){var p,_,g,E,h,f,m=arguments[0],v=1,w=arguments.length,N=!1;for(typeof m=="boolean"&&(N=m,m=arguments[1]||{},v=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});v<w;++v)if(p=arguments[v],p!=null)for(_ in p)g=c(m,_),E=c(p,_),m!==E&&(N&&E&&(d(E)||(h=a(E)))?(h?(h=!1,f=g&&a(g)?g:[]):f=g&&d(g)?g:{},y(m,{name:_,newValue:u(N,f,E)})):typeof E<"u"&&y(m,{name:_,newValue:E}));return m}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function b(T,A){for(var P=0;P<A.length;P++){var M=A[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}return function(T,A,P){return A&&b(T.prototype,A),P&&b(T,P),T}}(),l=function b(T,A,P){T===null&&(T=Function.prototype);var M=Object.getOwnPropertyDescriptor(T,A);if(M===void 0){var q=Object.getPrototypeOf(T);return q===null?void 0:b(q,A,P)}else{if("value"in M)return M.value;var U=M.get;return U===void 0?void 0:U.call(P)}},s=i(3),a=m(s),d=i(2),y=m(d),c=i(0),u=m(c),p=i(16),_=m(p),g=i(6),E=m(g),h=i(7),f=m(h);function m(b){return b&&b.__esModule?b:{default:b}}function v(b,T){if(!(b instanceof T))throw new TypeError("Cannot call a class as a function")}function w(b,T){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:b}function N(b,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);b.prototype=Object.create(T&&T.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(b,T):b.__proto__=T)}var S=1,k=function(b){N(T,b);function T(){return v(this,T),w(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return o(T,[{key:"attach",value:function(){l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"attach",this).call(this),this.attributes=new u.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new y.default().insert(this.value(),(0,a.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(P,M){var q=u.default.query(P,u.default.Scope.BLOCK_ATTRIBUTE);q!=null&&this.attributes.attribute(q,M)}},{key:"formatAt",value:function(P,M,q,U){this.format(q,U)}},{key:"insertAt",value:function(P,M,q){if(typeof M=="string"&&M.endsWith(`
`)){var U=u.default.create(x.blotName);this.parent.insertBefore(U,P===0?this:this.next),U.insertAt(0,M.slice(0,-1))}else l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,P,M,q)}}]),T}(u.default.Embed);k.scope=u.default.Scope.BLOCK_BLOT;var x=function(b){N(T,b);function T(A){v(this,T);var P=w(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A));return P.cache={},P}return o(T,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(u.default.Leaf).reduce(function(P,M){return M.length()===0?P:P.insert(M.value(),O(M))},new y.default).insert(`
`,O(this))),this.cache.delta}},{key:"deleteAt",value:function(P,M){l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,P,M),this.cache={}}},{key:"formatAt",value:function(P,M,q,U){M<=0||(u.default.query(q,u.default.Scope.BLOCK)?P+M===this.length()&&this.format(q,U):l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,P,Math.min(M,this.length()-P-1),q,U),this.cache={})}},{key:"insertAt",value:function(P,M,q){if(q!=null)return l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,P,M,q);if(M.length!==0){var U=M.split(`
`),z=U.shift();z.length>0&&(P<this.length()-1||this.children.tail==null?l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,Math.min(P,this.length()-1),z):this.children.tail.insertAt(this.children.tail.length(),z),this.cache={});var j=this;U.reduce(function(L,C){return j=j.split(L,!0),j.insertAt(0,C),C.length},P+z.length)}}},{key:"insertBefore",value:function(P,M){var q=this.children.head;l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,P,M),q instanceof _.default&&q.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(P,M){l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"moveChildren",this).call(this,P,M),this.cache={}}},{key:"optimize",value:function(P){l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,P),this.cache={}}},{key:"path",value:function(P){return l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,P,!0)}},{key:"removeChild",value:function(P){l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"removeChild",this).call(this,P),this.cache={}}},{key:"split",value:function(P){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(M&&(P===0||P>=this.length()-S)){var q=this.clone();return P===0?(this.parent.insertBefore(q,this),this):(this.parent.insertBefore(q,this.next),q)}else{var U=l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"split",this).call(this,P,M);return this.cache={},U}}}]),T}(u.default.Block);x.blotName="block",x.tagName="P",x.defaultChild="break",x.allowedChildren=[E.default,u.default.Embed,f.default];function O(b){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return b==null||(typeof b.formats=="function"&&(T=(0,a.default)(T,b.formats())),b.parent==null||b.parent.blotName=="scroll"||b.parent.statics.scope!==b.statics.scope)?T:O(b.parent,T)}r.bubbleFormats=O,r.BlockEmbed=k,r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},l=function(){function j(L,C){var R=[],D=!0,$=!1,B=void 0;try{for(var I=L[Symbol.iterator](),F;!(D=(F=I.next()).done)&&(R.push(F.value),!(C&&R.length===C));D=!0);}catch(H){$=!0,B=H}finally{try{!D&&I.return&&I.return()}finally{if($)throw B}}return R}return function(L,C){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return j(L,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function j(L,C){for(var R=0;R<C.length;R++){var D=C[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(L,D.key,D)}}return function(L,C,R){return C&&j(L.prototype,C),R&&j(L,R),L}}();i(50);var a=i(2),d=O(a),y=i(14),c=O(y),u=i(8),p=O(u),_=i(9),g=O(_),E=i(0),h=O(E),f=i(15),m=O(f),v=i(3),w=O(v),N=i(10),S=O(N),k=i(34),x=O(k);function O(j){return j&&j.__esModule?j:{default:j}}function b(j,L,C){return L in j?Object.defineProperty(j,L,{value:C,enumerable:!0,configurable:!0,writable:!0}):j[L]=C,j}function T(j,L){if(!(j instanceof L))throw new TypeError("Cannot call a class as a function")}var A=(0,S.default)("quill"),P=function(){s(j,null,[{key:"debug",value:function(C){C===!0&&(C="log"),S.default.level(C)}},{key:"find",value:function(C){return C.__quill||h.default.find(C)}},{key:"import",value:function(C){return this.imports[C]==null&&A.error("Cannot import "+C+". Are you sure it was registered?"),this.imports[C]}},{key:"register",value:function(C,R){var D=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof C!="string"){var B=C.attrName||C.blotName;typeof B=="string"?this.register("formats/"+B,C,R):Object.keys(C).forEach(function(I){D.register(I,C[I],R)})}else this.imports[C]!=null&&!$&&A.warn("Overwriting "+C+" with",R),this.imports[C]=R,(C.startsWith("blots/")||C.startsWith("formats/"))&&R.blotName!=="abstract"?h.default.register(R):C.startsWith("modules")&&typeof R.register=="function"&&R.register()}}]);function j(L){var C=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T(this,j),this.options=M(L,R),this.container=this.options.container,this.container==null)return A.error("Invalid Quill container",L);this.options.debug&&j.debug(this.options.debug);var D=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=h.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new c.default(this.scroll),this.selection=new m.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(B){B===p.default.events.TEXT_CHANGE&&C.root.classList.toggle("ql-blank",C.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(B,I){var F=C.selection.lastRange,H=F&&F.length===0?F.index:void 0;q.call(C,function(){return C.editor.update(null,I,H)},B)});var $=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+D+"<p><br></p></div>");this.setContents($),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return s(j,[{key:"addContainer",value:function(C){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof C=="string"){var D=C;C=document.createElement("div"),C.classList.add(D)}return this.container.insertBefore(C,R),C}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(C,R,D){var $=this,B=U(C,R,D),I=l(B,4);return C=I[0],R=I[1],D=I[3],q.call(this,function(){return $.editor.deleteText(C,R)},D,C,-1*R)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(C),this.container.classList.toggle("ql-disabled",!C)}},{key:"focus",value:function(){var C=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=C,this.scrollIntoView()}},{key:"format",value:function(C,R){var D=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return q.call(this,function(){var B=D.getSelection(!0),I=new d.default;if(B==null)return I;if(h.default.query(C,h.default.Scope.BLOCK))I=D.editor.formatLine(B.index,B.length,b({},C,R));else{if(B.length===0)return D.selection.format(C,R),I;I=D.editor.formatText(B.index,B.length,b({},C,R))}return D.setSelection(B,p.default.sources.SILENT),I},$)}},{key:"formatLine",value:function(C,R,D,$,B){var I=this,F=void 0,H=U(C,R,D,$,B),W=l(H,4);return C=W[0],R=W[1],F=W[2],B=W[3],q.call(this,function(){return I.editor.formatLine(C,R,F)},B,C,0)}},{key:"formatText",value:function(C,R,D,$,B){var I=this,F=void 0,H=U(C,R,D,$,B),W=l(H,4);return C=W[0],R=W[1],F=W[2],B=W[3],q.call(this,function(){return I.editor.formatText(C,R,F)},B,C,0)}},{key:"getBounds",value:function(C){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=void 0;typeof C=="number"?D=this.selection.getBounds(C,R):D=this.selection.getBounds(C.index,C.length);var $=this.container.getBoundingClientRect();return{bottom:D.bottom-$.top,height:D.height,left:D.left-$.left,right:D.right-$.left,top:D.top-$.top,width:D.width}}},{key:"getContents",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-C,D=U(C,R),$=l(D,2);return C=$[0],R=$[1],this.editor.getContents(C,R)}},{key:"getFormat",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof C=="number"?this.editor.getFormat(C,R):this.editor.getFormat(C.index,C.length)}},{key:"getIndex",value:function(C){return C.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(C){return this.scroll.leaf(C)}},{key:"getLine",value:function(C){return this.scroll.line(C)}},{key:"getLines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof C!="number"?this.scroll.lines(C.index,C.length):this.scroll.lines(C,R)}},{key:"getModule",value:function(C){return this.theme.modules[C]}},{key:"getSelection",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return C&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-C,D=U(C,R),$=l(D,2);return C=$[0],R=$[1],this.editor.getText(C,R)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(C,R,D){var $=this,B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:j.sources.API;return q.call(this,function(){return $.editor.insertEmbed(C,R,D)},B,C)}},{key:"insertText",value:function(C,R,D,$,B){var I=this,F=void 0,H=U(C,0,D,$,B),W=l(H,4);return C=W[0],F=W[2],B=W[3],q.call(this,function(){return I.editor.insertText(C,R,F)},B,C,R.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(C,R,D){this.clipboard.dangerouslyPasteHTML(C,R,D)}},{key:"removeFormat",value:function(C,R,D){var $=this,B=U(C,R,D),I=l(B,4);return C=I[0],R=I[1],D=I[3],q.call(this,function(){return $.editor.removeFormat(C,R)},D,C)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(C){var R=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return q.call(this,function(){C=new d.default(C);var $=R.getLength(),B=R.editor.deleteText(0,$),I=R.editor.applyDelta(C),F=I.ops[I.ops.length-1];F!=null&&typeof F.insert=="string"&&F.insert[F.insert.length-1]===`
`&&(R.editor.deleteText(R.getLength()-1,1),I.delete(1));var H=B.compose(I);return H},D)}},{key:"setSelection",value:function(C,R,D){if(C==null)this.selection.setRange(null,R||j.sources.API);else{var $=U(C,R,D),B=l($,4);C=B[0],R=B[1],D=B[3],this.selection.setRange(new f.Range(C,R),D),D!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(C){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,D=new d.default().insert(C);return this.setContents(D,R)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,R=this.scroll.update(C);return this.selection.update(C),R}},{key:"updateContents",value:function(C){var R=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return q.call(this,function(){return C=new d.default(C),R.editor.applyDelta(C,D)},D,!0)}}]),j}();P.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},P.events=p.default.events,P.sources=p.default.sources,P.version="1.3.7",P.imports={delta:d.default,parchment:h.default,"core/module":g.default,"core/theme":x.default};function M(j,L){if(L=(0,w.default)(!0,{container:j,modules:{clipboard:!0,keyboard:!0,history:!0}},L),!L.theme||L.theme===P.DEFAULTS.theme)L.theme=x.default;else if(L.theme=P.import("themes/"+L.theme),L.theme==null)throw new Error("Invalid theme "+L.theme+". Did you register it?");var C=(0,w.default)(!0,{},L.theme.DEFAULTS);[C,L].forEach(function($){$.modules=$.modules||{},Object.keys($.modules).forEach(function(B){$.modules[B]===!0&&($.modules[B]={})})});var R=Object.keys(C.modules).concat(Object.keys(L.modules)),D=R.reduce(function($,B){var I=P.import("modules/"+B);return I==null?A.error("Cannot load "+B+" module. Are you sure you registered it?"):$[B]=I.DEFAULTS||{},$},{});return L.modules!=null&&L.modules.toolbar&&L.modules.toolbar.constructor!==Object&&(L.modules.toolbar={container:L.modules.toolbar}),L=(0,w.default)(!0,{},P.DEFAULTS,{modules:D},C,L),["bounds","container","scrollingContainer"].forEach(function($){typeof L[$]=="string"&&(L[$]=document.querySelector(L[$]))}),L.modules=Object.keys(L.modules).reduce(function($,B){return L.modules[B]&&($[B]=L.modules[B]),$},{}),L}function q(j,L,C,R){if(this.options.strict&&!this.isEnabled()&&L===p.default.sources.USER)return new d.default;var D=C==null?null:this.getSelection(),$=this.editor.delta,B=j();if(D!=null&&(C===!0&&(C=D.index),R==null?D=z(D,B,L):R!==0&&(D=z(D,C,R,L)),this.setSelection(D,p.default.sources.SILENT)),B.length()>0){var I,F=[p.default.events.TEXT_CHANGE,B,$,L];if((I=this.emitter).emit.apply(I,[p.default.events.EDITOR_CHANGE].concat(F)),L!==p.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,F)}}return B}function U(j,L,C,R,D){var $={};return typeof j.index=="number"&&typeof j.length=="number"?typeof L!="number"?(D=R,R=C,C=L,L=j.length,j=j.index):(L=j.length,j=j.index):typeof L!="number"&&(D=R,R=C,C=L,L=0),(typeof C>"u"?"undefined":o(C))==="object"?($=C,D=R):typeof C=="string"&&(R!=null?$[C]=R:D=C),D=D||p.default.sources.API,[j,L,$,D]}function z(j,L,C,R){if(j==null)return null;var D=void 0,$=void 0;if(L instanceof d.default){var B=[j.index,j.index+j.length].map(function(W){return L.transformPosition(W,R!==p.default.sources.USER)}),I=l(B,2);D=I[0],$=I[1]}else{var F=[j.index,j.index+j.length].map(function(W){return W<L||W===L&&R===p.default.sources.USER?W:C>=0?W+C:Math.max(L,W+C)}),H=l(F,2);D=H[0],$=H[1]}return new f.Range(D,$-D)}r.expandConfig=M,r.overload=U,r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(h,f){for(var m=0;m<f.length;m++){var v=f[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,f,m){return f&&E(h.prototype,f),m&&E(h,m),h}}(),l=function E(h,f,m){h===null&&(h=Function.prototype);var v=Object.getOwnPropertyDescriptor(h,f);if(v===void 0){var w=Object.getPrototypeOf(h);return w===null?void 0:E(w,f,m)}else{if("value"in v)return v.value;var N=v.get;return N===void 0?void 0:N.call(m)}},s=i(7),a=c(s),d=i(0),y=c(d);function c(E){return E&&E.__esModule?E:{default:E}}function u(E,h){if(!(E instanceof h))throw new TypeError("Cannot call a class as a function")}function p(E,h){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:E}function _(E,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);E.prototype=Object.create(h&&h.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(E,h):E.__proto__=h)}var g=function(E){_(h,E);function h(){return u(this,h),p(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return o(h,[{key:"formatAt",value:function(m,v,w,N){if(h.compare(this.statics.blotName,w)<0&&y.default.query(w,y.default.Scope.BLOT)){var S=this.isolate(m,v);N&&S.wrap(w,N)}else l(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"formatAt",this).call(this,m,v,w,N)}},{key:"optimize",value:function(m){if(l(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,m),this.parent instanceof h&&h.compare(this.statics.blotName,this.parent.statics.blotName)>0){var v=this.parent.isolate(this.offset(),this.length());this.moveChildren(v),v.wrap(this)}}}],[{key:"compare",value:function(m,v){var w=h.order.indexOf(m),N=h.order.indexOf(v);return w>=0||N>=0?w-N:m===v?0:m<v?-1:1}}]),h}(y.default.Inline);g.allowedChildren=[g,y.default.Embed,a.default],g.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),l=s(o);function s(u){return u&&u.__esModule?u:{default:u}}function a(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function d(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function y(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var c=function(u){y(p,u);function p(){return a(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(l.default.Text);r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function f(m,v){for(var w=0;w<v.length;w++){var N=v[w];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(m,N.key,N)}}return function(m,v,w){return v&&f(m.prototype,v),w&&f(m,w),m}}(),l=function f(m,v,w){m===null&&(m=Function.prototype);var N=Object.getOwnPropertyDescriptor(m,v);if(N===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:f(S,v,w)}else{if("value"in N)return N.value;var k=N.get;return k===void 0?void 0:k.call(w)}},s=i(54),a=c(s),d=i(10),y=c(d);function c(f){return f&&f.__esModule?f:{default:f}}function u(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function p(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:f}function _(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}var g=(0,y.default)("quill:events"),E=["selectionchange","mousedown","mouseup","click"];E.forEach(function(f){document.addEventListener(f,function(){for(var m=arguments.length,v=Array(m),w=0;w<m;w++)v[w]=arguments[w];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(N){if(N.__quill&&N.__quill.emitter){var S;(S=N.__quill.emitter).handleDOM.apply(S,v)}})})});var h=function(f){_(m,f);function m(){u(this,m);var v=p(this,(m.__proto__||Object.getPrototypeOf(m)).call(this));return v.listeners={},v.on("error",g.error),v}return o(m,[{key:"emit",value:function(){g.log.apply(g,arguments),l(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(w){for(var N=arguments.length,S=Array(N>1?N-1:0),k=1;k<N;k++)S[k-1]=arguments[k];(this.listeners[w.type]||[]).forEach(function(x){var O=x.node,b=x.handler;(w.target===O||O.contains(w.target))&&b.apply(void 0,[w].concat(S))})}},{key:"listenDOM",value:function(w,N,S){this.listeners[w]||(this.listeners[w]=[]),this.listeners[w].push({node:N,handler:S})}}]),m}(a.default);h.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},h.sources={API:"api",SILENT:"silent",USER:"user"},r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}var l=function s(a){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,s),this.quill=a,this.options=d};l.DEFAULTS={},r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],l="warn";function s(d){if(o.indexOf(d)<=o.indexOf(l)){for(var y,c=arguments.length,u=Array(c>1?c-1:0),p=1;p<c;p++)u[p-1]=arguments[p];(y=console)[d].apply(y,u)}}function a(d){return o.reduce(function(y,c){return y[c]=s.bind(console,c,d),y},{})}s.level=a.level=function(d){l=d},r.default=a},function(n,r,i){var o=Array.prototype.slice,l=i(52),s=i(53),a=n.exports=function(u,p,_){return _||(_={}),u===p?!0:u instanceof Date&&p instanceof Date?u.getTime()===p.getTime():!u||!p||typeof u!="object"&&typeof p!="object"?_.strict?u===p:u==p:c(u,p,_)};function d(u){return u==null}function y(u){return!(!u||typeof u!="object"||typeof u.length!="number"||typeof u.copy!="function"||typeof u.slice!="function"||u.length>0&&typeof u[0]!="number")}function c(u,p,_){var g,E;if(d(u)||d(p)||u.prototype!==p.prototype)return!1;if(s(u))return s(p)?(u=o.call(u),p=o.call(p),a(u,p,_)):!1;if(y(u)){if(!y(p)||u.length!==p.length)return!1;for(g=0;g<u.length;g++)if(u[g]!==p[g])return!1;return!0}try{var h=l(u),f=l(p)}catch{return!1}if(h.length!=f.length)return!1;for(h.sort(),f.sort(),g=h.length-1;g>=0;g--)if(h[g]!=f[g])return!1;for(g=h.length-1;g>=0;g--)if(E=h[g],!a(u[E],p[E],_))return!1;return typeof u==typeof p}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),l=function(){function s(a,d,y){y===void 0&&(y={}),this.attrName=a,this.keyName=d;var c=o.Scope.TYPE&o.Scope.ATTRIBUTE;y.scope!=null?this.scope=y.scope&o.Scope.LEVEL|c:this.scope=o.Scope.ATTRIBUTE,y.whitelist!=null&&(this.whitelist=y.whitelist)}return s.keys=function(a){return[].map.call(a.attributes,function(d){return d.name})},s.prototype.add=function(a,d){return this.canAdd(a,d)?(a.setAttribute(this.keyName,d),!0):!1},s.prototype.canAdd=function(a,d){var y=o.query(a,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return y==null?!1:this.whitelist==null?!0:typeof d=="string"?this.whitelist.indexOf(d.replace(/["']/g,""))>-1:this.whitelist.indexOf(d)>-1},s.prototype.remove=function(a){a.removeAttribute(this.keyName)},s.prototype.value=function(a){var d=a.getAttribute(this.keyName);return this.canAdd(a,d)&&d?d:""},s}();r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function k(x,O){var b=[],T=!0,A=!1,P=void 0;try{for(var M=x[Symbol.iterator](),q;!(T=(q=M.next()).done)&&(b.push(q.value),!(O&&b.length===O));T=!0);}catch(U){A=!0,P=U}finally{try{!T&&M.return&&M.return()}finally{if(A)throw P}}return b}return function(x,O){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return k(x,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function k(x,O){for(var b=0;b<O.length;b++){var T=O[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(x,T.key,T)}}return function(x,O,b){return O&&k(x.prototype,O),b&&k(x,b),x}}(),s=function k(x,O,b){x===null&&(x=Function.prototype);var T=Object.getOwnPropertyDescriptor(x,O);if(T===void 0){var A=Object.getPrototypeOf(x);return A===null?void 0:k(A,O,b)}else{if("value"in T)return T.value;var P=T.get;return P===void 0?void 0:P.call(b)}},a=i(2),d=f(a),y=i(0),c=f(y),u=i(4),p=f(u),_=i(6),g=f(_),E=i(7),h=f(E);function f(k){return k&&k.__esModule?k:{default:k}}function m(k,x){if(!(k instanceof x))throw new TypeError("Cannot call a class as a function")}function v(k,x){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:k}function w(k,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);k.prototype=Object.create(x&&x.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(k,x):k.__proto__=x)}var N=function(k){w(x,k);function x(){return m(this,x),v(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return x}(g.default);N.blotName="code",N.tagName="CODE";var S=function(k){w(x,k);function x(){return m(this,x),v(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return l(x,[{key:"delta",value:function(){var b=this,T=this.domNode.textContent;return T.endsWith(`
`)&&(T=T.slice(0,-1)),T.split(`
`).reduce(function(A,P){return A.insert(P).insert(`
`,b.formats())},new d.default)}},{key:"format",value:function(b,T){if(!(b===this.statics.blotName&&T)){var A=this.descendant(h.default,this.length()-1),P=o(A,1),M=P[0];M!=null&&M.deleteAt(M.length()-1,1),s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,b,T)}}},{key:"formatAt",value:function(b,T,A,P){if(T!==0&&!(c.default.query(A,c.default.Scope.BLOCK)==null||A===this.statics.blotName&&P===this.statics.formats(this.domNode))){var M=this.newlineIndex(b);if(!(M<0||M>=b+T)){var q=this.newlineIndex(b,!0)+1,U=M-q+1,z=this.isolate(q,U),j=z.next;z.format(A,P),j instanceof x&&j.formatAt(0,b-q+T-U,A,P)}}}},{key:"insertAt",value:function(b,T,A){if(A==null){var P=this.descendant(h.default,b),M=o(P,2),q=M[0],U=M[1];q.insertAt(U,T)}}},{key:"length",value:function(){var b=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?b:b+1}},{key:"newlineIndex",value:function(b){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T)return this.domNode.textContent.slice(0,b).lastIndexOf(`
`);var A=this.domNode.textContent.slice(b).indexOf(`
`);return A>-1?b+A:-1}},{key:"optimize",value:function(b){this.domNode.textContent.endsWith(`
`)||this.appendChild(c.default.create("text",`
`)),s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,b);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===T.statics.formats(T.domNode)&&(T.optimize(b),T.moveChildren(this),T.remove())}},{key:"replace",value:function(b){s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replace",this).call(this,b),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(T){var A=c.default.find(T);A==null?T.parentNode.removeChild(T):A instanceof c.default.Embed?A.remove():A.unwrap()})}}],[{key:"create",value:function(b){var T=s(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,b);return T.setAttribute("spellcheck",!1),T}},{key:"formats",value:function(){return!0}}]),x}(p.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=N,r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},l=function(){function j(L,C){var R=[],D=!0,$=!1,B=void 0;try{for(var I=L[Symbol.iterator](),F;!(D=(F=I.next()).done)&&(R.push(F.value),!(C&&R.length===C));D=!0);}catch(H){$=!0,B=H}finally{try{!D&&I.return&&I.return()}finally{if($)throw B}}return R}return function(L,C){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return j(L,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function j(L,C){for(var R=0;R<C.length;R++){var D=C[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(L,D.key,D)}}return function(L,C,R){return C&&j(L.prototype,C),R&&j(L,R),L}}(),a=i(2),d=T(a),y=i(20),c=T(y),u=i(0),p=T(u),_=i(13),g=T(_),E=i(24),h=T(E),f=i(4),m=T(f),v=i(16),w=T(v),N=i(21),S=T(N),k=i(11),x=T(k),O=i(3),b=T(O);function T(j){return j&&j.__esModule?j:{default:j}}function A(j,L,C){return L in j?Object.defineProperty(j,L,{value:C,enumerable:!0,configurable:!0,writable:!0}):j[L]=C,j}function P(j,L){if(!(j instanceof L))throw new TypeError("Cannot call a class as a function")}var M=/^[ -~]*$/,q=function(){function j(L){P(this,j),this.scroll=L,this.delta=this.getDelta()}return s(j,[{key:"applyDelta",value:function(C){var R=this,D=!1;this.scroll.update();var $=this.scroll.length();return this.scroll.batchStart(),C=z(C),C.reduce(function(B,I){var F=I.retain||I.delete||I.insert.length||1,H=I.attributes||{};if(I.insert!=null){if(typeof I.insert=="string"){var W=I.insert;W.endsWith(`
`)&&D&&(D=!1,W=W.slice(0,-1)),B>=$&&!W.endsWith(`
`)&&(D=!0),R.scroll.insertAt(B,W);var G=R.scroll.line(B),te=l(G,2),re=te[0],ie=te[1],ce=(0,b.default)({},(0,f.bubbleFormats)(re));if(re instanceof m.default){var ve=re.descendant(p.default.Leaf,ie),it=l(ve,1),De=it[0];ce=(0,b.default)(ce,(0,f.bubbleFormats)(De))}H=c.default.attributes.diff(ce,H)||{}}else if(o(I.insert)==="object"){var V=Object.keys(I.insert)[0];if(V==null)return B;R.scroll.insertAt(B,V,I.insert[V])}$+=F}return Object.keys(H).forEach(function(K){R.scroll.formatAt(B,F,K,H[K])}),B+F},0),C.reduce(function(B,I){return typeof I.delete=="number"?(R.scroll.deleteAt(B,I.delete),B):B+(I.retain||I.insert.length||1)},0),this.scroll.batchEnd(),this.update(C)}},{key:"deleteText",value:function(C,R){return this.scroll.deleteAt(C,R),this.update(new d.default().retain(C).delete(R))}},{key:"formatLine",value:function(C,R){var D=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys($).forEach(function(B){if(!(D.scroll.whitelist!=null&&!D.scroll.whitelist[B])){var I=D.scroll.lines(C,Math.max(R,1)),F=R;I.forEach(function(H){var W=H.length();if(!(H instanceof g.default))H.format(B,$[B]);else{var G=C-H.offset(D.scroll),te=H.newlineIndex(G+F)-G+1;H.formatAt(G,te,B,$[B])}F-=W})}}),this.scroll.optimize(),this.update(new d.default().retain(C).retain(R,(0,S.default)($)))}},{key:"formatText",value:function(C,R){var D=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys($).forEach(function(B){D.scroll.formatAt(C,R,B,$[B])}),this.update(new d.default().retain(C).retain(R,(0,S.default)($)))}},{key:"getContents",value:function(C,R){return this.delta.slice(C,C+R)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(C,R){return C.concat(R.delta())},new d.default)}},{key:"getFormat",value:function(C){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=[],$=[];R===0?this.scroll.path(C).forEach(function(I){var F=l(I,1),H=F[0];H instanceof m.default?D.push(H):H instanceof p.default.Leaf&&$.push(H)}):(D=this.scroll.lines(C,R),$=this.scroll.descendants(p.default.Leaf,C,R));var B=[D,$].map(function(I){if(I.length===0)return{};for(var F=(0,f.bubbleFormats)(I.shift());Object.keys(F).length>0;){var H=I.shift();if(H==null)return F;F=U((0,f.bubbleFormats)(H),F)}return F});return b.default.apply(b.default,B)}},{key:"getText",value:function(C,R){return this.getContents(C,R).filter(function(D){return typeof D.insert=="string"}).map(function(D){return D.insert}).join("")}},{key:"insertEmbed",value:function(C,R,D){return this.scroll.insertAt(C,R,D),this.update(new d.default().retain(C).insert(A({},R,D)))}},{key:"insertText",value:function(C,R){var D=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R=R.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(C,R),Object.keys($).forEach(function(B){D.scroll.formatAt(C,R.length,B,$[B])}),this.update(new d.default().retain(C).insert(R,(0,S.default)($)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var C=this.scroll.children.head;return C.statics.blotName!==m.default.blotName||C.children.length>1?!1:C.children.head instanceof w.default}},{key:"removeFormat",value:function(C,R){var D=this.getText(C,R),$=this.scroll.line(C+R),B=l($,2),I=B[0],F=B[1],H=0,W=new d.default;I!=null&&(I instanceof g.default?H=I.newlineIndex(F)-F+1:H=I.length()-F,W=I.delta().slice(F,F+H-1).insert(`
`));var G=this.getContents(C,R+H),te=G.diff(new d.default().insert(D).concat(W)),re=new d.default().retain(C).concat(te);return this.applyDelta(re)}},{key:"update",value:function(C){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,$=this.delta;if(R.length===1&&R[0].type==="characterData"&&R[0].target.data.match(M)&&p.default.find(R[0].target)){var B=p.default.find(R[0].target),I=(0,f.bubbleFormats)(B),F=B.offset(this.scroll),H=R[0].oldValue.replace(h.default.CONTENTS,""),W=new d.default().insert(H),G=new d.default().insert(B.value()),te=new d.default().retain(F).concat(W.diff(G,D));C=te.reduce(function(re,ie){return ie.insert?re.insert(ie.insert,I):re.push(ie)},new d.default),this.delta=$.compose(C)}else this.delta=this.getDelta(),(!C||!(0,x.default)($.compose(C),this.delta))&&(C=$.diff(this.delta,D));return C}}]),j}();function U(j,L){return Object.keys(L).reduce(function(C,R){return j[R]==null||(L[R]===j[R]?C[R]=L[R]:Array.isArray(L[R])?L[R].indexOf(j[R])<0&&(C[R]=L[R].concat([j[R]])):C[R]=[L[R],j[R]]),C},{})}function z(j){return j.reduce(function(L,C){if(C.insert===1){var R=(0,S.default)(C.attributes);return delete R.image,L.insert({image:C.attributes.image},R)}if(C.attributes!=null&&(C.attributes.list===!0||C.attributes.bullet===!0)&&(C=(0,S.default)(C),C.attributes.list?C.attributes.list="ordered":(C.attributes.list="bullet",delete C.attributes.bullet)),typeof C.insert=="string"){var D=C.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return L.insert(D,C.attributes)}return L.push(C)},new d.default)}r.default=q},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function k(x,O){var b=[],T=!0,A=!1,P=void 0;try{for(var M=x[Symbol.iterator](),q;!(T=(q=M.next()).done)&&(b.push(q.value),!(O&&b.length===O));T=!0);}catch(U){A=!0,P=U}finally{try{!T&&M.return&&M.return()}finally{if(A)throw P}}return b}return function(x,O){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return k(x,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function k(x,O){for(var b=0;b<O.length;b++){var T=O[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(x,T.key,T)}}return function(x,O,b){return O&&k(x.prototype,O),b&&k(x,b),x}}(),s=i(0),a=h(s),d=i(21),y=h(d),c=i(11),u=h(c),p=i(8),_=h(p),g=i(10),E=h(g);function h(k){return k&&k.__esModule?k:{default:k}}function f(k){if(Array.isArray(k)){for(var x=0,O=Array(k.length);x<k.length;x++)O[x]=k[x];return O}else return Array.from(k)}function m(k,x){if(!(k instanceof x))throw new TypeError("Cannot call a class as a function")}var v=(0,E.default)("quill:selection"),w=function k(x){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;m(this,k),this.index=x,this.length=O},N=function(){function k(x,O){var b=this;m(this,k),this.emitter=O,this.scroll=x,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=a.default.create("cursor",this),this.lastRange=this.savedRange=new w(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){b.mouseDown||setTimeout(b.update.bind(b,_.default.sources.USER),1)}),this.emitter.on(_.default.events.EDITOR_CHANGE,function(T,A){T===_.default.events.TEXT_CHANGE&&A.length()>0&&b.update(_.default.sources.SILENT)}),this.emitter.on(_.default.events.SCROLL_BEFORE_UPDATE,function(){if(b.hasFocus()){var T=b.getNativeRange();T!=null&&T.start.node!==b.cursor.textNode&&b.emitter.once(_.default.events.SCROLL_UPDATE,function(){try{b.setNativeRange(T.start.node,T.start.offset,T.end.node,T.end.offset)}catch{}})}}),this.emitter.on(_.default.events.SCROLL_OPTIMIZE,function(T,A){if(A.range){var P=A.range,M=P.startNode,q=P.startOffset,U=P.endNode,z=P.endOffset;b.setNativeRange(M,q,U,z)}}),this.update(_.default.sources.SILENT)}return l(k,[{key:"handleComposition",value:function(){var O=this;this.root.addEventListener("compositionstart",function(){O.composing=!0}),this.root.addEventListener("compositionend",function(){if(O.composing=!1,O.cursor.parent){var b=O.cursor.restore();if(!b)return;setTimeout(function(){O.setNativeRange(b.startNode,b.startOffset,b.endNode,b.endOffset)},1)}})}},{key:"handleDragging",value:function(){var O=this;this.emitter.listenDOM("mousedown",document.body,function(){O.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){O.mouseDown=!1,O.update(_.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(O,b){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[O])){this.scroll.update();var T=this.getNativeRange();if(!(T==null||!T.native.collapsed||a.default.query(O,a.default.Scope.BLOCK))){if(T.start.node!==this.cursor.textNode){var A=a.default.find(T.start.node,!1);if(A==null)return;if(A instanceof a.default.Leaf){var P=A.split(T.start.offset);A.parent.insertBefore(this.cursor,P)}else A.insertBefore(this.cursor,T.start.node);this.cursor.attach()}this.cursor.format(O,b),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(O){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=this.scroll.length();O=Math.min(O,T-1),b=Math.min(O+b,T-1)-O;var A=void 0,P=this.scroll.leaf(O),M=o(P,2),q=M[0],U=M[1];if(q==null)return null;var z=q.position(U,!0),j=o(z,2);A=j[0],U=j[1];var L=document.createRange();if(b>0){L.setStart(A,U);var C=this.scroll.leaf(O+b),R=o(C,2);if(q=R[0],U=R[1],q==null)return null;var D=q.position(U,!0),$=o(D,2);return A=$[0],U=$[1],L.setEnd(A,U),L.getBoundingClientRect()}else{var B="left",I=void 0;return A instanceof Text?(U<A.data.length?(L.setStart(A,U),L.setEnd(A,U+1)):(L.setStart(A,U-1),L.setEnd(A,U),B="right"),I=L.getBoundingClientRect()):(I=q.domNode.getBoundingClientRect(),U>0&&(B="right")),{bottom:I.top+I.height,height:I.height,left:I[B],right:I[B],top:I.top,width:0}}}},{key:"getNativeRange",value:function(){var O=document.getSelection();if(O==null||O.rangeCount<=0)return null;var b=O.getRangeAt(0);if(b==null)return null;var T=this.normalizeNative(b);return v.info("getNativeRange",T),T}},{key:"getRange",value:function(){var O=this.getNativeRange();if(O==null)return[null,null];var b=this.normalizedToRange(O);return[b,O]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(O){var b=this,T=[[O.start.node,O.start.offset]];O.native.collapsed||T.push([O.end.node,O.end.offset]);var A=T.map(function(q){var U=o(q,2),z=U[0],j=U[1],L=a.default.find(z,!0),C=L.offset(b.scroll);return j===0?C:L instanceof a.default.Container?C+L.length():C+L.index(z,j)}),P=Math.min(Math.max.apply(Math,f(A)),this.scroll.length()-1),M=Math.min.apply(Math,[P].concat(f(A)));return new w(M,P-M)}},{key:"normalizeNative",value:function(O){if(!S(this.root,O.startContainer)||!O.collapsed&&!S(this.root,O.endContainer))return null;var b={start:{node:O.startContainer,offset:O.startOffset},end:{node:O.endContainer,offset:O.endOffset},native:O};return[b.start,b.end].forEach(function(T){for(var A=T.node,P=T.offset;!(A instanceof Text)&&A.childNodes.length>0;)if(A.childNodes.length>P)A=A.childNodes[P],P=0;else if(A.childNodes.length===P)A=A.lastChild,P=A instanceof Text?A.data.length:A.childNodes.length+1;else break;T.node=A,T.offset=P}),b}},{key:"rangeToNative",value:function(O){var b=this,T=O.collapsed?[O.index]:[O.index,O.index+O.length],A=[],P=this.scroll.length();return T.forEach(function(M,q){M=Math.min(P-1,M);var U=void 0,z=b.scroll.leaf(M),j=o(z,2),L=j[0],C=j[1],R=L.position(C,q!==0),D=o(R,2);U=D[0],C=D[1],A.push(U,C)}),A.length<2&&(A=A.concat(A)),A}},{key:"scrollIntoView",value:function(O){var b=this.lastRange;if(b!=null){var T=this.getBounds(b.index,b.length);if(T!=null){var A=this.scroll.length()-1,P=this.scroll.line(Math.min(b.index,A)),M=o(P,1),q=M[0],U=q;if(b.length>0){var z=this.scroll.line(Math.min(b.index+b.length,A)),j=o(z,1);U=j[0]}if(!(q==null||U==null)){var L=O.getBoundingClientRect();T.top<L.top?O.scrollTop-=L.top-T.top:T.bottom>L.bottom&&(O.scrollTop+=T.bottom-L.bottom)}}}}},{key:"setNativeRange",value:function(O,b){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:b,P=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(v.info("setNativeRange",O,b,T,A),!(O!=null&&(this.root.parentNode==null||O.parentNode==null||T.parentNode==null))){var M=document.getSelection();if(M!=null)if(O!=null){this.hasFocus()||this.root.focus();var q=(this.getNativeRange()||{}).native;if(q==null||P||O!==q.startContainer||b!==q.startOffset||T!==q.endContainer||A!==q.endOffset){O.tagName=="BR"&&(b=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode),T.tagName=="BR"&&(A=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode);var U=document.createRange();U.setStart(O,b),U.setEnd(T,A),M.removeAllRanges(),M.addRange(U)}}else M.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(O){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.default.sources.API;if(typeof b=="string"&&(T=b,b=!1),v.info("setRange",O),O!=null){var A=this.rangeToNative(O);this.setNativeRange.apply(this,f(A).concat([b]))}else this.setNativeRange(null);this.update(T)}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_.default.sources.USER,b=this.lastRange,T=this.getRange(),A=o(T,2),P=A[0],M=A[1];if(this.lastRange=P,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,u.default)(b,this.lastRange)){var q;!this.composing&&M!=null&&M.native.collapsed&&M.start.node!==this.cursor.textNode&&this.cursor.restore();var U=[_.default.events.SELECTION_CHANGE,(0,y.default)(this.lastRange),(0,y.default)(b),O];if((q=this.emitter).emit.apply(q,[_.default.events.EDITOR_CHANGE].concat(U)),O!==_.default.sources.SILENT){var z;(z=this.emitter).emit.apply(z,U)}}}}]),k}();function S(k,x){try{x.parentNode}catch{return!1}return x instanceof Text&&(x=x.parentNode),k.contains(x)}r.Range=w,r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(g,E){for(var h=0;h<E.length;h++){var f=E[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(g,f.key,f)}}return function(g,E,h){return E&&_(g.prototype,E),h&&_(g,h),g}}(),l=function _(g,E,h){g===null&&(g=Function.prototype);var f=Object.getOwnPropertyDescriptor(g,E);if(f===void 0){var m=Object.getPrototypeOf(g);return m===null?void 0:_(m,E,h)}else{if("value"in f)return f.value;var v=f.get;return v===void 0?void 0:v.call(h)}},s=i(0),a=d(s);function d(_){return _&&_.__esModule?_:{default:_}}function y(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function c(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function u(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var p=function(_){u(g,_);function g(){return y(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"insertInto",value:function(h,f){h.children.length===0?l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertInto",this).call(this,h,f):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),g}(a.default.Embed);p.blotName="break",p.tagName="BR",r.default=p},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var _ in p)p.hasOwnProperty(_)&&(u[_]=p[_])};return function(u,p){c(u,p);function _(){this.constructor=u}u.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(44),s=i(30),a=i(1),d=function(c){o(u,c);function u(p){var _=c.call(this,p)||this;return _.build(),_}return u.prototype.appendChild=function(p){this.insertBefore(p)},u.prototype.attach=function(){c.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},u.prototype.build=function(){var p=this;this.children=new l.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(_){try{var g=y(_);p.insertBefore(g,p.children.head||void 0)}catch(E){if(E instanceof a.ParchmentError)return;throw E}})},u.prototype.deleteAt=function(p,_){if(p===0&&_===this.length())return this.remove();this.children.forEachAt(p,_,function(g,E,h){g.deleteAt(E,h)})},u.prototype.descendant=function(p,_){var g=this.children.find(_),E=g[0],h=g[1];return p.blotName==null&&p(E)||p.blotName!=null&&E instanceof p?[E,h]:E instanceof u?E.descendant(p,h):[null,-1]},u.prototype.descendants=function(p,_,g){_===void 0&&(_=0),g===void 0&&(g=Number.MAX_VALUE);var E=[],h=g;return this.children.forEachAt(_,g,function(f,m,v){(p.blotName==null&&p(f)||p.blotName!=null&&f instanceof p)&&E.push(f),f instanceof u&&(E=E.concat(f.descendants(p,m,h))),h-=v}),E},u.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),c.prototype.detach.call(this)},u.prototype.formatAt=function(p,_,g,E){this.children.forEachAt(p,_,function(h,f,m){h.formatAt(f,m,g,E)})},u.prototype.insertAt=function(p,_,g){var E=this.children.find(p),h=E[0],f=E[1];if(h)h.insertAt(f,_,g);else{var m=g==null?a.create("text",_):a.create(_,g);this.appendChild(m)}},u.prototype.insertBefore=function(p,_){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return p instanceof g}))throw new a.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,_)},u.prototype.length=function(){return this.children.reduce(function(p,_){return p+_.length()},0)},u.prototype.moveChildren=function(p,_){this.children.forEach(function(g){p.insertBefore(g,_)})},u.prototype.optimize=function(p){if(c.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var _=a.create(this.statics.defaultChild);this.appendChild(_),_.optimize(p)}else this.remove()},u.prototype.path=function(p,_){_===void 0&&(_=!1);var g=this.children.find(p,_),E=g[0],h=g[1],f=[[this,p]];return E instanceof u?f.concat(E.path(h,_)):(E!=null&&f.push([E,h]),f)},u.prototype.removeChild=function(p){this.children.remove(p)},u.prototype.replace=function(p){p instanceof u&&p.moveChildren(this),c.prototype.replace.call(this,p)},u.prototype.split=function(p,_){if(_===void 0&&(_=!1),!_){if(p===0)return this;if(p===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(p,this.length(),function(E,h,f){E=E.split(h,_),g.appendChild(E)}),g},u.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},u.prototype.update=function(p,_){var g=this,E=[],h=[];p.forEach(function(f){f.target===g.domNode&&f.type==="childList"&&(E.push.apply(E,f.addedNodes),h.push.apply(h,f.removedNodes))}),h.forEach(function(f){if(!(f.parentNode!=null&&f.tagName!=="IFRAME"&&document.body.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var m=a.find(f);m!=null&&(m.domNode.parentNode==null||m.domNode.parentNode===g.domNode)&&m.detach()}}),E.filter(function(f){return f.parentNode==g.domNode}).sort(function(f,m){return f===m?0:f.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(f){var m=null;f.nextSibling!=null&&(m=a.find(f.nextSibling));var v=y(f);(v.next!=m||v.next==null)&&(v.parent!=null&&v.parent.removeChild(g),g.insertBefore(v,m||void 0))})},u}(s.default);function y(c){var u=a.find(c);if(u==null)try{u=a.create(c)}catch{u=a.create(a.Scope.INLINE),[].slice.call(c.childNodes).forEach(function(_){u.domNode.appendChild(_)}),c.parentNode&&c.parentNode.replaceChild(u.domNode,c),u.attach()}return u}r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var _ in p)p.hasOwnProperty(_)&&(u[_]=p[_])};return function(u,p){c(u,p);function _(){this.constructor=u}u.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(12),s=i(31),a=i(17),d=i(1),y=function(c){o(u,c);function u(p){var _=c.call(this,p)||this;return _.attributes=new s.default(_.domNode),_}return u.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},u.prototype.format=function(p,_){var g=d.query(p);g instanceof l.default?this.attributes.attribute(g,_):_&&g!=null&&(p!==this.statics.blotName||this.formats()[p]!==_)&&this.replaceWith(p,_)},u.prototype.formats=function(){var p=this.attributes.values(),_=this.statics.formats(this.domNode);return _!=null&&(p[this.statics.blotName]=_),p},u.prototype.replaceWith=function(p,_){var g=c.prototype.replaceWith.call(this,p,_);return this.attributes.copy(g),g},u.prototype.update=function(p,_){var g=this;c.prototype.update.call(this,p,_),p.some(function(E){return E.target===g.domNode&&E.type==="attributes"})&&this.attributes.build()},u.prototype.wrap=function(p,_){var g=c.prototype.wrap.call(this,p,_);return g instanceof u&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},u}(a.default);r.default=y},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,c){y.__proto__=c}||function(y,c){for(var u in c)c.hasOwnProperty(u)&&(y[u]=c[u])};return function(y,c){d(y,c);function u(){this.constructor=y}y.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(30),s=i(1),a=function(d){o(y,d);function y(){return d!==null&&d.apply(this,arguments)||this}return y.value=function(c){return!0},y.prototype.index=function(c,u){return this.domNode===c||this.domNode.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(u,1):-1},y.prototype.position=function(c,u){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return c>0&&(p+=1),[this.parent.domNode,p]},y.prototype.value=function(){var c;return c={},c[this.statics.blotName]=this.statics.value(this.domNode)||!0,c},y.scope=s.Scope.INLINE_BLOT,y}(l.default);r.default=a},function(n,r,i){var o=i(11),l=i(3),s={attributes:{compose:function(d,y,c){typeof d!="object"&&(d={}),typeof y!="object"&&(y={});var u=l(!0,{},y);c||(u=Object.keys(u).reduce(function(_,g){return u[g]!=null&&(_[g]=u[g]),_},{}));for(var p in d)d[p]!==void 0&&y[p]===void 0&&(u[p]=d[p]);return Object.keys(u).length>0?u:void 0},diff:function(d,y){typeof d!="object"&&(d={}),typeof y!="object"&&(y={});var c=Object.keys(d).concat(Object.keys(y)).reduce(function(u,p){return o(d[p],y[p])||(u[p]=y[p]===void 0?null:y[p]),u},{});return Object.keys(c).length>0?c:void 0},transform:function(d,y,c){if(typeof d!="object")return y;if(typeof y=="object"){if(!c)return y;var u=Object.keys(y).reduce(function(p,_){return d[_]===void 0&&(p[_]=y[_]),p},{});return Object.keys(u).length>0?u:void 0}}},iterator:function(d){return new a(d)},length:function(d){return typeof d.delete=="number"?d.delete:typeof d.retain=="number"?d.retain:typeof d.insert=="string"?d.insert.length:1}};function a(d){this.ops=d,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(d){d||(d=1/0);var y=this.ops[this.index];if(y){var c=this.offset,u=s.length(y);if(d>=u-c?(d=u-c,this.index+=1,this.offset=0):this.offset+=d,typeof y.delete=="number")return{delete:d};var p={};return y.attributes&&(p.attributes=y.attributes),typeof y.retain=="number"?p.retain=d:typeof y.insert=="string"?p.insert=y.insert.substr(c,d):p.insert=y.insert,p}else return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var d=this.offset,y=this.index,c=this.next(),u=this.ops.slice(this.index);return this.offset=d,this.index=y,[c].concat(u)}else return[]},n.exports=s},function(n,r){var i=function(){function o(g,E){return E!=null&&g instanceof E}var l;try{l=Map}catch{l=function(){}}var s;try{s=Set}catch{s=function(){}}var a;try{a=Promise}catch{a=function(){}}function d(g,E,h,f,m){typeof E=="object"&&(h=E.depth,f=E.prototype,m=E.includeNonEnumerable,E=E.circular);var v=[],w=[],N=typeof Buffer<"u";typeof E>"u"&&(E=!0),typeof h>"u"&&(h=1/0);function S(k,x){if(k===null)return null;if(x===0)return k;var O,b;if(typeof k!="object")return k;if(o(k,l))O=new l;else if(o(k,s))O=new s;else if(o(k,a))O=new a(function(L,C){k.then(function(R){L(S(R,x-1))},function(R){C(S(R,x-1))})});else if(d.__isArray(k))O=[];else if(d.__isRegExp(k))O=new RegExp(k.source,_(k)),k.lastIndex&&(O.lastIndex=k.lastIndex);else if(d.__isDate(k))O=new Date(k.getTime());else{if(N&&Buffer.isBuffer(k))return Buffer.allocUnsafe?O=Buffer.allocUnsafe(k.length):O=new Buffer(k.length),k.copy(O),O;o(k,Error)?O=Object.create(k):typeof f>"u"?(b=Object.getPrototypeOf(k),O=Object.create(b)):(O=Object.create(f),b=f)}if(E){var T=v.indexOf(k);if(T!=-1)return w[T];v.push(k),w.push(O)}o(k,l)&&k.forEach(function(L,C){var R=S(C,x-1),D=S(L,x-1);O.set(R,D)}),o(k,s)&&k.forEach(function(L){var C=S(L,x-1);O.add(C)});for(var A in k){var P;b&&(P=Object.getOwnPropertyDescriptor(b,A)),!(P&&P.set==null)&&(O[A]=S(k[A],x-1))}if(Object.getOwnPropertySymbols)for(var M=Object.getOwnPropertySymbols(k),A=0;A<M.length;A++){var q=M[A],U=Object.getOwnPropertyDescriptor(k,q);U&&!U.enumerable&&!m||(O[q]=S(k[q],x-1),U.enumerable||Object.defineProperty(O,q,{enumerable:!1}))}if(m)for(var z=Object.getOwnPropertyNames(k),A=0;A<z.length;A++){var j=z[A],U=Object.getOwnPropertyDescriptor(k,j);U&&U.enumerable||(O[j]=S(k[j],x-1),Object.defineProperty(O,j,{enumerable:!1}))}return O}return S(g,h)}d.clonePrototype=function(E){if(E===null)return null;var h=function(){};return h.prototype=E,new h};function y(g){return Object.prototype.toString.call(g)}d.__objToStr=y;function c(g){return typeof g=="object"&&y(g)==="[object Date]"}d.__isDate=c;function u(g){return typeof g=="object"&&y(g)==="[object Array]"}d.__isArray=u;function p(g){return typeof g=="object"&&y(g)==="[object RegExp]"}d.__isRegExp=p;function _(g){var E="";return g.global&&(E+="g"),g.ignoreCase&&(E+="i"),g.multiline&&(E+="m"),E}return d.__getRegExpFlags=_,d}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function O(b,T){var A=[],P=!0,M=!1,q=void 0;try{for(var U=b[Symbol.iterator](),z;!(P=(z=U.next()).done)&&(A.push(z.value),!(T&&A.length===T));P=!0);}catch(j){M=!0,q=j}finally{try{!P&&U.return&&U.return()}finally{if(M)throw q}}return A}return function(b,T){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return O(b,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function O(b,T){for(var A=0;A<T.length;A++){var P=T[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(b,P.key,P)}}return function(b,T,A){return T&&O(b.prototype,T),A&&O(b,A),b}}(),s=function O(b,T,A){b===null&&(b=Function.prototype);var P=Object.getOwnPropertyDescriptor(b,T);if(P===void 0){var M=Object.getPrototypeOf(b);return M===null?void 0:O(M,T,A)}else{if("value"in P)return P.value;var q=P.get;return q===void 0?void 0:q.call(A)}},a=i(0),d=v(a),y=i(8),c=v(y),u=i(4),p=v(u),_=i(16),g=v(_),E=i(13),h=v(E),f=i(25),m=v(f);function v(O){return O&&O.__esModule?O:{default:O}}function w(O,b){if(!(O instanceof b))throw new TypeError("Cannot call a class as a function")}function N(O,b){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:O}function S(O,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);O.prototype=Object.create(b&&b.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(O,b):O.__proto__=b)}function k(O){return O instanceof p.default||O instanceof u.BlockEmbed}var x=function(O){S(b,O);function b(T,A){w(this,b);var P=N(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,T));return P.emitter=A.emitter,Array.isArray(A.whitelist)&&(P.whitelist=A.whitelist.reduce(function(M,q){return M[q]=!0,M},{})),P.domNode.addEventListener("DOMNodeInserted",function(){}),P.optimize(),P.enable(),P}return l(b,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(A,P){var M=this.line(A),q=o(M,2),U=q[0],z=q[1],j=this.line(A+P),L=o(j,1),C=L[0];if(s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"deleteAt",this).call(this,A,P),C!=null&&U!==C&&z>0){if(U instanceof u.BlockEmbed||C instanceof u.BlockEmbed){this.optimize();return}if(U instanceof h.default){var R=U.newlineIndex(U.length(),!0);if(R>-1&&(U=U.split(R+1),U===C)){this.optimize();return}}else if(C instanceof h.default){var D=C.newlineIndex(0);D>-1&&C.split(D+1)}var $=C.children.head instanceof g.default?null:C.children.head;U.moveChildren(C,$),U.remove()}this.optimize()}},{key:"enable",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",A)}},{key:"formatAt",value:function(A,P,M,q){this.whitelist!=null&&!this.whitelist[M]||(s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,A,P,M,q),this.optimize())}},{key:"insertAt",value:function(A,P,M){if(!(M!=null&&this.whitelist!=null&&!this.whitelist[P])){if(A>=this.length())if(M==null||d.default.query(P,d.default.Scope.BLOCK)==null){var q=d.default.create(this.statics.defaultChild);this.appendChild(q),M==null&&P.endsWith(`
`)&&(P=P.slice(0,-1)),q.insertAt(0,P,M)}else{var U=d.default.create(P,M);this.appendChild(U)}else s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertAt",this).call(this,A,P,M);this.optimize()}}},{key:"insertBefore",value:function(A,P){if(A.statics.scope===d.default.Scope.INLINE_BLOT){var M=d.default.create(this.statics.defaultChild);M.appendChild(A),A=M}s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,A,P)}},{key:"leaf",value:function(A){return this.path(A).pop()||[null,-1]}},{key:"line",value:function(A){return A===this.length()?this.line(A-1):this.descendant(k,A)}},{key:"lines",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,M=function q(U,z,j){var L=[],C=j;return U.children.forEachAt(z,j,function(R,D,$){k(R)?L.push(R):R instanceof d.default.Container&&(L=L.concat(q(R,D,C))),C-=$}),L};return M(this,A,P)}},{key:"optimize",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,A,P),A.length>0&&this.emitter.emit(c.default.events.SCROLL_OPTIMIZE,A,P))}},{key:"path",value:function(A){return s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"path",this).call(this,A).slice(1)}},{key:"update",value:function(A){if(this.batch!==!0){var P=c.default.sources.USER;typeof A=="string"&&(P=A),Array.isArray(A)||(A=this.observer.takeRecords()),A.length>0&&this.emitter.emit(c.default.events.SCROLL_BEFORE_UPDATE,P,A),s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"update",this).call(this,A.concat([])),A.length>0&&this.emitter.emit(c.default.events.SCROLL_UPDATE,P,A)}}}]),b}(d.default.Scroll);x.blotName="scroll",x.className="ql-editor",x.tagName="DIV",x.defaultChild="block",x.allowedChildren=[p.default,u.BlockEmbed,m.default],r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},l=function(){function I(F,H){var W=[],G=!0,te=!1,re=void 0;try{for(var ie=F[Symbol.iterator](),ce;!(G=(ce=ie.next()).done)&&(W.push(ce.value),!(H&&W.length===H));G=!0);}catch(ve){te=!0,re=ve}finally{try{!G&&ie.return&&ie.return()}finally{if(te)throw re}}return W}return function(F,H){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return I(F,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function I(F,H){for(var W=0;W<H.length;W++){var G=H[W];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(F,G.key,G)}}return function(F,H,W){return H&&I(F.prototype,H),W&&I(F,W),F}}(),a=i(21),d=O(a),y=i(11),c=O(y),u=i(3),p=O(u),_=i(2),g=O(_),E=i(20),h=O(E),f=i(0),m=O(f),v=i(5),w=O(v),N=i(10),S=O(N),k=i(9),x=O(k);function O(I){return I&&I.__esModule?I:{default:I}}function b(I,F,H){return F in I?Object.defineProperty(I,F,{value:H,enumerable:!0,configurable:!0,writable:!0}):I[F]=H,I}function T(I,F){if(!(I instanceof F))throw new TypeError("Cannot call a class as a function")}function A(I,F){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:I}function P(I,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);I.prototype=Object.create(F&&F.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(I,F):I.__proto__=F)}var M=(0,S.default)("quill:keyboard"),q=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",U=function(I){P(F,I),s(F,null,[{key:"match",value:function(W,G){return G=B(G),["altKey","ctrlKey","metaKey","shiftKey"].some(function(te){return!!G[te]!==W[te]&&G[te]!==null})?!1:G.key===(W.which||W.keyCode)}}]);function F(H,W){T(this,F);var G=A(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,H,W));return G.bindings={},Object.keys(G.options.bindings).forEach(function(te){te==="list autofill"&&H.scroll.whitelist!=null&&!H.scroll.whitelist.list||G.options.bindings[te]&&G.addBinding(G.options.bindings[te])}),G.addBinding({key:F.keys.ENTER,shiftKey:null},R),G.addBinding({key:F.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(G.addBinding({key:F.keys.BACKSPACE},{collapsed:!0},j),G.addBinding({key:F.keys.DELETE},{collapsed:!0},L)):(G.addBinding({key:F.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},j),G.addBinding({key:F.keys.DELETE},{collapsed:!0,suffix:/^.?$/},L)),G.addBinding({key:F.keys.BACKSPACE},{collapsed:!1},C),G.addBinding({key:F.keys.DELETE},{collapsed:!1},C),G.addBinding({key:F.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},j),G.listen(),G}return s(F,[{key:"addBinding",value:function(W){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},re=B(W);if(re==null||re.key==null)return M.warn("Attempted to add invalid keyboard binding",re);typeof G=="function"&&(G={handler:G}),typeof te=="function"&&(te={handler:te}),re=(0,p.default)(re,G,te),this.bindings[re.key]=this.bindings[re.key]||[],this.bindings[re.key].push(re)}},{key:"listen",value:function(){var W=this;this.quill.root.addEventListener("keydown",function(G){if(!G.defaultPrevented){var te=G.which||G.keyCode,re=(W.bindings[te]||[]).filter(function(Re){return F.match(G,Re)});if(re.length!==0){var ie=W.quill.getSelection();if(!(ie==null||!W.quill.hasFocus())){var ce=W.quill.getLine(ie.index),ve=l(ce,2),it=ve[0],De=ve[1],V=W.quill.getLeaf(ie.index),K=l(V,2),Z=K[0],J=K[1],Q=ie.length===0?[Z,J]:W.quill.getLeaf(ie.index+ie.length),oe=l(Q,2),le=oe[0],se=oe[1],_t=Z instanceof m.default.Text?Z.value().slice(0,J):"",Vt=le instanceof m.default.Text?le.value().slice(se):"",Ne={collapsed:ie.length===0,empty:ie.length===0&&it.length()<=1,format:W.quill.getFormat(ie),offset:De,prefix:_t,suffix:Vt},wm=re.some(function(Re){if(Re.collapsed!=null&&Re.collapsed!==Ne.collapsed||Re.empty!=null&&Re.empty!==Ne.empty||Re.offset!=null&&Re.offset!==Ne.offset)return!1;if(Array.isArray(Re.format)){if(Re.format.every(function(cn){return Ne.format[cn]==null}))return!1}else if(o(Re.format)==="object"&&!Object.keys(Re.format).every(function(cn){return Re.format[cn]===!0?Ne.format[cn]!=null:Re.format[cn]===!1?Ne.format[cn]==null:(0,c.default)(Re.format[cn],Ne.format[cn])}))return!1;return Re.prefix!=null&&!Re.prefix.test(Ne.prefix)||Re.suffix!=null&&!Re.suffix.test(Ne.suffix)?!1:Re.handler.call(W,ie,Ne)!==!0});wm&&G.preventDefault()}}}})}}]),F}(x.default);U.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},U.DEFAULTS={bindings:{bold:$("bold"),italic:$("italic"),underline:$("underline"),indent:{key:U.keys.TAB,format:["blockquote","indent","list"],handler:function(F,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","+1",w.default.sources.USER)}},outdent:{key:U.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(F,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","-1",w.default.sources.USER)}},"outdent backspace":{key:U.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(F,H){H.format.indent!=null?this.quill.format("indent","-1",w.default.sources.USER):H.format.list!=null&&this.quill.format("list",!1,w.default.sources.USER)}},"indent code-block":D(!0),"outdent code-block":D(!1),"remove tab":{key:U.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(F){this.quill.deleteText(F.index-1,1,w.default.sources.USER)}},tab:{key:U.keys.TAB,handler:function(F){this.quill.history.cutoff();var H=new g.default().retain(F.index).delete(F.length).insert("	");this.quill.updateContents(H,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(F.index+1,w.default.sources.SILENT)}},"list empty enter":{key:U.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(F,H){this.quill.format("list",!1,w.default.sources.USER),H.format.indent&&this.quill.format("indent",!1,w.default.sources.USER)}},"checklist enter":{key:U.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(F){var H=this.quill.getLine(F.index),W=l(H,2),G=W[0],te=W[1],re=(0,p.default)({},G.formats(),{list:"checked"}),ie=new g.default().retain(F.index).insert(`
`,re).retain(G.length()-te-1).retain(1,{list:"unchecked"});this.quill.updateContents(ie,w.default.sources.USER),this.quill.setSelection(F.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:U.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(F,H){var W=this.quill.getLine(F.index),G=l(W,2),te=G[0],re=G[1],ie=new g.default().retain(F.index).insert(`
`,H.format).retain(te.length()-re-1).retain(1,{header:null});this.quill.updateContents(ie,w.default.sources.USER),this.quill.setSelection(F.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(F,H){var W=H.prefix.length,G=this.quill.getLine(F.index),te=l(G,2),re=te[0],ie=te[1];if(ie>W)return!0;var ce=void 0;switch(H.prefix.trim()){case"[]":case"[ ]":ce="unchecked";break;case"[x]":ce="checked";break;case"-":case"*":ce="bullet";break;default:ce="ordered"}this.quill.insertText(F.index," ",w.default.sources.USER),this.quill.history.cutoff();var ve=new g.default().retain(F.index-ie).delete(W+1).retain(re.length()-2-ie).retain(1,{list:ce});this.quill.updateContents(ve,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(F.index-W,w.default.sources.SILENT)}},"code exit":{key:U.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(F){var H=this.quill.getLine(F.index),W=l(H,2),G=W[0],te=W[1],re=new g.default().retain(F.index+G.length()-te-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(re,w.default.sources.USER)}},"embed left":z(U.keys.LEFT,!1),"embed left shift":z(U.keys.LEFT,!0),"embed right":z(U.keys.RIGHT,!1),"embed right shift":z(U.keys.RIGHT,!0)}};function z(I,F){var H,W=I===U.keys.LEFT?"prefix":"suffix";return H={key:I,shiftKey:F,altKey:null},b(H,W,/^$/),b(H,"handler",function(te){var re=te.index;I===U.keys.RIGHT&&(re+=te.length+1);var ie=this.quill.getLeaf(re),ce=l(ie,1),ve=ce[0];return ve instanceof m.default.Embed?(I===U.keys.LEFT?F?this.quill.setSelection(te.index-1,te.length+1,w.default.sources.USER):this.quill.setSelection(te.index-1,w.default.sources.USER):F?this.quill.setSelection(te.index,te.length+1,w.default.sources.USER):this.quill.setSelection(te.index+te.length+1,w.default.sources.USER),!1):!0}),H}function j(I,F){if(!(I.index===0||this.quill.getLength()<=1)){var H=this.quill.getLine(I.index),W=l(H,1),G=W[0],te={};if(F.offset===0){var re=this.quill.getLine(I.index-1),ie=l(re,1),ce=ie[0];if(ce!=null&&ce.length()>1){var ve=G.formats(),it=this.quill.getFormat(I.index-1,1);te=h.default.attributes.diff(ve,it)||{}}}var De=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(F.prefix)?2:1;this.quill.deleteText(I.index-De,De,w.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(I.index-De,De,te,w.default.sources.USER),this.quill.focus()}}function L(I,F){var H=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(F.suffix)?2:1;if(!(I.index>=this.quill.getLength()-H)){var W={},G=0,te=this.quill.getLine(I.index),re=l(te,1),ie=re[0];if(F.offset>=ie.length()-1){var ce=this.quill.getLine(I.index+1),ve=l(ce,1),it=ve[0];if(it){var De=ie.formats(),V=this.quill.getFormat(I.index,1);W=h.default.attributes.diff(De,V)||{},G=it.length()}}this.quill.deleteText(I.index,H,w.default.sources.USER),Object.keys(W).length>0&&this.quill.formatLine(I.index+G-1,H,W,w.default.sources.USER)}}function C(I){var F=this.quill.getLines(I),H={};if(F.length>1){var W=F[0].formats(),G=F[F.length-1].formats();H=h.default.attributes.diff(G,W)||{}}this.quill.deleteText(I,w.default.sources.USER),Object.keys(H).length>0&&this.quill.formatLine(I.index,1,H,w.default.sources.USER),this.quill.setSelection(I.index,w.default.sources.SILENT),this.quill.focus()}function R(I,F){var H=this;I.length>0&&this.quill.scroll.deleteAt(I.index,I.length);var W=Object.keys(F.format).reduce(function(G,te){return m.default.query(te,m.default.Scope.BLOCK)&&!Array.isArray(F.format[te])&&(G[te]=F.format[te]),G},{});this.quill.insertText(I.index,`
`,W,w.default.sources.USER),this.quill.setSelection(I.index+1,w.default.sources.SILENT),this.quill.focus(),Object.keys(F.format).forEach(function(G){W[G]==null&&(Array.isArray(F.format[G])||G!=="link"&&H.quill.format(G,F.format[G],w.default.sources.USER))})}function D(I){return{key:U.keys.TAB,shiftKey:!I,format:{"code-block":!0},handler:function(H){var W=m.default.query("code-block"),G=H.index,te=H.length,re=this.quill.scroll.descendant(W,G),ie=l(re,2),ce=ie[0],ve=ie[1];if(ce!=null){var it=this.quill.getIndex(ce),De=ce.newlineIndex(ve,!0)+1,V=ce.newlineIndex(it+ve+te),K=ce.domNode.textContent.slice(De,V).split(`
`);ve=0,K.forEach(function(Z,J){I?(ce.insertAt(De+ve,W.TAB),ve+=W.TAB.length,J===0?G+=W.TAB.length:te+=W.TAB.length):Z.startsWith(W.TAB)&&(ce.deleteAt(De+ve,W.TAB.length),ve-=W.TAB.length,J===0?G-=W.TAB.length:te-=W.TAB.length),ve+=Z.length+1}),this.quill.update(w.default.sources.USER),this.quill.setSelection(G,te,w.default.sources.SILENT)}}}}function $(I){return{key:I[0].toUpperCase(),shortKey:!0,handler:function(H,W){this.quill.format(I,!W.format[I],w.default.sources.USER)}}}function B(I){if(typeof I=="string"||typeof I=="number")return B({key:I});if((typeof I>"u"?"undefined":o(I))==="object"&&(I=(0,d.default)(I,!1)),typeof I.key=="string")if(U.keys[I.key.toUpperCase()]!=null)I.key=U.keys[I.key.toUpperCase()];else if(I.key.length===1)I.key=I.key.toUpperCase().charCodeAt(0);else return null;return I.shortKey&&(I[q]=I.shortKey,delete I.shortKey),I}r.default=U,r.SHORTKEY=q},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function h(f,m){var v=[],w=!0,N=!1,S=void 0;try{for(var k=f[Symbol.iterator](),x;!(w=(x=k.next()).done)&&(v.push(x.value),!(m&&v.length===m));w=!0);}catch(O){N=!0,S=O}finally{try{!w&&k.return&&k.return()}finally{if(N)throw S}}return v}return function(f,m){if(Array.isArray(f))return f;if(Symbol.iterator in Object(f))return h(f,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function h(f,m,v){f===null&&(f=Function.prototype);var w=Object.getOwnPropertyDescriptor(f,m);if(w===void 0){var N=Object.getPrototypeOf(f);return N===null?void 0:h(N,m,v)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(v)}},s=function(){function h(f,m){for(var v=0;v<m.length;v++){var w=m[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}return function(f,m,v){return m&&h(f.prototype,m),v&&h(f,v),f}}(),a=i(0),d=u(a),y=i(7),c=u(y);function u(h){return h&&h.__esModule?h:{default:h}}function p(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function _(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function g(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var E=function(h){g(f,h),s(f,null,[{key:"value",value:function(){}}]);function f(m,v){p(this,f);var w=_(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,m));return w.selection=v,w.textNode=document.createTextNode(f.CONTENTS),w.domNode.appendChild(w.textNode),w._length=0,w}return s(f,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(v,w){if(this._length!==0)return l(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"format",this).call(this,v,w);for(var N=this,S=0;N!=null&&N.statics.scope!==d.default.Scope.BLOCK_BLOT;)S+=N.offset(N.parent),N=N.parent;N!=null&&(this._length=f.CONTENTS.length,N.optimize(),N.formatAt(S,f.CONTENTS.length,v,w),this._length=0)}},{key:"index",value:function(v,w){return v===this.textNode?0:l(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"index",this).call(this,v,w)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var v=this.textNode,w=this.selection.getNativeRange(),N=void 0,S=void 0,k=void 0;if(w!=null&&w.start.node===v&&w.end.node===v){var x=[v,w.start.offset,w.end.offset];N=x[0],S=x[1],k=x[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==f.CONTENTS){var O=this.textNode.data.split(f.CONTENTS).join("");this.next instanceof c.default?(N=this.next.domNode,this.next.insertAt(0,O),this.textNode.data=f.CONTENTS):(this.textNode.data=O,this.parent.insertBefore(d.default.create(this.textNode),this),this.textNode=document.createTextNode(f.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var b=[S,k].map(function(A){return Math.max(0,Math.min(N.data.length,A-1))}),T=o(b,2);return S=T[0],k=T[1],{startNode:N,startOffset:S,endNode:N,endOffset:k}}}}},{key:"update",value:function(v,w){var N=this;if(v.some(function(k){return k.type==="characterData"&&k.target===N.textNode})){var S=this.restore();S&&(w.range=S)}}},{key:"value",value:function(){return""}}]),f}(d.default.Embed);E.blotName="cursor",E.className="ql-cursor",E.tagName="span",E.CONTENTS="\uFEFF",r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),l=d(o),s=i(4),a=d(s);function d(_){return _&&_.__esModule?_:{default:_}}function y(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function c(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function u(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var p=function(_){u(g,_);function g(){return y(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(l.default.Container);p.allowedChildren=[a.default,s.BlockEmbed,p],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function E(h,f){for(var m=0;m<f.length;m++){var v=f[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,f,m){return f&&E(h.prototype,f),m&&E(h,m),h}}(),l=function E(h,f,m){h===null&&(h=Function.prototype);var v=Object.getOwnPropertyDescriptor(h,f);if(v===void 0){var w=Object.getPrototypeOf(h);return w===null?void 0:E(w,f,m)}else{if("value"in v)return v.value;var N=v.get;return N===void 0?void 0:N.call(m)}},s=i(0),a=d(s);function d(E){return E&&E.__esModule?E:{default:E}}function y(E,h){if(!(E instanceof h))throw new TypeError("Cannot call a class as a function")}function c(E,h){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:E}function u(E,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);E.prototype=Object.create(h&&h.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(E,h):E.__proto__=h)}var p=function(E){u(h,E);function h(){return y(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return o(h,[{key:"value",value:function(m){var v=l(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"value",this).call(this,m);return v.startsWith("rgb(")?(v=v.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+v.split(",").map(function(w){return("00"+parseInt(w).toString(16)).slice(-2)}).join("")):v}}]),h}(a.default.Attributor.Style),_=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),g=new p("color","color",{scope:a.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=_,r.ColorStyle=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function g(E,h){for(var f=0;f<h.length;f++){var m=h[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(E,m.key,m)}}return function(E,h,f){return h&&g(E.prototype,h),f&&g(E,f),E}}(),l=function g(E,h,f){E===null&&(E=Function.prototype);var m=Object.getOwnPropertyDescriptor(E,h);if(m===void 0){var v=Object.getPrototypeOf(E);return v===null?void 0:g(v,h,f)}else{if("value"in m)return m.value;var w=m.get;return w===void 0?void 0:w.call(f)}},s=i(6),a=d(s);function d(g){return g&&g.__esModule?g:{default:g}}function y(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")}function c(g,E){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:g}function u(g,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);g.prototype=Object.create(E&&E.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(g,E):g.__proto__=E)}var p=function(g){u(E,g);function E(){return y(this,E),c(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"format",value:function(f,m){if(f!==this.statics.blotName||!m)return l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,f,m);m=this.constructor.sanitize(m),this.domNode.setAttribute("href",m)}}],[{key:"create",value:function(f){var m=l(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,f);return f=this.sanitize(f),m.setAttribute("href",f),m.setAttribute("rel","noopener noreferrer"),m.setAttribute("target","_blank"),m}},{key:"formats",value:function(f){return f.getAttribute("href")}},{key:"sanitize",value:function(f){return _(f,this.PROTOCOL_WHITELIST)?f:this.SANITIZED_URL}}]),E}(a.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function _(g,E){var h=document.createElement("a");h.href=g;var f=h.href.slice(0,h.href.indexOf(":"));return E.indexOf(f)>-1}r.default=p,r.sanitize=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},l=function(){function E(h,f){for(var m=0;m<f.length;m++){var v=f[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,f,m){return f&&E(h.prototype,f),m&&E(h,m),h}}(),s=i(23),a=c(s),d=i(107),y=c(d);function c(E){return E&&E.__esModule?E:{default:E}}function u(E,h){if(!(E instanceof h))throw new TypeError("Cannot call a class as a function")}var p=0;function _(E,h){E.setAttribute(h,E.getAttribute(h)!=="true")}var g=function(){function E(h){var f=this;u(this,E),this.select=h,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){f.togglePicker()}),this.label.addEventListener("keydown",function(m){switch(m.keyCode){case a.default.keys.ENTER:f.togglePicker();break;case a.default.keys.ESCAPE:f.escape(),m.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return l(E,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),_(this.label,"aria-expanded"),_(this.options,"aria-hidden")}},{key:"buildItem",value:function(f){var m=this,v=document.createElement("span");return v.tabIndex="0",v.setAttribute("role","button"),v.classList.add("ql-picker-item"),f.hasAttribute("value")&&v.setAttribute("data-value",f.getAttribute("value")),f.textContent&&v.setAttribute("data-label",f.textContent),v.addEventListener("click",function(){m.selectItem(v,!0)}),v.addEventListener("keydown",function(w){switch(w.keyCode){case a.default.keys.ENTER:m.selectItem(v,!0),w.preventDefault();break;case a.default.keys.ESCAPE:m.escape(),w.preventDefault();break}}),v}},{key:"buildLabel",value:function(){var f=document.createElement("span");return f.classList.add("ql-picker-label"),f.innerHTML=y.default,f.tabIndex="0",f.setAttribute("role","button"),f.setAttribute("aria-expanded","false"),this.container.appendChild(f),f}},{key:"buildOptions",value:function(){var f=this,m=document.createElement("span");m.classList.add("ql-picker-options"),m.setAttribute("aria-hidden","true"),m.tabIndex="-1",m.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",m.id),this.options=m,[].slice.call(this.select.options).forEach(function(v){var w=f.buildItem(v);m.appendChild(w),v.selected===!0&&f.selectItem(w)}),this.container.appendChild(m)}},{key:"buildPicker",value:function(){var f=this;[].slice.call(this.select.attributes).forEach(function(m){f.container.setAttribute(m.name,m.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var f=this;this.close(),setTimeout(function(){return f.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=this.container.querySelector(".ql-selected");if(f!==v&&(v!=null&&v.classList.remove("ql-selected"),f!=null&&(f.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(f.parentNode.children,f),f.hasAttribute("data-value")?this.label.setAttribute("data-value",f.getAttribute("data-value")):this.label.removeAttribute("data-value"),f.hasAttribute("data-label")?this.label.setAttribute("data-label",f.getAttribute("data-label")):this.label.removeAttribute("data-label"),m))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var w=document.createEvent("Event");w.initEvent("change",!0,!0),this.select.dispatchEvent(w)}this.close()}}},{key:"update",value:function(){var f=void 0;if(this.select.selectedIndex>-1){var m=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];f=this.select.options[this.select.selectedIndex],this.selectItem(m)}else this.selectItem(null);var v=f!=null&&f!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",v)}}]),E}();r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),l=M(o),s=i(5),a=M(s),d=i(4),y=M(d),c=i(16),u=M(c),p=i(25),_=M(p),g=i(24),E=M(g),h=i(35),f=M(h),m=i(6),v=M(m),w=i(22),N=M(w),S=i(7),k=M(S),x=i(55),O=M(x),b=i(42),T=M(b),A=i(23),P=M(A);function M(q){return q&&q.__esModule?q:{default:q}}a.default.register({"blots/block":y.default,"blots/block/embed":d.BlockEmbed,"blots/break":u.default,"blots/container":_.default,"blots/cursor":E.default,"blots/embed":f.default,"blots/inline":v.default,"blots/scroll":N.default,"blots/text":k.default,"modules/clipboard":O.default,"modules/history":T.default,"modules/keyboard":P.default}),l.default.register(y.default,u.default,E.default,v.default,N.default,k.default),r.default=a.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),l=function(){function s(a){this.domNode=a,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(s.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),s.create=function(a){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var d;return Array.isArray(this.tagName)?(typeof a=="string"&&(a=a.toUpperCase(),parseInt(a).toString()===a&&(a=parseInt(a))),typeof a=="number"?d=document.createElement(this.tagName[a-1]):this.tagName.indexOf(a)>-1?d=document.createElement(a):d=document.createElement(this.tagName[0])):d=document.createElement(this.tagName),this.className&&d.classList.add(this.className),d},s.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},s.prototype.clone=function(){var a=this.domNode.cloneNode(!1);return o.create(a)},s.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},s.prototype.deleteAt=function(a,d){var y=this.isolate(a,d);y.remove()},s.prototype.formatAt=function(a,d,y,c){var u=this.isolate(a,d);if(o.query(y,o.Scope.BLOT)!=null&&c)u.wrap(y,c);else if(o.query(y,o.Scope.ATTRIBUTE)!=null){var p=o.create(this.statics.scope);u.wrap(p),p.format(y,c)}},s.prototype.insertAt=function(a,d,y){var c=y==null?o.create("text",d):o.create(d,y),u=this.split(a);this.parent.insertBefore(c,u)},s.prototype.insertInto=function(a,d){d===void 0&&(d=null),this.parent!=null&&this.parent.children.remove(this);var y=null;a.children.insertBefore(this,d),d!=null&&(y=d.domNode),(this.domNode.parentNode!=a.domNode||this.domNode.nextSibling!=y)&&a.domNode.insertBefore(this.domNode,y),this.parent=a,this.attach()},s.prototype.isolate=function(a,d){var y=this.split(a);return y.split(d),y},s.prototype.length=function(){return 1},s.prototype.offset=function(a){return a===void 0&&(a=this.parent),this.parent==null||this==a?0:this.parent.children.offset(this)+this.parent.offset(a)},s.prototype.optimize=function(a){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},s.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},s.prototype.replace=function(a){a.parent!=null&&(a.parent.insertBefore(this,a.next),a.remove())},s.prototype.replaceWith=function(a,d){var y=typeof a=="string"?o.create(a,d):a;return y.replace(this),y},s.prototype.split=function(a,d){return a===0?this:this.next},s.prototype.update=function(a,d){},s.prototype.wrap=function(a,d){var y=typeof a=="string"?o.create(a,d):a;return this.parent!=null&&this.parent.insertBefore(y,this.next),y.appendChild(this),y},s.blotName="abstract",s}();r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),l=i(32),s=i(33),a=i(1),d=function(){function y(c){this.attributes={},this.domNode=c,this.build()}return y.prototype.attribute=function(c,u){u?c.add(this.domNode,u)&&(c.value(this.domNode)!=null?this.attributes[c.attrName]=c:delete this.attributes[c.attrName]):(c.remove(this.domNode),delete this.attributes[c.attrName])},y.prototype.build=function(){var c=this;this.attributes={};var u=o.default.keys(this.domNode),p=l.default.keys(this.domNode),_=s.default.keys(this.domNode);u.concat(p).concat(_).forEach(function(g){var E=a.query(g,a.Scope.ATTRIBUTE);E instanceof o.default&&(c.attributes[E.attrName]=E)})},y.prototype.copy=function(c){var u=this;Object.keys(this.attributes).forEach(function(p){var _=u.attributes[p].value(u.domNode);c.format(p,_)})},y.prototype.move=function(c){var u=this;this.copy(c),Object.keys(this.attributes).forEach(function(p){u.attributes[p].remove(u.domNode)}),this.attributes={}},y.prototype.values=function(){var c=this;return Object.keys(this.attributes).reduce(function(u,p){return u[p]=c.attributes[p].value(c.domNode),u},{})},y}();r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,c){y.__proto__=c}||function(y,c){for(var u in c)c.hasOwnProperty(u)&&(y[u]=c[u])};return function(y,c){d(y,c);function u(){this.constructor=y}y.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(12);function s(d,y){var c=d.getAttribute("class")||"";return c.split(/\s+/).filter(function(u){return u.indexOf(y+"-")===0})}var a=function(d){o(y,d);function y(){return d!==null&&d.apply(this,arguments)||this}return y.keys=function(c){return(c.getAttribute("class")||"").split(/\s+/).map(function(u){return u.split("-").slice(0,-1).join("-")})},y.prototype.add=function(c,u){return this.canAdd(c,u)?(this.remove(c),c.classList.add(this.keyName+"-"+u),!0):!1},y.prototype.remove=function(c){var u=s(c,this.keyName);u.forEach(function(p){c.classList.remove(p)}),c.classList.length===0&&c.removeAttribute("class")},y.prototype.value=function(c){var u=s(c,this.keyName)[0]||"",p=u.slice(this.keyName.length+1);return this.canAdd(c,p)?p:""},y}(l.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,c){y.__proto__=c}||function(y,c){for(var u in c)c.hasOwnProperty(u)&&(y[u]=c[u])};return function(y,c){d(y,c);function u(){this.constructor=y}y.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(12);function s(d){var y=d.split("-"),c=y.slice(1).map(function(u){return u[0].toUpperCase()+u.slice(1)}).join("");return y[0]+c}var a=function(d){o(y,d);function y(){return d!==null&&d.apply(this,arguments)||this}return y.keys=function(c){return(c.getAttribute("style")||"").split(";").map(function(u){var p=u.split(":");return p[0].trim()})},y.prototype.add=function(c,u){return this.canAdd(c,u)?(c.style[s(this.keyName)]=u,!0):!1},y.prototype.remove=function(c){c.style[s(this.keyName)]="",c.getAttribute("style")||c.removeAttribute("style")},y.prototype.value=function(c){var u=c.style[s(this.keyName)];return this.canAdd(c,u)?u:""},y}(l.default);r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function a(d,y){for(var c=0;c<y.length;c++){var u=y[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(d,u.key,u)}}return function(d,y,c){return y&&a(d.prototype,y),c&&a(d,c),d}}();function l(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")}var s=function(){function a(d,y){l(this,a),this.quill=d,this.options=y,this.modules={}}return o(a,[{key:"init",value:function(){var y=this;Object.keys(this.options.modules).forEach(function(c){y.modules[c]==null&&y.addModule(c)})}},{key:"addModule",value:function(y){var c=this.quill.constructor.import("modules/"+y);return this.modules[y]=new c(this.quill,this.options.modules[y]||{}),this.modules[y]}}]),a}();s.DEFAULTS={modules:{}},s.themes={default:s},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function h(f,m){for(var v=0;v<m.length;v++){var w=m[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}return function(f,m,v){return m&&h(f.prototype,m),v&&h(f,v),f}}(),l=function h(f,m,v){f===null&&(f=Function.prototype);var w=Object.getOwnPropertyDescriptor(f,m);if(w===void 0){var N=Object.getPrototypeOf(f);return N===null?void 0:h(N,m,v)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(v)}},s=i(0),a=c(s),d=i(7),y=c(d);function c(h){return h&&h.__esModule?h:{default:h}}function u(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function p(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function _(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var g="\uFEFF",E=function(h){_(f,h);function f(m){u(this,f);var v=p(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,m));return v.contentNode=document.createElement("span"),v.contentNode.setAttribute("contenteditable",!1),[].slice.call(v.domNode.childNodes).forEach(function(w){v.contentNode.appendChild(w)}),v.leftGuard=document.createTextNode(g),v.rightGuard=document.createTextNode(g),v.domNode.appendChild(v.leftGuard),v.domNode.appendChild(v.contentNode),v.domNode.appendChild(v.rightGuard),v}return o(f,[{key:"index",value:function(v,w){return v===this.leftGuard?0:v===this.rightGuard?1:l(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"index",this).call(this,v,w)}},{key:"restore",value:function(v){var w=void 0,N=void 0,S=v.data.split(g).join("");if(v===this.leftGuard)if(this.prev instanceof y.default){var k=this.prev.length();this.prev.insertAt(k,S),w={startNode:this.prev.domNode,startOffset:k+S.length}}else N=document.createTextNode(S),this.parent.insertBefore(a.default.create(N),this),w={startNode:N,startOffset:S.length};else v===this.rightGuard&&(this.next instanceof y.default?(this.next.insertAt(0,S),w={startNode:this.next.domNode,startOffset:S.length}):(N=document.createTextNode(S),this.parent.insertBefore(a.default.create(N),this.next),w={startNode:N,startOffset:S.length}));return v.data=g,w}},{key:"update",value:function(v,w){var N=this;v.forEach(function(S){if(S.type==="characterData"&&(S.target===N.leftGuard||S.target===N.rightGuard)){var k=N.restore(S.target);k&&(w.range=k)}})}}]),f}(a.default.Embed);r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),l=s(o);function s(u){return u&&u.__esModule?u:{default:u}}var a={scope:l.default.Scope.BLOCK,whitelist:["right","center","justify"]},d=new l.default.Attributor.Attribute("align","align",a),y=new l.default.Attributor.Class("align","ql-align",a),c=new l.default.Attributor.Style("align","text-align",a);r.AlignAttribute=d,r.AlignClass=y,r.AlignStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),l=a(o),s=i(26);function a(c){return c&&c.__esModule?c:{default:c}}var d=new l.default.Attributor.Class("background","ql-bg",{scope:l.default.Scope.INLINE}),y=new s.ColorAttributor("background","background-color",{scope:l.default.Scope.INLINE});r.BackgroundClass=d,r.BackgroundStyle=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),l=s(o);function s(u){return u&&u.__esModule?u:{default:u}}var a={scope:l.default.Scope.BLOCK,whitelist:["rtl"]},d=new l.default.Attributor.Attribute("direction","dir",a),y=new l.default.Attributor.Class("direction","ql-direction",a),c=new l.default.Attributor.Style("direction","direction",a);r.DirectionAttribute=d,r.DirectionClass=y,r.DirectionStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function h(f,m){for(var v=0;v<m.length;v++){var w=m[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}return function(f,m,v){return m&&h(f.prototype,m),v&&h(f,v),f}}(),l=function h(f,m,v){f===null&&(f=Function.prototype);var w=Object.getOwnPropertyDescriptor(f,m);if(w===void 0){var N=Object.getPrototypeOf(f);return N===null?void 0:h(N,m,v)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(v)}},s=i(0),a=d(s);function d(h){return h&&h.__esModule?h:{default:h}}function y(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function c(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:h}function u(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(h,f):h.__proto__=f)}var p={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},_=new a.default.Attributor.Class("font","ql-font",p),g=function(h){u(f,h);function f(){return y(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return o(f,[{key:"value",value:function(v){return l(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"value",this).call(this,v).replace(/["']/g,"")}}]),f}(a.default.Attributor.Style),E=new g("font","font-family",p);r.FontStyle=E,r.FontClass=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),l=s(o);function s(y){return y&&y.__esModule?y:{default:y}}var a=new l.default.Attributor.Class("size","ql-size",{scope:l.default.Scope.INLINE,whitelist:["small","large","huge"]}),d=new l.default.Attributor.Style("size","font-size",{scope:l.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=a,r.SizeStyle=d},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function m(v,w){for(var N=0;N<w.length;N++){var S=w[N];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,w,N){return w&&m(v.prototype,w),N&&m(v,N),v}}(),l=i(0),s=u(l),a=i(5),d=u(a),y=i(9),c=u(y);function u(m){return m&&m.__esModule?m:{default:m}}function p(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function _(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function g(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var E=function(m){g(v,m);function v(w,N){p(this,v);var S=_(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w,N));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(d.default.events.EDITOR_CHANGE,function(k,x,O,b){k!==d.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||b===d.default.sources.USER?S.record(x,O):S.transform(x))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return o(v,[{key:"change",value:function(N,S){if(this.stack[N].length!==0){var k=this.stack[N].pop();this.stack[S].push(k),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(k[N],d.default.sources.USER),this.ignoreChange=!1;var x=f(k[N]);this.quill.setSelection(x)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(N,S){if(N.ops.length!==0){this.stack.redo=[];var k=this.quill.getContents().diff(S),x=Date.now();if(this.lastRecorded+this.options.delay>x&&this.stack.undo.length>0){var O=this.stack.undo.pop();k=k.compose(O.undo),N=O.redo.compose(N)}else this.lastRecorded=x;this.stack.undo.push({redo:N,undo:k}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(N){this.stack.undo.forEach(function(S){S.undo=N.transform(S.undo,!0),S.redo=N.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=N.transform(S.undo,!0),S.redo=N.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),v}(c.default);E.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function h(m){var v=m.ops[m.ops.length-1];return v==null?!1:v.insert!=null?typeof v.insert=="string"&&v.insert.endsWith(`
`):v.attributes!=null?Object.keys(v.attributes).some(function(w){return s.default.query(w,s.default.Scope.BLOCK)!=null}):!1}function f(m){var v=m.reduce(function(N,S){return N+=S.delete||0,N},0),w=m.length()-v;return h(m)&&(w-=1),w}r.default=E,r.getLastChangeIndex=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function R(D,$){for(var B=0;B<$.length;B++){var I=$[B];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(D,I.key,I)}}return function(D,$,B){return $&&R(D.prototype,$),B&&R(D,B),D}}(),l=function R(D,$,B){D===null&&(D=Function.prototype);var I=Object.getOwnPropertyDescriptor(D,$);if(I===void 0){var F=Object.getPrototypeOf(D);return F===null?void 0:R(F,$,B)}else{if("value"in I)return I.value;var H=I.get;return H===void 0?void 0:H.call(B)}},s=i(3),a=x(s),d=i(2),y=x(d),c=i(8),u=x(c),p=i(23),_=x(p),g=i(34),E=x(g),h=i(59),f=x(h),m=i(60),v=x(m),w=i(28),N=x(w),S=i(61),k=x(S);function x(R){return R&&R.__esModule?R:{default:R}}function O(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}function b(R,D){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:R}function T(R,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(R,D):R.__proto__=D)}var A=[!1,"center","right","justify"],P=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],M=[!1,"serif","monospace"],q=["1","2","3",!1],U=["small",!1,"large","huge"],z=function(R){T(D,R);function D($,B){O(this,D);var I=b(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,$,B)),F=function H(W){if(!document.body.contains($.root))return document.body.removeEventListener("click",H);I.tooltip!=null&&!I.tooltip.root.contains(W.target)&&document.activeElement!==I.tooltip.textbox&&!I.quill.hasFocus()&&I.tooltip.hide(),I.pickers!=null&&I.pickers.forEach(function(G){G.container.contains(W.target)||G.close()})};return $.emitter.listenDOM("click",document.body,F),I}return o(D,[{key:"addModule",value:function(B){var I=l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"addModule",this).call(this,B);return B==="toolbar"&&this.extendToolbar(I),I}},{key:"buildButtons",value:function(B,I){B.forEach(function(F){var H=F.getAttribute("class")||"";H.split(/\s+/).forEach(function(W){if(W.startsWith("ql-")&&(W=W.slice(3),I[W]!=null))if(W==="direction")F.innerHTML=I[W][""]+I[W].rtl;else if(typeof I[W]=="string")F.innerHTML=I[W];else{var G=F.value||"";G!=null&&I[W][G]&&(F.innerHTML=I[W][G])}})})}},{key:"buildPickers",value:function(B,I){var F=this;this.pickers=B.map(function(W){if(W.classList.contains("ql-align"))return W.querySelector("option")==null&&C(W,A),new v.default(W,I.align);if(W.classList.contains("ql-background")||W.classList.contains("ql-color")){var G=W.classList.contains("ql-background")?"background":"color";return W.querySelector("option")==null&&C(W,P,G==="background"?"#ffffff":"#000000"),new f.default(W,I[G])}else return W.querySelector("option")==null&&(W.classList.contains("ql-font")?C(W,M):W.classList.contains("ql-header")?C(W,q):W.classList.contains("ql-size")&&C(W,U)),new N.default(W)});var H=function(){F.pickers.forEach(function(G){G.update()})};this.quill.on(u.default.events.EDITOR_CHANGE,H)}}]),D}(E.default);z.DEFAULTS=(0,a.default)(!0,{},E.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var D=this,$=this.container.querySelector("input.ql-image[type=file]");$==null&&($=document.createElement("input"),$.setAttribute("type","file"),$.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),$.classList.add("ql-image"),$.addEventListener("change",function(){if($.files!=null&&$.files[0]!=null){var B=new FileReader;B.onload=function(I){var F=D.quill.getSelection(!0);D.quill.updateContents(new y.default().retain(F.index).delete(F.length).insert({image:I.target.result}),u.default.sources.USER),D.quill.setSelection(F.index+1,u.default.sources.SILENT),$.value=""},B.readAsDataURL($.files[0])}}),this.container.appendChild($)),$.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var j=function(R){T(D,R);function D($,B){O(this,D);var I=b(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,$,B));return I.textbox=I.root.querySelector('input[type="text"]'),I.listen(),I}return o(D,[{key:"listen",value:function(){var B=this;this.textbox.addEventListener("keydown",function(I){_.default.match(I,"enter")?(B.save(),I.preventDefault()):_.default.match(I,"escape")&&(B.cancel(),I.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),I!=null?this.textbox.value=I:B!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+B)||""),this.root.setAttribute("data-mode",B)}},{key:"restoreFocus",value:function(){var B=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=B}},{key:"save",value:function(){var B=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var I=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",B,u.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",B,u.default.sources.USER)),this.quill.root.scrollTop=I;break}case"video":B=L(B);case"formula":{if(!B)break;var F=this.quill.getSelection(!0);if(F!=null){var H=F.index+F.length;this.quill.insertEmbed(H,this.root.getAttribute("data-mode"),B,u.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(H+1," ",u.default.sources.USER),this.quill.setSelection(H+2,u.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),D}(k.default);function L(R){var D=R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return D?(D[1]||"https")+"://www.youtube.com/embed/"+D[2]+"?showinfo=0":(D=R.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(D[1]||"https")+"://player.vimeo.com/video/"+D[2]+"/":R}function C(R,D){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;D.forEach(function(B){var I=document.createElement("option");B===$?I.setAttribute("selected","selected"):I.setAttribute("value",B),R.appendChild(I)})}r.BaseTooltip=j,r.default=z},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(){this.head=this.tail=null,this.length=0}return l.prototype.append=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];this.insertBefore(s[0],null),s.length>1&&this.append.apply(this,s.slice(1))},l.prototype.contains=function(s){for(var a,d=this.iterator();a=d();)if(a===s)return!0;return!1},l.prototype.insertBefore=function(s,a){s&&(s.next=a,a!=null?(s.prev=a.prev,a.prev!=null&&(a.prev.next=s),a.prev=s,a===this.head&&(this.head=s)):this.tail!=null?(this.tail.next=s,s.prev=this.tail,this.tail=s):(s.prev=null,this.head=this.tail=s),this.length+=1)},l.prototype.offset=function(s){for(var a=0,d=this.head;d!=null;){if(d===s)return a;a+=d.length(),d=d.next}return-1},l.prototype.remove=function(s){this.contains(s)&&(s.prev!=null&&(s.prev.next=s.next),s.next!=null&&(s.next.prev=s.prev),s===this.head&&(this.head=s.next),s===this.tail&&(this.tail=s.prev),this.length-=1)},l.prototype.iterator=function(s){return s===void 0&&(s=this.head),function(){var a=s;return s!=null&&(s=s.next),a}},l.prototype.find=function(s,a){a===void 0&&(a=!1);for(var d,y=this.iterator();d=y();){var c=d.length();if(s<c||a&&s===c&&(d.next==null||d.next.length()!==0))return[d,s];s-=c}return[null,0]},l.prototype.forEach=function(s){for(var a,d=this.iterator();a=d();)s(a)},l.prototype.forEachAt=function(s,a,d){if(!(a<=0))for(var y=this.find(s),c=y[0],u=y[1],p,_=s-u,g=this.iterator(c);(p=g())&&_<s+a;){var E=p.length();s>_?d(p,s-_,Math.min(a,_+E-s)):d(p,0,Math.min(E,s+a-_)),_+=E}},l.prototype.map=function(s){return this.reduce(function(a,d){return a.push(s(d)),a},[])},l.prototype.reduce=function(s,a){for(var d,y=this.iterator();d=y();)a=s(a,d);return a},l}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var _ in p)p.hasOwnProperty(_)&&(u[_]=p[_])};return function(u,p){c(u,p);function _(){this.constructor=u}u.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(17),s=i(1),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},d=100,y=function(c){o(u,c);function u(p){var _=c.call(this,p)||this;return _.scroll=_,_.observer=new MutationObserver(function(g){_.update(g)}),_.observer.observe(_.domNode,a),_.attach(),_}return u.prototype.detach=function(){c.prototype.detach.call(this),this.observer.disconnect()},u.prototype.deleteAt=function(p,_){this.update(),p===0&&_===this.length()?this.children.forEach(function(g){g.remove()}):c.prototype.deleteAt.call(this,p,_)},u.prototype.formatAt=function(p,_,g,E){this.update(),c.prototype.formatAt.call(this,p,_,g,E)},u.prototype.insertAt=function(p,_,g){this.update(),c.prototype.insertAt.call(this,p,_,g)},u.prototype.optimize=function(p,_){var g=this;p===void 0&&(p=[]),_===void 0&&(_={}),c.prototype.optimize.call(this,_);for(var E=[].slice.call(this.observer.takeRecords());E.length>0;)p.push(E.pop());for(var h=function(w,N){N===void 0&&(N=!0),!(w==null||w===g)&&w.domNode.parentNode!=null&&(w.domNode[s.DATA_KEY].mutations==null&&(w.domNode[s.DATA_KEY].mutations=[]),N&&h(w.parent))},f=function(w){w.domNode[s.DATA_KEY]==null||w.domNode[s.DATA_KEY].mutations==null||(w instanceof l.default&&w.children.forEach(f),w.optimize(_))},m=p,v=0;m.length>0;v+=1){if(v>=d)throw new Error("[Parchment] Maximum optimize iterations reached");for(m.forEach(function(w){var N=s.find(w.target,!0);N!=null&&(N.domNode===w.target&&(w.type==="childList"?(h(s.find(w.previousSibling,!1)),[].forEach.call(w.addedNodes,function(S){var k=s.find(S,!1);h(k,!1),k instanceof l.default&&k.children.forEach(function(x){h(x,!1)})})):w.type==="attributes"&&h(N.prev)),h(N))}),this.children.forEach(f),m=[].slice.call(this.observer.takeRecords()),E=m.slice();E.length>0;)p.push(E.pop())}},u.prototype.update=function(p,_){var g=this;_===void 0&&(_={}),p=p||this.observer.takeRecords(),p.map(function(E){var h=s.find(E.target,!0);return h==null?null:h.domNode[s.DATA_KEY].mutations==null?(h.domNode[s.DATA_KEY].mutations=[E],h):(h.domNode[s.DATA_KEY].mutations.push(E),null)}).forEach(function(E){E==null||E===g||E.domNode[s.DATA_KEY]==null||E.update(E.domNode[s.DATA_KEY].mutations||[],_)}),this.domNode[s.DATA_KEY].mutations!=null&&c.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,_),this.optimize(p,_)},u.blotName="scroll",u.defaultChild="block",u.scope=s.Scope.BLOCK_BLOT,u.tagName="DIV",u}(l.default);r.default=y},function(n,r,i){var o=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var p in u)u.hasOwnProperty(p)&&(c[p]=u[p])};return function(c,u){y(c,u);function p(){this.constructor=c}c.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(18),s=i(1);function a(y,c){if(Object.keys(y).length!==Object.keys(c).length)return!1;for(var u in y)if(y[u]!==c[u])return!1;return!0}var d=function(y){o(c,y);function c(){return y!==null&&y.apply(this,arguments)||this}return c.formats=function(u){if(u.tagName!==c.tagName)return y.formats.call(this,u)},c.prototype.format=function(u,p){var _=this;u===this.statics.blotName&&!p?(this.children.forEach(function(g){g instanceof l.default||(g=g.wrap(c.blotName,!0)),_.attributes.copy(g)}),this.unwrap()):y.prototype.format.call(this,u,p)},c.prototype.formatAt=function(u,p,_,g){if(this.formats()[_]!=null||s.query(_,s.Scope.ATTRIBUTE)){var E=this.isolate(u,p);E.format(_,g)}else y.prototype.formatAt.call(this,u,p,_,g)},c.prototype.optimize=function(u){y.prototype.optimize.call(this,u);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var _=this.next;_ instanceof c&&_.prev===this&&a(p,_.formats())&&(_.moveChildren(this),_.remove())},c.blotName="inline",c.scope=s.Scope.INLINE_BLOT,c.tagName="SPAN",c}(l.default);r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,c){y.__proto__=c}||function(y,c){for(var u in c)c.hasOwnProperty(u)&&(y[u]=c[u])};return function(y,c){d(y,c);function u(){this.constructor=y}y.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(18),s=i(1),a=function(d){o(y,d);function y(){return d!==null&&d.apply(this,arguments)||this}return y.formats=function(c){var u=s.query(y.blotName).tagName;if(c.tagName!==u)return d.formats.call(this,c)},y.prototype.format=function(c,u){s.query(c,s.Scope.BLOCK)!=null&&(c===this.statics.blotName&&!u?this.replaceWith(y.blotName):d.prototype.format.call(this,c,u))},y.prototype.formatAt=function(c,u,p,_){s.query(p,s.Scope.BLOCK)!=null?this.format(p,_):d.prototype.formatAt.call(this,c,u,p,_)},y.prototype.insertAt=function(c,u,p){if(p==null||s.query(u,s.Scope.INLINE)!=null)d.prototype.insertAt.call(this,c,u,p);else{var _=this.split(c),g=s.create(u,p);_.parent.insertBefore(g,_)}},y.prototype.update=function(c,u){navigator.userAgent.match(/Trident/)?this.build():d.prototype.update.call(this,c,u)},y.blotName="block",y.scope=s.Scope.BLOCK_BLOT,y.tagName="P",y}(l.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var c in y)y.hasOwnProperty(c)&&(d[c]=y[c])};return function(d,y){a(d,y);function c(){this.constructor=d}d.prototype=y===null?Object.create(y):(c.prototype=y.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(19),s=function(a){o(d,a);function d(){return a!==null&&a.apply(this,arguments)||this}return d.formats=function(y){},d.prototype.format=function(y,c){a.prototype.formatAt.call(this,0,this.length(),y,c)},d.prototype.formatAt=function(y,c,u,p){y===0&&c===this.length()?this.format(u,p):a.prototype.formatAt.call(this,y,c,u,p)},d.prototype.formats=function(){return this.statics.formats(this.domNode)},d}(l.default);r.default=s},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,c){y.__proto__=c}||function(y,c){for(var u in c)c.hasOwnProperty(u)&&(y[u]=c[u])};return function(y,c){d(y,c);function u(){this.constructor=y}y.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var l=i(19),s=i(1),a=function(d){o(y,d);function y(c){var u=d.call(this,c)||this;return u.text=u.statics.value(u.domNode),u}return y.create=function(c){return document.createTextNode(c)},y.value=function(c){var u=c.data;return u.normalize&&(u=u.normalize()),u},y.prototype.deleteAt=function(c,u){this.domNode.data=this.text=this.text.slice(0,c)+this.text.slice(c+u)},y.prototype.index=function(c,u){return this.domNode===c?u:-1},y.prototype.insertAt=function(c,u,p){p==null?(this.text=this.text.slice(0,c)+u+this.text.slice(c),this.domNode.data=this.text):d.prototype.insertAt.call(this,c,u,p)},y.prototype.length=function(){return this.text.length},y.prototype.optimize=function(c){d.prototype.optimize.call(this,c),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof y&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},y.prototype.position=function(c,u){return[this.domNode,c]},y.prototype.split=function(c,u){if(u===void 0&&(u=!1),!u){if(c===0)return this;if(c===this.length())return this.next}var p=s.create(this.domNode.splitText(c));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},y.prototype.update=function(c,u){var p=this;c.some(function(_){return _.type==="characterData"&&_.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},y.prototype.value=function(){return this.text},y.blotName="text",y.scope=s.Scope.INLINE_BLOT,y}(l.default);r.default=a},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var l=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(s,a){return arguments.length>1&&!this.contains(s)==!a?a:l.call(this,s)}}String.prototype.startsWith||(String.prototype.startsWith=function(s,a){return a=a||0,this.substr(a,s.length)===s}),String.prototype.endsWith||(String.prototype.endsWith=function(s,a){var d=this.toString();(typeof a!="number"||!isFinite(a)||Math.floor(a)!==a||a>d.length)&&(a=d.length),a-=s.length;var y=d.indexOf(s,a);return y!==-1&&y===a}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(a){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof a!="function")throw new TypeError("predicate must be a function");for(var d=Object(this),y=d.length>>>0,c=arguments[1],u,p=0;p<y;p++)if(u=d[p],a.call(c,u,p,d))return u}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,l=0;function s(v,w,N){if(v==w)return v?[[l,v]]:[];(N<0||v.length<N)&&(N=null);var S=c(v,w),k=v.substring(0,S);v=v.substring(S),w=w.substring(S),S=u(v,w);var x=v.substring(v.length-S);v=v.substring(0,v.length-S),w=w.substring(0,w.length-S);var O=a(v,w);return k&&O.unshift([l,k]),x&&O.push([l,x]),_(O),N!=null&&(O=h(O,N)),O=f(O),O}function a(v,w){var N;if(!v)return[[o,w]];if(!w)return[[i,v]];var S=v.length>w.length?v:w,k=v.length>w.length?w:v,x=S.indexOf(k);if(x!=-1)return N=[[o,S.substring(0,x)],[l,k],[o,S.substring(x+k.length)]],v.length>w.length&&(N[0][0]=N[2][0]=i),N;if(k.length==1)return[[i,v],[o,w]];var O=p(v,w);if(O){var b=O[0],T=O[1],A=O[2],P=O[3],M=O[4],q=s(b,A),U=s(T,P);return q.concat([[l,M]],U)}return d(v,w)}function d(v,w){for(var N=v.length,S=w.length,k=Math.ceil((N+S)/2),x=k,O=2*k,b=new Array(O),T=new Array(O),A=0;A<O;A++)b[A]=-1,T[A]=-1;b[x+1]=0,T[x+1]=0;for(var P=N-S,M=P%2!=0,q=0,U=0,z=0,j=0,L=0;L<k;L++){for(var C=-L+q;C<=L-U;C+=2){var R=x+C,D;C==-L||C!=L&&b[R-1]<b[R+1]?D=b[R+1]:D=b[R-1]+1;for(var $=D-C;D<N&&$<S&&v.charAt(D)==w.charAt($);)D++,$++;if(b[R]=D,D>N)U+=2;else if($>S)q+=2;else if(M){var B=x+P-C;if(B>=0&&B<O&&T[B]!=-1){var I=N-T[B];if(D>=I)return y(v,w,D,$)}}}for(var F=-L+z;F<=L-j;F+=2){var B=x+F,I;F==-L||F!=L&&T[B-1]<T[B+1]?I=T[B+1]:I=T[B-1]+1;for(var H=I-F;I<N&&H<S&&v.charAt(N-I-1)==w.charAt(S-H-1);)I++,H++;if(T[B]=I,I>N)j+=2;else if(H>S)z+=2;else if(!M){var R=x+P-F;if(R>=0&&R<O&&b[R]!=-1){var D=b[R],$=x+D-R;if(I=N-I,D>=I)return y(v,w,D,$)}}}}return[[i,v],[o,w]]}function y(v,w,N,S){var k=v.substring(0,N),x=w.substring(0,S),O=v.substring(N),b=w.substring(S),T=s(k,x),A=s(O,b);return T.concat(A)}function c(v,w){if(!v||!w||v.charAt(0)!=w.charAt(0))return 0;for(var N=0,S=Math.min(v.length,w.length),k=S,x=0;N<k;)v.substring(x,k)==w.substring(x,k)?(N=k,x=N):S=k,k=Math.floor((S-N)/2+N);return k}function u(v,w){if(!v||!w||v.charAt(v.length-1)!=w.charAt(w.length-1))return 0;for(var N=0,S=Math.min(v.length,w.length),k=S,x=0;N<k;)v.substring(v.length-k,v.length-x)==w.substring(w.length-k,w.length-x)?(N=k,x=N):S=k,k=Math.floor((S-N)/2+N);return k}function p(v,w){var N=v.length>w.length?v:w,S=v.length>w.length?w:v;if(N.length<4||S.length*2<N.length)return null;function k(U,z,j){for(var L=U.substring(j,j+Math.floor(U.length/4)),C=-1,R="",D,$,B,I;(C=z.indexOf(L,C+1))!=-1;){var F=c(U.substring(j),z.substring(C)),H=u(U.substring(0,j),z.substring(0,C));R.length<H+F&&(R=z.substring(C-H,C)+z.substring(C,C+F),D=U.substring(0,j-H),$=U.substring(j+F),B=z.substring(0,C-H),I=z.substring(C+F))}return R.length*2>=U.length?[D,$,B,I,R]:null}var x=k(N,S,Math.ceil(N.length/4)),O=k(N,S,Math.ceil(N.length/2)),b;if(!x&&!O)return null;O?x?b=x[4].length>O[4].length?x:O:b=O:b=x;var T,A,P,M;v.length>w.length?(T=b[0],A=b[1],P=b[2],M=b[3]):(P=b[0],M=b[1],T=b[2],A=b[3]);var q=b[4];return[T,A,P,M,q]}function _(v){v.push([l,""]);for(var w=0,N=0,S=0,k="",x="",O;w<v.length;)switch(v[w][0]){case o:S++,x+=v[w][1],w++;break;case i:N++,k+=v[w][1],w++;break;case l:N+S>1?(N!==0&&S!==0&&(O=c(x,k),O!==0&&(w-N-S>0&&v[w-N-S-1][0]==l?v[w-N-S-1][1]+=x.substring(0,O):(v.splice(0,0,[l,x.substring(0,O)]),w++),x=x.substring(O),k=k.substring(O)),O=u(x,k),O!==0&&(v[w][1]=x.substring(x.length-O)+v[w][1],x=x.substring(0,x.length-O),k=k.substring(0,k.length-O))),N===0?v.splice(w-S,N+S,[o,x]):S===0?v.splice(w-N,N+S,[i,k]):v.splice(w-N-S,N+S,[i,k],[o,x]),w=w-N-S+(N?1:0)+(S?1:0)+1):w!==0&&v[w-1][0]==l?(v[w-1][1]+=v[w][1],v.splice(w,1)):w++,S=0,N=0,k="",x="";break}v[v.length-1][1]===""&&v.pop();var b=!1;for(w=1;w<v.length-1;)v[w-1][0]==l&&v[w+1][0]==l&&(v[w][1].substring(v[w][1].length-v[w-1][1].length)==v[w-1][1]?(v[w][1]=v[w-1][1]+v[w][1].substring(0,v[w][1].length-v[w-1][1].length),v[w+1][1]=v[w-1][1]+v[w+1][1],v.splice(w-1,1),b=!0):v[w][1].substring(0,v[w+1][1].length)==v[w+1][1]&&(v[w-1][1]+=v[w+1][1],v[w][1]=v[w][1].substring(v[w+1][1].length)+v[w+1][1],v.splice(w+1,1),b=!0)),w++;b&&_(v)}var g=s;g.INSERT=o,g.DELETE=i,g.EQUAL=l,n.exports=g;function E(v,w){if(w===0)return[l,v];for(var N=0,S=0;S<v.length;S++){var k=v[S];if(k[0]===i||k[0]===l){var x=N+k[1].length;if(w===x)return[S+1,v];if(w<x){v=v.slice();var O=w-N,b=[k[0],k[1].slice(0,O)],T=[k[0],k[1].slice(O)];return v.splice(S,1,b,T),[S+1,v]}else N=x}}throw new Error("cursor_pos is out of bounds!")}function h(v,w){var N=E(v,w),S=N[1],k=N[0],x=S[k],O=S[k+1];if(x==null)return v;if(x[0]!==l)return v;if(O!=null&&x[1]+O[1]===O[1]+x[1])return S.splice(k,2,O,x),m(S,k,2);if(O!=null&&O[1].indexOf(x[1])===0){S.splice(k,2,[O[0],x[1]],[0,x[1]]);var b=O[1].slice(x[1].length);return b.length>0&&S.splice(k+2,0,[O[0],b]),m(S,k,3)}else return v}function f(v){for(var w=!1,N=function(O){return O.charCodeAt(0)>=56320&&O.charCodeAt(0)<=57343},S=function(O){return O.charCodeAt(O.length-1)>=55296&&O.charCodeAt(O.length-1)<=56319},k=2;k<v.length;k+=1)v[k-2][0]===l&&S(v[k-2][1])&&v[k-1][0]===i&&N(v[k-1][1])&&v[k][0]===o&&N(v[k][1])&&(w=!0,v[k-1][1]=v[k-2][1].slice(-1)+v[k-1][1],v[k][1]=v[k-2][1].slice(-1)+v[k][1],v[k-2][1]=v[k-2][1].slice(0,-1));if(!w)return v;for(var x=[],k=0;k<v.length;k+=1)v[k][1].length>0&&x.push(v[k]);return x}function m(v,w,N){for(var S=w+N-1;S>=0&&S>=w-1;S--)if(S+1<v.length){var k=v[S],x=v[S+1];k[0]===x[1]&&v.splice(S,2,[k[0],k[1]+x[1]])}return v}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var l=[];for(var s in o)l.push(s);return l}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:l,r.supported=o;function o(s){return Object.prototype.toString.call(s)=="[object Arguments]"}r.unsupported=l;function l(s){return s&&typeof s=="object"&&typeof s.length=="number"&&Object.prototype.hasOwnProperty.call(s,"callee")&&!Object.prototype.propertyIsEnumerable.call(s,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(o=!1));function s(d,y,c){this.fn=d,this.context=y,this.once=c||!1}function a(){this._events=new l,this._eventsCount=0}a.prototype.eventNames=function(){var y=[],c,u;if(this._eventsCount===0)return y;for(u in c=this._events)i.call(c,u)&&y.push(o?u.slice(1):u);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(c)):y},a.prototype.listeners=function(y,c){var u=o?o+y:y,p=this._events[u];if(c)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var _=0,g=p.length,E=new Array(g);_<g;_++)E[_]=p[_].fn;return E},a.prototype.emit=function(y,c,u,p,_,g){var E=o?o+y:y;if(!this._events[E])return!1;var h=this._events[E],f=arguments.length,m,v;if(h.fn){switch(h.once&&this.removeListener(y,h.fn,void 0,!0),f){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,c),!0;case 3:return h.fn.call(h.context,c,u),!0;case 4:return h.fn.call(h.context,c,u,p),!0;case 5:return h.fn.call(h.context,c,u,p,_),!0;case 6:return h.fn.call(h.context,c,u,p,_,g),!0}for(v=1,m=new Array(f-1);v<f;v++)m[v-1]=arguments[v];h.fn.apply(h.context,m)}else{var w=h.length,N;for(v=0;v<w;v++)switch(h[v].once&&this.removeListener(y,h[v].fn,void 0,!0),f){case 1:h[v].fn.call(h[v].context);break;case 2:h[v].fn.call(h[v].context,c);break;case 3:h[v].fn.call(h[v].context,c,u);break;case 4:h[v].fn.call(h[v].context,c,u,p);break;default:if(!m)for(N=1,m=new Array(f-1);N<f;N++)m[N-1]=arguments[N];h[v].fn.apply(h[v].context,m)}}return!0},a.prototype.on=function(y,c,u){var p=new s(c,u||this),_=o?o+y:y;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],p]:this._events[_].push(p):(this._events[_]=p,this._eventsCount++),this},a.prototype.once=function(y,c,u){var p=new s(c,u||this,!0),_=o?o+y:y;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],p]:this._events[_].push(p):(this._events[_]=p,this._eventsCount++),this},a.prototype.removeListener=function(y,c,u,p){var _=o?o+y:y;if(!this._events[_])return this;if(!c)return--this._eventsCount===0?this._events=new l:delete this._events[_],this;var g=this._events[_];if(g.fn)g.fn===c&&(!p||g.once)&&(!u||g.context===u)&&(--this._eventsCount===0?this._events=new l:delete this._events[_]);else{for(var E=0,h=[],f=g.length;E<f;E++)(g[E].fn!==c||p&&!g[E].once||u&&g[E].context!==u)&&h.push(g[E]);h.length?this._events[_]=h.length===1?h[0]:h:--this._eventsCount===0?this._events=new l:delete this._events[_]}return this},a.prototype.removeAllListeners=function(y){var c;return y?(c=o?o+y:y,this._events[c]&&(--this._eventsCount===0?this._events=new l:delete this._events[c])):(this._events=new l,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=o,a.EventEmitter=a,typeof n<"u"&&(n.exports=a)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},l=function(){function V(K,Z){var J=[],Q=!0,oe=!1,le=void 0;try{for(var se=K[Symbol.iterator](),_t;!(Q=(_t=se.next()).done)&&(J.push(_t.value),!(Z&&J.length===Z));Q=!0);}catch(Vt){oe=!0,le=Vt}finally{try{!Q&&se.return&&se.return()}finally{if(oe)throw le}}return J}return function(K,Z){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return V(K,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function V(K,Z){for(var J=0;J<Z.length;J++){var Q=Z[J];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(K,Q.key,Q)}}return function(K,Z,J){return Z&&V(K.prototype,Z),J&&V(K,J),K}}(),a=i(3),d=T(a),y=i(2),c=T(y),u=i(0),p=T(u),_=i(5),g=T(_),E=i(10),h=T(E),f=i(9),m=T(f),v=i(36),w=i(37),N=i(13),S=T(N),k=i(26),x=i(38),O=i(39),b=i(40);function T(V){return V&&V.__esModule?V:{default:V}}function A(V,K,Z){return K in V?Object.defineProperty(V,K,{value:Z,enumerable:!0,configurable:!0,writable:!0}):V[K]=Z,V}function P(V,K){if(!(V instanceof K))throw new TypeError("Cannot call a class as a function")}function M(V,K){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:V}function q(V,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);V.prototype=Object.create(K&&K.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(V,K):V.__proto__=K)}var U=(0,h.default)("quill:clipboard"),z="__ql-matcher",j=[[Node.TEXT_NODE,De],[Node.TEXT_NODE,ce],["br",te],[Node.ELEMENT_NODE,ce],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,ve],[Node.ELEMENT_NODE,W],[Node.ELEMENT_NODE,it],["li",ie],["b",H.bind(H,"bold")],["i",H.bind(H,"italic")],["style",re]],L=[v.AlignAttribute,x.DirectionAttribute].reduce(function(V,K){return V[K.keyName]=K,V},{}),C=[v.AlignStyle,w.BackgroundStyle,k.ColorStyle,x.DirectionStyle,O.FontStyle,b.SizeStyle].reduce(function(V,K){return V[K.keyName]=K,V},{}),R=function(V){q(K,V);function K(Z,J){P(this,K);var Q=M(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,Z,J));return Q.quill.root.addEventListener("paste",Q.onPaste.bind(Q)),Q.container=Q.quill.addContainer("ql-clipboard"),Q.container.setAttribute("contenteditable",!0),Q.container.setAttribute("tabindex",-1),Q.matchers=[],j.concat(Q.options.matchers).forEach(function(oe){var le=l(oe,2),se=le[0],_t=le[1];!J.matchVisual&&_t===ve||Q.addMatcher(se,_t)}),Q}return s(K,[{key:"addMatcher",value:function(J,Q){this.matchers.push([J,Q])}},{key:"convert",value:function(J){if(typeof J=="string")return this.container.innerHTML=J.replace(/\>\r?\n +\</g,"><"),this.convert();var Q=this.quill.getFormat(this.quill.selection.savedRange.index);if(Q[S.default.blotName]){var oe=this.container.innerText;return this.container.innerHTML="",new c.default().insert(oe,A({},S.default.blotName,Q[S.default.blotName]))}var le=this.prepareMatching(),se=l(le,2),_t=se[0],Vt=se[1],Ne=F(this.container,_t,Vt);return B(Ne,`
`)&&Ne.ops[Ne.ops.length-1].attributes==null&&(Ne=Ne.compose(new c.default().retain(Ne.length()-1).delete(1))),U.log("convert",this.container.innerHTML,Ne),this.container.innerHTML="",Ne}},{key:"dangerouslyPasteHTML",value:function(J,Q){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof J=="string")this.quill.setContents(this.convert(J),Q),this.quill.setSelection(0,g.default.sources.SILENT);else{var le=this.convert(Q);this.quill.updateContents(new c.default().retain(J).concat(le),oe),this.quill.setSelection(J+le.length(),g.default.sources.SILENT)}}},{key:"onPaste",value:function(J){var Q=this;if(!(J.defaultPrevented||!this.quill.isEnabled())){var oe=this.quill.getSelection(),le=new c.default().retain(oe.index),se=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(g.default.sources.SILENT),setTimeout(function(){le=le.concat(Q.convert()).delete(oe.length),Q.quill.updateContents(le,g.default.sources.USER),Q.quill.setSelection(le.length()-oe.length,g.default.sources.SILENT),Q.quill.scrollingContainer.scrollTop=se,Q.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var J=this,Q=[],oe=[];return this.matchers.forEach(function(le){var se=l(le,2),_t=se[0],Vt=se[1];switch(_t){case Node.TEXT_NODE:oe.push(Vt);break;case Node.ELEMENT_NODE:Q.push(Vt);break;default:[].forEach.call(J.container.querySelectorAll(_t),function(Ne){Ne[z]=Ne[z]||[],Ne[z].push(Vt)});break}}),[Q,oe]}}]),K}(m.default);R.DEFAULTS={matchers:[],matchVisual:!0};function D(V,K,Z){return(typeof K>"u"?"undefined":o(K))==="object"?Object.keys(K).reduce(function(J,Q){return D(J,Q,K[Q])},V):V.reduce(function(J,Q){return Q.attributes&&Q.attributes[K]?J.push(Q):J.insert(Q.insert,(0,d.default)({},A({},K,Z),Q.attributes))},new c.default)}function $(V){if(V.nodeType!==Node.ELEMENT_NODE)return{};var K="__ql-computed-style";return V[K]||(V[K]=window.getComputedStyle(V))}function B(V,K){for(var Z="",J=V.ops.length-1;J>=0&&Z.length<K.length;--J){var Q=V.ops[J];if(typeof Q.insert!="string")break;Z=Q.insert+Z}return Z.slice(-1*K.length)===K}function I(V){if(V.childNodes.length===0)return!1;var K=$(V);return["block","list-item"].indexOf(K.display)>-1}function F(V,K,Z){return V.nodeType===V.TEXT_NODE?Z.reduce(function(J,Q){return Q(V,J)},new c.default):V.nodeType===V.ELEMENT_NODE?[].reduce.call(V.childNodes||[],function(J,Q){var oe=F(Q,K,Z);return Q.nodeType===V.ELEMENT_NODE&&(oe=K.reduce(function(le,se){return se(Q,le)},oe),oe=(Q[z]||[]).reduce(function(le,se){return se(Q,le)},oe)),J.concat(oe)},new c.default):new c.default}function H(V,K,Z){return D(Z,V,!0)}function W(V,K){var Z=p.default.Attributor.Attribute.keys(V),J=p.default.Attributor.Class.keys(V),Q=p.default.Attributor.Style.keys(V),oe={};return Z.concat(J).concat(Q).forEach(function(le){var se=p.default.query(le,p.default.Scope.ATTRIBUTE);se!=null&&(oe[se.attrName]=se.value(V),oe[se.attrName])||(se=L[le],se!=null&&(se.attrName===le||se.keyName===le)&&(oe[se.attrName]=se.value(V)||void 0),se=C[le],se!=null&&(se.attrName===le||se.keyName===le)&&(se=C[le],oe[se.attrName]=se.value(V)||void 0))}),Object.keys(oe).length>0&&(K=D(K,oe)),K}function G(V,K){var Z=p.default.query(V);if(Z==null)return K;if(Z.prototype instanceof p.default.Embed){var J={},Q=Z.value(V);Q!=null&&(J[Z.blotName]=Q,K=new c.default().insert(J,Z.formats(V)))}else typeof Z.formats=="function"&&(K=D(K,Z.blotName,Z.formats(V)));return K}function te(V,K){return B(K,`
`)||K.insert(`
`),K}function re(){return new c.default}function ie(V,K){var Z=p.default.query(V);if(Z==null||Z.blotName!=="list-item"||!B(K,`
`))return K;for(var J=-1,Q=V.parentNode;!Q.classList.contains("ql-clipboard");)(p.default.query(Q)||{}).blotName==="list"&&(J+=1),Q=Q.parentNode;return J<=0?K:K.compose(new c.default().retain(K.length()-1).retain(1,{indent:J}))}function ce(V,K){return B(K,`
`)||(I(V)||K.length()>0&&V.nextSibling&&I(V.nextSibling))&&K.insert(`
`),K}function ve(V,K){if(I(V)&&V.nextElementSibling!=null&&!B(K,`

`)){var Z=V.offsetHeight+parseFloat($(V).marginTop)+parseFloat($(V).marginBottom);V.nextElementSibling.offsetTop>V.offsetTop+Z*1.5&&K.insert(`
`)}return K}function it(V,K){var Z={},J=V.style||{};return J.fontStyle&&$(V).fontStyle==="italic"&&(Z.italic=!0),J.fontWeight&&($(V).fontWeight.startsWith("bold")||parseInt($(V).fontWeight)>=700)&&(Z.bold=!0),Object.keys(Z).length>0&&(K=D(K,Z)),parseFloat(J.textIndent||0)>0&&(K=new c.default().insert("	").concat(K)),K}function De(V,K){var Z=V.data;if(V.parentNode.tagName==="O:P")return K.insert(Z.trim());if(Z.trim().length===0&&V.parentNode.classList.contains("ql-clipboard"))return K;if(!$(V.parentNode).whiteSpace.startsWith("pre")){var J=function(oe,le){return le=le.replace(/[^\u00a0]/g,""),le.length<1&&oe?" ":le};Z=Z.replace(/\r\n/g," ").replace(/\n/g," "),Z=Z.replace(/\s\s+/g,J.bind(J,!0)),(V.previousSibling==null&&I(V.parentNode)||V.previousSibling!=null&&I(V.previousSibling))&&(Z=Z.replace(/^\s+/,J.bind(J,!1))),(V.nextSibling==null&&I(V.parentNode)||V.nextSibling!=null&&I(V.nextSibling))&&(Z=Z.replace(/\s+$/,J.bind(J,!1)))}return K.insert(Z)}r.default=R,r.matchAttributor=W,r.matchBlot=G,r.matchNewline=ce,r.matchSpacing=ve,r.matchText=De},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(g,E){for(var h=0;h<E.length;h++){var f=E[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(g,f.key,f)}}return function(g,E,h){return E&&_(g.prototype,E),h&&_(g,h),g}}(),l=function _(g,E,h){g===null&&(g=Function.prototype);var f=Object.getOwnPropertyDescriptor(g,E);if(f===void 0){var m=Object.getPrototypeOf(g);return m===null?void 0:_(m,E,h)}else{if("value"in f)return f.value;var v=f.get;return v===void 0?void 0:v.call(h)}},s=i(6),a=d(s);function d(_){return _&&_.__esModule?_:{default:_}}function y(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function c(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function u(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var p=function(_){u(g,_);function g(){return y(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"optimize",value:function(h){l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,h),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return l(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),g}(a.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function b(T,A){var P=[],M=!0,q=!1,U=void 0;try{for(var z=T[Symbol.iterator](),j;!(M=(j=z.next()).done)&&(P.push(j.value),!(A&&P.length===A));M=!0);}catch(L){q=!0,U=L}finally{try{!M&&z.return&&z.return()}finally{if(q)throw U}}return P}return function(T,A){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return b(T,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function b(T,A){for(var P=0;P<A.length;P++){var M=A[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}return function(T,A,P){return A&&b(T.prototype,A),P&&b(T,P),T}}(),s=i(2),a=h(s),d=i(0),y=h(d),c=i(5),u=h(c),p=i(10),_=h(p),g=i(9),E=h(g);function h(b){return b&&b.__esModule?b:{default:b}}function f(b,T,A){return T in b?Object.defineProperty(b,T,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[T]=A,b}function m(b,T){if(!(b instanceof T))throw new TypeError("Cannot call a class as a function")}function v(b,T){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:b}function w(b,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);b.prototype=Object.create(T&&T.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(b,T):b.__proto__=T)}var N=(0,_.default)("quill:toolbar"),S=function(b){w(T,b);function T(A,P){m(this,T);var M=v(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A,P));if(Array.isArray(M.options.container)){var q=document.createElement("div");x(q,M.options.container),A.container.parentNode.insertBefore(q,A.container),M.container=q}else typeof M.options.container=="string"?M.container=document.querySelector(M.options.container):M.container=M.options.container;if(!(M.container instanceof HTMLElement)){var U;return U=N.error("Container required for toolbar",M.options),v(M,U)}return M.container.classList.add("ql-toolbar"),M.controls=[],M.handlers={},Object.keys(M.options.handlers).forEach(function(z){M.addHandler(z,M.options.handlers[z])}),[].forEach.call(M.container.querySelectorAll("button, select"),function(z){M.attach(z)}),M.quill.on(u.default.events.EDITOR_CHANGE,function(z,j){z===u.default.events.SELECTION_CHANGE&&M.update(j)}),M.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){var z=M.quill.selection.getRange(),j=o(z,1),L=j[0];M.update(L)}),M}return l(T,[{key:"addHandler",value:function(P,M){this.handlers[P]=M}},{key:"attach",value:function(P){var M=this,q=[].find.call(P.classList,function(z){return z.indexOf("ql-")===0});if(q){if(q=q.slice(3),P.tagName==="BUTTON"&&P.setAttribute("type","button"),this.handlers[q]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[q]==null){N.warn("ignoring attaching to disabled format",q,P);return}if(y.default.query(q)==null){N.warn("ignoring attaching to nonexistent format",q,P);return}}var U=P.tagName==="SELECT"?"change":"click";P.addEventListener(U,function(z){var j=void 0;if(P.tagName==="SELECT"){if(P.selectedIndex<0)return;var L=P.options[P.selectedIndex];L.hasAttribute("selected")?j=!1:j=L.value||!1}else P.classList.contains("ql-active")?j=!1:j=P.value||!P.hasAttribute("value"),z.preventDefault();M.quill.focus();var C=M.quill.selection.getRange(),R=o(C,1),D=R[0];if(M.handlers[q]!=null)M.handlers[q].call(M,j);else if(y.default.query(q).prototype instanceof y.default.Embed){if(j=prompt("Enter "+q),!j)return;M.quill.updateContents(new a.default().retain(D.index).delete(D.length).insert(f({},q,j)),u.default.sources.USER)}else M.quill.format(q,j,u.default.sources.USER);M.update(D)}),this.controls.push([q,P])}}},{key:"update",value:function(P){var M=P==null?{}:this.quill.getFormat(P);this.controls.forEach(function(q){var U=o(q,2),z=U[0],j=U[1];if(j.tagName==="SELECT"){var L=void 0;if(P==null)L=null;else if(M[z]==null)L=j.querySelector("option[selected]");else if(!Array.isArray(M[z])){var C=M[z];typeof C=="string"&&(C=C.replace(/\"/g,'\\"')),L=j.querySelector('option[value="'+C+'"]')}L==null?(j.value="",j.selectedIndex=-1):L.selected=!0}else if(P==null)j.classList.remove("ql-active");else if(j.hasAttribute("value")){var R=M[z]===j.getAttribute("value")||M[z]!=null&&M[z].toString()===j.getAttribute("value")||M[z]==null&&!j.getAttribute("value");j.classList.toggle("ql-active",R)}else j.classList.toggle("ql-active",M[z]!=null)})}}]),T}(E.default);S.DEFAULTS={};function k(b,T,A){var P=document.createElement("button");P.setAttribute("type","button"),P.classList.add("ql-"+T),A!=null&&(P.value=A),b.appendChild(P)}function x(b,T){Array.isArray(T[0])||(T=[T]),T.forEach(function(A){var P=document.createElement("span");P.classList.add("ql-formats"),A.forEach(function(M){if(typeof M=="string")k(P,M);else{var q=Object.keys(M)[0],U=M[q];Array.isArray(U)?O(P,q,U):k(P,q,U)}}),b.appendChild(P)})}function O(b,T,A){var P=document.createElement("select");P.classList.add("ql-"+T),A.forEach(function(M){var q=document.createElement("option");M!==!1?q.setAttribute("value",M):q.setAttribute("selected","selected"),P.appendChild(q)}),b.appendChild(P)}S.DEFAULTS={container:null,handlers:{clean:function(){var T=this,A=this.quill.getSelection();if(A!=null)if(A.length==0){var P=this.quill.getFormat();Object.keys(P).forEach(function(M){y.default.query(M,y.default.Scope.INLINE)!=null&&T.quill.format(M,!1)})}else this.quill.removeFormat(A,u.default.sources.USER)},direction:function(T){var A=this.quill.getFormat().align;T==="rtl"&&A==null?this.quill.format("align","right",u.default.sources.USER):!T&&A==="right"&&this.quill.format("align",!1,u.default.sources.USER),this.quill.format("direction",T,u.default.sources.USER)},indent:function(T){var A=this.quill.getSelection(),P=this.quill.getFormat(A),M=parseInt(P.indent||0);if(T==="+1"||T==="-1"){var q=T==="+1"?1:-1;P.direction==="rtl"&&(q*=-1),this.quill.format("indent",M+q,u.default.sources.USER)}},link:function(T){T===!0&&(T=prompt("Enter link URL:")),this.quill.format("link",T,u.default.sources.USER)},list:function(T){var A=this.quill.getSelection(),P=this.quill.getFormat(A);T==="check"?P.list==="checked"||P.list==="unchecked"?this.quill.format("list",!1,u.default.sources.USER):this.quill.format("list","unchecked",u.default.sources.USER):this.quill.format("list",T,u.default.sources.USER)}}},r.default=S,r.addControls=x},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(g,E){for(var h=0;h<E.length;h++){var f=E[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(g,f.key,f)}}return function(g,E,h){return E&&_(g.prototype,E),h&&_(g,h),g}}(),l=function _(g,E,h){g===null&&(g=Function.prototype);var f=Object.getOwnPropertyDescriptor(g,E);if(f===void 0){var m=Object.getPrototypeOf(g);return m===null?void 0:_(m,E,h)}else{if("value"in f)return f.value;var v=f.get;return v===void 0?void 0:v.call(h)}},s=i(28),a=d(s);function d(_){return _&&_.__esModule?_:{default:_}}function y(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function c(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function u(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var p=function(_){u(g,_);function g(E,h){y(this,g);var f=c(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,E));return f.label.innerHTML=h,f.container.classList.add("ql-color-picker"),[].slice.call(f.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(m){m.classList.add("ql-primary")}),f}return o(g,[{key:"buildItem",value:function(h){var f=l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"buildItem",this).call(this,h);return f.style.backgroundColor=h.getAttribute("value")||"",f}},{key:"selectItem",value:function(h,f){l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,h,f);var m=this.label.querySelector(".ql-color-label"),v=h&&h.getAttribute("data-value")||"";m&&(m.tagName==="line"?m.style.stroke=v:m.style.fill=v)}}]),g}(a.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(g,E){for(var h=0;h<E.length;h++){var f=E[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(g,f.key,f)}}return function(g,E,h){return E&&_(g.prototype,E),h&&_(g,h),g}}(),l=function _(g,E,h){g===null&&(g=Function.prototype);var f=Object.getOwnPropertyDescriptor(g,E);if(f===void 0){var m=Object.getPrototypeOf(g);return m===null?void 0:_(m,E,h)}else{if("value"in f)return f.value;var v=f.get;return v===void 0?void 0:v.call(h)}},s=i(28),a=d(s);function d(_){return _&&_.__esModule?_:{default:_}}function y(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function c(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function u(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var p=function(_){u(g,_);function g(E,h){y(this,g);var f=c(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,E));return f.container.classList.add("ql-icon-picker"),[].forEach.call(f.container.querySelectorAll(".ql-picker-item"),function(m){m.innerHTML=h[m.getAttribute("data-value")||""]}),f.defaultItem=f.container.querySelector(".ql-selected"),f.selectItem(f.defaultItem),f}return o(g,[{key:"selectItem",value:function(h,f){l(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,h,f),h=h||this.defaultItem,this.label.innerHTML=h.innerHTML}}]),g}(a.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function a(d,y){for(var c=0;c<y.length;c++){var u=y[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(d,u.key,u)}}return function(d,y,c){return y&&a(d.prototype,y),c&&a(d,c),d}}();function l(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")}var s=function(){function a(d,y){var c=this;l(this,a),this.quill=d,this.boundsContainer=y||document.body,this.root=d.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){c.root.style.marginTop=-1*c.quill.root.scrollTop+"px"}),this.hide()}return o(a,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(y){var c=y.left+y.width/2-this.root.offsetWidth/2,u=y.bottom+this.quill.root.scrollTop;this.root.style.left=c+"px",this.root.style.top=u+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),_=this.root.getBoundingClientRect(),g=0;if(_.right>p.right&&(g=p.right-_.right,this.root.style.left=c+g+"px"),_.left<p.left&&(g=p.left-_.left,this.root.style.left=c+g+"px"),_.bottom>p.bottom){var E=_.bottom-_.top,h=y.bottom-y.top+E;this.root.style.top=u-h+"px",this.root.classList.add("ql-flip")}return g}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function O(b,T){var A=[],P=!0,M=!1,q=void 0;try{for(var U=b[Symbol.iterator](),z;!(P=(z=U.next()).done)&&(A.push(z.value),!(T&&A.length===T));P=!0);}catch(j){M=!0,q=j}finally{try{!P&&U.return&&U.return()}finally{if(M)throw q}}return A}return function(b,T){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return O(b,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function O(b,T,A){b===null&&(b=Function.prototype);var P=Object.getOwnPropertyDescriptor(b,T);if(P===void 0){var M=Object.getPrototypeOf(b);return M===null?void 0:O(M,T,A)}else{if("value"in P)return P.value;var q=P.get;return q===void 0?void 0:q.call(A)}},s=function(){function O(b,T){for(var A=0;A<T.length;A++){var P=T[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(b,P.key,P)}}return function(b,T,A){return T&&O(b.prototype,T),A&&O(b,A),b}}(),a=i(3),d=m(a),y=i(8),c=m(y),u=i(43),p=m(u),_=i(27),g=m(_),E=i(15),h=i(41),f=m(h);function m(O){return O&&O.__esModule?O:{default:O}}function v(O,b){if(!(O instanceof b))throw new TypeError("Cannot call a class as a function")}function w(O,b){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:O}function N(O,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);O.prototype=Object.create(b&&b.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(O,b):O.__proto__=b)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],k=function(O){N(b,O);function b(T,A){v(this,b),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=S);var P=w(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,T,A));return P.quill.container.classList.add("ql-snow"),P}return s(b,[{key:"extendToolbar",value:function(A){A.container.classList.add("ql-snow"),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),f.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),f.default),this.tooltip=new x(this.quill,this.options.bounds),A.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(P,M){A.handlers.link.call(A,!M.format.link)})}}]),b}(p.default);k.DEFAULTS=(0,d.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(b){if(b){var T=this.quill.getSelection();if(T==null||T.length==0)return;var A=this.quill.getText(T);/^\S+@\S+\.\S+$/.test(A)&&A.indexOf("mailto:")!==0&&(A="mailto:"+A);var P=this.quill.theme.tooltip;P.edit("link",A)}else this.quill.format("link",!1)}}}}});var x=function(O){N(b,O);function b(T,A){v(this,b);var P=w(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,T,A));return P.preview=P.root.querySelector("a.ql-preview"),P}return s(b,[{key:"listen",value:function(){var A=this;l(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(P){A.root.classList.contains("ql-editing")?A.save():A.edit("link",A.preview.textContent),P.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(P){if(A.linkRange!=null){var M=A.linkRange;A.restoreFocus(),A.quill.formatText(M,"link",!1,c.default.sources.USER),delete A.linkRange}P.preventDefault(),A.hide()}),this.quill.on(c.default.events.SELECTION_CHANGE,function(P,M,q){if(P!=null){if(P.length===0&&q===c.default.sources.USER){var U=A.quill.scroll.descendant(g.default,P.index),z=o(U,2),j=z[0],L=z[1];if(j!=null){A.linkRange=new E.Range(P.index-L,j.length());var C=g.default.formats(j.domNode);A.preview.textContent=C,A.preview.setAttribute("href",C),A.show(),A.position(A.quill.getBounds(A.linkRange));return}}else delete A.linkRange;A.hide()}})}},{key:"show",value:function(){l(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),b}(u.BaseTooltip);x.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),l=Q(o),s=i(36),a=i(38),d=i(64),y=i(65),c=Q(y),u=i(66),p=Q(u),_=i(67),g=Q(_),E=i(37),h=i(26),f=i(39),m=i(40),v=i(56),w=Q(v),N=i(68),S=Q(N),k=i(27),x=Q(k),O=i(69),b=Q(O),T=i(70),A=Q(T),P=i(71),M=Q(P),q=i(72),U=Q(q),z=i(73),j=Q(z),L=i(13),C=Q(L),R=i(74),D=Q(R),$=i(75),B=Q($),I=i(57),F=Q(I),H=i(41),W=Q(H),G=i(28),te=Q(G),re=i(59),ie=Q(re),ce=i(60),ve=Q(ce),it=i(61),De=Q(it),V=i(108),K=Q(V),Z=i(62),J=Q(Z);function Q(oe){return oe&&oe.__esModule?oe:{default:oe}}l.default.register({"attributors/attribute/direction":a.DirectionAttribute,"attributors/class/align":s.AlignClass,"attributors/class/background":E.BackgroundClass,"attributors/class/color":h.ColorClass,"attributors/class/direction":a.DirectionClass,"attributors/class/font":f.FontClass,"attributors/class/size":m.SizeClass,"attributors/style/align":s.AlignStyle,"attributors/style/background":E.BackgroundStyle,"attributors/style/color":h.ColorStyle,"attributors/style/direction":a.DirectionStyle,"attributors/style/font":f.FontStyle,"attributors/style/size":m.SizeStyle},!0),l.default.register({"formats/align":s.AlignClass,"formats/direction":a.DirectionClass,"formats/indent":d.IndentClass,"formats/background":E.BackgroundStyle,"formats/color":h.ColorStyle,"formats/font":f.FontClass,"formats/size":m.SizeClass,"formats/blockquote":c.default,"formats/code-block":C.default,"formats/header":p.default,"formats/list":g.default,"formats/bold":w.default,"formats/code":L.Code,"formats/italic":S.default,"formats/link":x.default,"formats/script":b.default,"formats/strike":A.default,"formats/underline":M.default,"formats/image":U.default,"formats/video":j.default,"formats/list/item":_.ListItem,"modules/formula":D.default,"modules/syntax":B.default,"modules/toolbar":F.default,"themes/bubble":K.default,"themes/snow":J.default,"ui/icons":W.default,"ui/picker":te.default,"ui/icon-picker":ve.default,"ui/color-picker":ie.default,"ui/tooltip":De.default},!0),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function g(E,h){for(var f=0;f<h.length;f++){var m=h[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(E,m.key,m)}}return function(E,h,f){return h&&g(E.prototype,h),f&&g(E,f),E}}(),l=function g(E,h,f){E===null&&(E=Function.prototype);var m=Object.getOwnPropertyDescriptor(E,h);if(m===void 0){var v=Object.getPrototypeOf(E);return v===null?void 0:g(v,h,f)}else{if("value"in m)return m.value;var w=m.get;return w===void 0?void 0:w.call(f)}},s=i(0),a=d(s);function d(g){return g&&g.__esModule?g:{default:g}}function y(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")}function c(g,E){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:g}function u(g,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);g.prototype=Object.create(E&&E.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(g,E):g.__proto__=E)}var p=function(g){u(E,g);function E(){return y(this,E),c(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"add",value:function(f,m){if(m==="+1"||m==="-1"){var v=this.value(f)||0;m=m==="+1"?v+1:v-1}return m===0?(this.remove(f),!0):l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"add",this).call(this,f,m)}},{key:"canAdd",value:function(f,m){return l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,f,m)||l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,f,parseInt(m))}},{key:"value",value:function(f){return parseInt(l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,f))||void 0}}]),E}(a.default.Attributor.Class),_=new p("indent","ql-indent",{scope:a.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),l=s(o);function s(u){return u&&u.__esModule?u:{default:u}}function a(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function d(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function y(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var c=function(u){y(p,u);function p(){return a(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(l.default);c.blotName="blockquote",c.tagName="blockquote",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(_,g){for(var E=0;E<g.length;E++){var h=g[E];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(_,h.key,h)}}return function(_,g,E){return g&&p(_.prototype,g),E&&p(_,E),_}}(),l=i(4),s=a(l);function a(p){return p&&p.__esModule?p:{default:p}}function d(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function y(p,_){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:p}function c(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):p.__proto__=_)}var u=function(p){c(_,p);function _(){return d(this,_),y(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,null,[{key:"formats",value:function(E){return this.tagName.indexOf(E.tagName)+1}}]),_}(s.default);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],r.default=u},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function v(w,N){for(var S=0;S<N.length;S++){var k=N[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(w,k.key,k)}}return function(w,N,S){return N&&v(w.prototype,N),S&&v(w,S),w}}(),l=function v(w,N,S){w===null&&(w=Function.prototype);var k=Object.getOwnPropertyDescriptor(w,N);if(k===void 0){var x=Object.getPrototypeOf(w);return x===null?void 0:v(x,N,S)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(S)}},s=i(0),a=p(s),d=i(4),y=p(d),c=i(25),u=p(c);function p(v){return v&&v.__esModule?v:{default:v}}function _(v,w,N){return w in v?Object.defineProperty(v,w,{value:N,enumerable:!0,configurable:!0,writable:!0}):v[w]=N,v}function g(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function E(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function h(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var f=function(v){h(w,v);function w(){return g(this,w),E(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"format",value:function(S,k){S===m.blotName&&!k?this.replaceWith(a.default.create(this.statics.scope)):l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,S,k)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,k){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,k),this):(this.parent.unwrap(),l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,S,k))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:l(w.__proto__||Object.getPrototypeOf(w),"formats",this).call(this,S)}}]),w}(y.default);f.blotName="list-item",f.tagName="LI";var m=function(v){h(w,v),o(w,null,[{key:"create",value:function(S){var k=S==="ordered"?"OL":"UL",x=l(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,k);return(S==="checked"||S==="unchecked")&&x.setAttribute("data-checked",S==="checked"),x}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function w(N){g(this,w);var S=E(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,N)),k=function(O){if(O.target.parentNode===N){var b=S.statics.formats(N),T=a.default.find(O.target);b==="checked"?T.format("list","unchecked"):b==="unchecked"&&T.format("list","checked")}};return N.addEventListener("touchstart",k),N.addEventListener("mousedown",k),S}return o(w,[{key:"format",value:function(S,k){this.children.length>0&&this.children.tail.format(S,k)}},{key:"formats",value:function(){return _({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,k){if(S instanceof f)l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,S,k);else{var x=k==null?this.length():k.offset(this),O=this.split(x);O.parent.insertBefore(S,O)}}},{key:"optimize",value:function(S){l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,S);var k=this.next;k!=null&&k.prev===this&&k.statics.blotName===this.statics.blotName&&k.domNode.tagName===this.domNode.tagName&&k.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(k.moveChildren(this),k.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var k=a.default.create(this.statics.defaultChild);S.moveChildren(k),this.appendChild(k)}l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replace",this).call(this,S)}}]),w}(u.default);m.blotName="list",m.scope=a.default.Scope.BLOCK_BLOT,m.tagName=["OL","UL"],m.defaultChild="list-item",m.allowedChildren=[f],r.ListItem=f,r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),l=s(o);function s(u){return u&&u.__esModule?u:{default:u}}function a(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function d(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function y(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var c=function(u){y(p,u);function p(){return a(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(l.default);c.blotName="italic",c.tagName=["EM","I"],r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(g,E){for(var h=0;h<E.length;h++){var f=E[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(g,f.key,f)}}return function(g,E,h){return E&&_(g.prototype,E),h&&_(g,h),g}}(),l=function _(g,E,h){g===null&&(g=Function.prototype);var f=Object.getOwnPropertyDescriptor(g,E);if(f===void 0){var m=Object.getPrototypeOf(g);return m===null?void 0:_(m,E,h)}else{if("value"in f)return f.value;var v=f.get;return v===void 0?void 0:v.call(h)}},s=i(6),a=d(s);function d(_){return _&&_.__esModule?_:{default:_}}function y(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function c(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function u(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var p=function(_){u(g,_);function g(){return y(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"create",value:function(h){return h==="super"?document.createElement("sup"):h==="sub"?document.createElement("sub"):l(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,h)}},{key:"formats",value:function(h){if(h.tagName==="SUB")return"sub";if(h.tagName==="SUP")return"super"}}]),g}(a.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),l=s(o);function s(u){return u&&u.__esModule?u:{default:u}}function a(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function d(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function y(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var c=function(u){y(p,u);function p(){return a(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(l.default);c.blotName="strike",c.tagName="S",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),l=s(o);function s(u){return u&&u.__esModule?u:{default:u}}function a(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function d(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function y(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var c=function(u){y(p,u);function p(){return a(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(l.default);c.blotName="underline",c.tagName="U",r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(h,f){for(var m=0;m<f.length;m++){var v=f[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,f,m){return f&&E(h.prototype,f),m&&E(h,m),h}}(),l=function E(h,f,m){h===null&&(h=Function.prototype);var v=Object.getOwnPropertyDescriptor(h,f);if(v===void 0){var w=Object.getPrototypeOf(h);return w===null?void 0:E(w,f,m)}else{if("value"in v)return v.value;var N=v.get;return N===void 0?void 0:N.call(m)}},s=i(0),a=y(s),d=i(27);function y(E){return E&&E.__esModule?E:{default:E}}function c(E,h){if(!(E instanceof h))throw new TypeError("Cannot call a class as a function")}function u(E,h){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:E}function p(E,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);E.prototype=Object.create(h&&h.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(E,h):E.__proto__=h)}var _=["alt","height","width"],g=function(E){p(h,E);function h(){return c(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return o(h,[{key:"format",value:function(m,v){_.indexOf(m)>-1?v?this.domNode.setAttribute(m,v):this.domNode.removeAttribute(m):l(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"format",this).call(this,m,v)}}],[{key:"create",value:function(m){var v=l(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,m);return typeof m=="string"&&v.setAttribute("src",this.sanitize(m)),v}},{key:"formats",value:function(m){return _.reduce(function(v,w){return m.hasAttribute(w)&&(v[w]=m.getAttribute(w)),v},{})}},{key:"match",value:function(m){return/\.(jpe?g|gif|png)$/.test(m)||/^data:image\/.+;base64/.test(m)}},{key:"sanitize",value:function(m){return(0,d.sanitize)(m,["http","https","data"])?m:"//:0"}},{key:"value",value:function(m){return m.getAttribute("src")}}]),h}(a.default.Embed);g.blotName="image",g.tagName="IMG",r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(h,f){for(var m=0;m<f.length;m++){var v=f[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,f,m){return f&&E(h.prototype,f),m&&E(h,m),h}}(),l=function E(h,f,m){h===null&&(h=Function.prototype);var v=Object.getOwnPropertyDescriptor(h,f);if(v===void 0){var w=Object.getPrototypeOf(h);return w===null?void 0:E(w,f,m)}else{if("value"in v)return v.value;var N=v.get;return N===void 0?void 0:N.call(m)}},s=i(4),a=i(27),d=y(a);function y(E){return E&&E.__esModule?E:{default:E}}function c(E,h){if(!(E instanceof h))throw new TypeError("Cannot call a class as a function")}function u(E,h){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:E}function p(E,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);E.prototype=Object.create(h&&h.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(E,h):E.__proto__=h)}var _=["height","width"],g=function(E){p(h,E);function h(){return c(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return o(h,[{key:"format",value:function(m,v){_.indexOf(m)>-1?v?this.domNode.setAttribute(m,v):this.domNode.removeAttribute(m):l(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"format",this).call(this,m,v)}}],[{key:"create",value:function(m){var v=l(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,m);return v.setAttribute("frameborder","0"),v.setAttribute("allowfullscreen",!0),v.setAttribute("src",this.sanitize(m)),v}},{key:"formats",value:function(m){return _.reduce(function(v,w){return m.hasAttribute(w)&&(v[w]=m.getAttribute(w)),v},{})}},{key:"sanitize",value:function(m){return d.default.sanitize(m)}},{key:"value",value:function(m){return m.getAttribute("src")}}]),h}(s.BlockEmbed);g.blotName="video",g.className="ql-video",g.tagName="IFRAME",r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function m(v,w){for(var N=0;N<w.length;N++){var S=w[N];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,S.key,S)}}return function(v,w,N){return w&&m(v.prototype,w),N&&m(v,N),v}}(),l=function m(v,w,N){v===null&&(v=Function.prototype);var S=Object.getOwnPropertyDescriptor(v,w);if(S===void 0){var k=Object.getPrototypeOf(v);return k===null?void 0:m(k,w,N)}else{if("value"in S)return S.value;var x=S.get;return x===void 0?void 0:x.call(N)}},s=i(35),a=p(s),d=i(5),y=p(d),c=i(9),u=p(c);function p(m){return m&&m.__esModule?m:{default:m}}function _(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function g(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function E(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var h=function(m){E(v,m);function v(){return _(this,v),g(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"create",value:function(N){var S=l(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,N);return typeof N=="string"&&(window.katex.render(N,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",N)),S}},{key:"value",value:function(N){return N.getAttribute("data-value")}}]),v}(a.default);h.blotName="formula",h.className="ql-formula",h.tagName="SPAN";var f=function(m){E(v,m),o(v,null,[{key:"register",value:function(){y.default.register(h,!0)}}]);function v(){_(this,v);var w=g(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return w}return v}(u.default);r.FormulaBlot=h,r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function N(S,k){for(var x=0;x<k.length;x++){var O=k[x];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}return function(S,k,x){return k&&N(S.prototype,k),x&&N(S,x),S}}(),l=function N(S,k,x){S===null&&(S=Function.prototype);var O=Object.getOwnPropertyDescriptor(S,k);if(O===void 0){var b=Object.getPrototypeOf(S);return b===null?void 0:N(b,k,x)}else{if("value"in O)return O.value;var T=O.get;return T===void 0?void 0:T.call(x)}},s=i(0),a=g(s),d=i(5),y=g(d),c=i(9),u=g(c),p=i(13),_=g(p);function g(N){return N&&N.__esModule?N:{default:N}}function E(N,S){if(!(N instanceof S))throw new TypeError("Cannot call a class as a function")}function h(N,S){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:N}function f(N,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);N.prototype=Object.create(S&&S.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(N,S):N.__proto__=S)}var m=function(N){f(S,N);function S(){return E(this,S),h(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,[{key:"replaceWith",value:function(x){this.domNode.textContent=this.domNode.textContent,this.attach(),l(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,x)}},{key:"highlight",value:function(x){var O=this.domNode.textContent;this.cachedText!==O&&((O.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=x(O),this.domNode.normalize(),this.attach()),this.cachedText=O)}}]),S}(_.default);m.className="ql-syntax";var v=new a.default.Attributor.Class("token","hljs",{scope:a.default.Scope.INLINE}),w=function(N){f(S,N),o(S,null,[{key:"register",value:function(){y.default.register(v,!0),y.default.register(m,!0)}}]);function S(k,x){E(this,S);var O=h(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,k,x));if(typeof O.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var b=null;return O.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(b),b=setTimeout(function(){O.highlight(),b=null},O.options.interval)}),O.highlight(),O}return o(S,[{key:"highlight",value:function(){var x=this;if(!this.quill.selection.composing){this.quill.update(y.default.sources.USER);var O=this.quill.getSelection();this.quill.scroll.descendants(m).forEach(function(b){b.highlight(x.options.highlight)}),this.quill.update(y.default.sources.SILENT),O!=null&&this.quill.setSelection(O,y.default.sources.SILENT)}}}]),S}(u.default);w.DEFAULTS={highlight:function(){return window.hljs==null?null:function(N){var S=window.hljs.highlightAuto(N);return S.value}}(),interval:1e3},r.CodeBlock=m,r.CodeToken=v,r.default=w},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function S(k,x,O){k===null&&(k=Function.prototype);var b=Object.getOwnPropertyDescriptor(k,x);if(b===void 0){var T=Object.getPrototypeOf(k);return T===null?void 0:S(T,x,O)}else{if("value"in b)return b.value;var A=b.get;return A===void 0?void 0:A.call(O)}},l=function(){function S(k,x){for(var O=0;O<x.length;O++){var b=x[O];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(k,b.key,b)}}return function(k,x,O){return x&&S(k.prototype,x),O&&S(k,O),k}}(),s=i(3),a=E(s),d=i(8),y=E(d),c=i(43),u=E(c),p=i(15),_=i(41),g=E(_);function E(S){return S&&S.__esModule?S:{default:S}}function h(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function f(S,k){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:S}function m(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(S,k):S.__proto__=k)}var v=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],w=function(S){m(k,S);function k(x,O){h(this,k),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=v);var b=f(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,x,O));return b.quill.container.classList.add("ql-bubble"),b}return l(k,[{key:"extendToolbar",value:function(O){this.tooltip=new N(this.quill,this.options.bounds),this.tooltip.root.appendChild(O.container),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),g.default)}}]),k}(u.default);w.DEFAULTS=(0,a.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){k?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var N=function(S){m(k,S);function k(x,O){h(this,k);var b=f(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,x,O));return b.quill.on(y.default.events.EDITOR_CHANGE,function(T,A,P,M){if(T===y.default.events.SELECTION_CHANGE)if(A!=null&&A.length>0&&M===y.default.sources.USER){b.show(),b.root.style.left="0px",b.root.style.width="",b.root.style.width=b.root.offsetWidth+"px";var q=b.quill.getLines(A.index,A.length);if(q.length===1)b.position(b.quill.getBounds(A));else{var U=q[q.length-1],z=b.quill.getIndex(U),j=Math.min(U.length()-1,A.index+A.length-z),L=b.quill.getBounds(new p.Range(z,j));b.position(L)}}else document.activeElement!==b.textbox&&b.quill.hasFocus()&&b.hide()}),b}return l(k,[{key:"listen",value:function(){var O=this;o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){O.root.classList.remove("ql-editing")}),this.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!O.root.classList.contains("ql-hidden")){var b=O.quill.getSelection();b!=null&&O.position(O.quill.getBounds(b))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(O){var b=o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"position",this).call(this,O),T=this.root.querySelector(".ql-tooltip-arrow");if(T.style.marginLeft="",b===0)return b;T.style.marginLeft=-1*b-T.offsetWidth/2+"px"}}]),k}(c.BaseTooltip);N.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=N,r.default=w},function(n,r,i){n.exports=i(63)}]).default})})(Em);var HC=Em.exports,WC=ht&&ht.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cl=ht&&ht.__assign||function(){return Cl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Cl.apply(this,arguments)},VC=ht&&ht.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],l=0,s=o.length;l<s;l++,i++)r[i]=o[l];return r},os=ht&&ht.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},qt=os(xt),KC=os(Ov),vi=os(zC),uh=os(HC),GC=function(t){WC(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,l,s,a){var d,y,c,u;o==="text-change"?(y=(d=r).onEditorChangeText)===null||y===void 0||y.call(d,r.editor.root.innerHTML,l,a,r.unprivilegedEditor):o==="selection-change"&&((u=(c=r).onEditorChangeSelection)===null||u===void 0||u.call(c,l,a,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(qt.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(qt.default.Children.count(n.children)){var i=qt.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var l=this.getEditorContents(),s=(o=n.value,o??"");this.isEqualValue(s,l)||this.setEditorContents(this.editor,s)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),VC(this.cleanProps,this.dirtyProps).some(function(a){return!vi.default(n[a],i.props[a])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!vi.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),l=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:l},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var s=this.regenerationSnapshot,o=s.delta,a=s.selection;delete this.regenerationSnapshot,this.instantiateEditor();var d=this.editor;d.setContents(o),ch(function(){return i.setEditorSelection(d,a)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new uh.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?vi.default(n.ops,r.ops):vi.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),ch(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=KC.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,l=this.state.generation,s={key:l,ref:function(a){n.editingArea=a}};return qt.default.Children.count(i)?qt.default.cloneElement(qt.default.Children.only(i),s):o?qt.default.createElement("pre",Cl({},s)):qt.default.createElement("div",Cl({},s))},e.prototype.render=function(){var n;return qt.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var l,s;if(this.editor){var a=this.isDelta(this.value)?o.getContents():o.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=a,(s=(l=this.props).onChange)===null||s===void 0||s.call(l,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,l,s,a,d,y;if(this.editor){var c=this.getEditorSelection(),u=!c&&n,p=c&&!n;vi.default(n,c)||(this.selection=n,(l=(o=this.props).onChangeSelection)===null||l===void 0||l.call(o,n,r,i),u?(a=(s=this.props).onFocus)===null||a===void 0||a.call(s,n,r,i):p&&((y=(d=this.props).onBlur)===null||y===void 0||y.call(d,c,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=uh.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(qt.default.Component);function ch(t){Promise.resolve().then(t)}var QC=GC;const YC=fh(QC);const Vs=(t,e)=>{let n=!1;switch(t){case"email":n=/\S+@\S+\.\S+/.test(e);break;case"text":n=typeof e=="string"&&e.trim()!=="";break;case"price":n=!isNaN(e)&&e>0;break;default:throw new Error(`Tipo de validación no soportado: ${t}`)}return n},XC=()=>{const[t,e]=xt.useState(""),[n,r]=xt.useState("Matemáticas"),[i,o]=xt.useState(""),[l,s]=xt.useState(""),[a,d]=xt.useState(""),[y,c]=xt.useState({}),[u,p]=xt.useState(!1),_=1e3,g=S=>{e(S)},E=S=>{r(S.target.value)},h=S=>{o(S.target.value)},f=S=>{s(S.target.value)},m=S=>{d(S.target.value)},v=async(S,k,x,O,b,T)=>{const A=eS(Jw(vS,"dudas"));await om(A,{titulo:S,duda:k,email:x,materia:O,metodo:b,recompensa:T}),p(!0)},w=()=>{let S={},k=!0;return Vs("text",l)||(S.titulo="* El título es requerido",k=!1),Vs("email",i)||(S.email="* El email no es válido",k=!1),Vs("text",t)||(S.content="* El contenido de la duda es requerido",k=!1),c(S),k},N=S=>{S.preventDefault(),w()&&v(l,t,i,n,a,_),console.log(y)};return ne.jsxs("div",{className:"container-fluid p-0",style:{background:"#CCCCCC",minHeight:"100vh"},children:[ne.jsx("div",{className:"row col-md-12 bg-white m-0",children:ne.jsx("div",{className:"image-container m-0 p-0 ",children:ne.jsx("img",{src:yS,alt:""})})}),ne.jsxs("div",{className:"card card-responsive p-4 mt-2 col-md-10 mx-auto",children:[ne.jsx("div",{className:"text-center mb-4",children:ne.jsx("h4",{className:"fs-1 font-bold",children:"Publicar Duda"})}),ne.jsxs("form",{onSubmit:N,children:[ne.jsxs("div",{className:"",children:[!!y&&ne.jsx("p",{children:y.email}),!!y&&ne.jsx("p",{children:y.titulo}),!!y&&ne.jsx("p",{children:y.content})]}),ne.jsxs("div",{className:"mb-3",children:[ne.jsx("label",{htmlFor:"titulo",className:`form-label ${y.titulo&&"text-danger fw-bolder"}`,children:"Título"}),ne.jsx("input",{type:"text",className:"form-control",id:"titulo",placeholder:"Ingresa el título de tu duda",value:l,onChange:f})]}),ne.jsxs("div",{className:"mb-3",children:[ne.jsx("label",{htmlFor:"email",className:`form-label ${y.email&&"text-danger fw-bolder"}`,children:"email"}),ne.jsx("input",{type:"text",className:"form-control",id:"email",placeholder:"Ingresa tu email",value:i,onChange:h})]}),ne.jsxs("div",{className:"mb-3",children:[ne.jsx("label",{htmlFor:"duda",className:`form-label ${y.content&&"text-danger fw-bolder"}`,children:"Duda"}),ne.jsx(YC,{value:t,onChange:g})]}),ne.jsxs("div",{className:"mb-3",children:[ne.jsx("label",{htmlFor:"subject",children:"Selecciona una materia:"}),ne.jsxs("select",{id:"subject",className:"form-control",value:n,onChange:E,children:[ne.jsx("option",{value:"Matemáticas",children:"Matemáticas"}),ne.jsx("option",{value:"Ciencias",children:"Ciencias"}),ne.jsx("option",{value:"Finanzas",children:"Finanzas"}),ne.jsx("option",{value:"Programación",children:"Programación"})]})]}),ne.jsxs("div",{className:"mb-3",children:[ne.jsx("p",{children:"Método"}),ne.jsxs("div",{className:"btn-group",role:"group","aria-label":"Basic radio toggle button group",children:[ne.jsx("input",{type:"radio",className:"btn-check",name:"btnradio",id:"btnradio1",value:"Video",onChange:m,autoComplete:"off",defaultChecked:!0}),ne.jsx("label",{className:"btn btn-outline-primary",htmlFor:"btnradio1",children:"Video"}),ne.jsx("input",{type:"radio",className:"btn-check",name:"btnradio",id:"btnradio2",value:"Escrito",onChange:m,autoComplete:"off"}),ne.jsx("label",{className:"btn btn-outline-primary",htmlFor:"btnradio2",children:"Escrito"})]})]}),ne.jsxs("div",{className:"mb-3",children:[ne.jsx("label",{htmlFor:"coins",className:"form-label",children:"Recompensa:"}),ne.jsx("input",{id:"coins",type:"text",className:"form-control",value:_.toLocaleString("es-CL",{style:"currency",currency:"CLP"}),readOnly:!0})]}),u?ne.jsxs("form",{name:"rec20108_btn1",method:"post",action:"https://www.webpay.cl/backpub/external/form-pay",children:[ne.jsx("input",{type:"hidden",name:"idFormulario",value:"197168"}),ne.jsx("input",{type:"hidden",name:"monto",value:"100"}),ne.jsx("input",{type:"image",title:"Imagen",name:"button1",src:"https://www.webpay.cl/assets/img/boton_webpaycl.svg",value:"Boton 1"})]}):ne.jsx("button",{type:"submit",className:"btn btn-primary",children:"Publicar"})]})]})]})};function ZC(){return ne.jsx(XC,{})}Ks.createRoot(document.getElementById("root")).render(ne.jsx(jm.StrictMode,{children:ne.jsx(ZC,{})}));
